var Lx=Object.defineProperty;var Ix=(e,t,n)=>t in e?Lx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var oe=(e,t,n)=>(Ix(e,typeof t!="symbol"?t+"":t,n),n);function _x(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Fx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bp={exports:{}},wa={},Cp={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi=Symbol.for("react.element"),Ux=Symbol.for("react.portal"),Ox=Symbol.for("react.fragment"),Vx=Symbol.for("react.strict_mode"),zx=Symbol.for("react.profiler"),Bx=Symbol.for("react.provider"),$x=Symbol.for("react.context"),Wx=Symbol.for("react.forward_ref"),Yx=Symbol.for("react.suspense"),Hx=Symbol.for("react.memo"),Gx=Symbol.for("react.lazy"),Fd=Symbol.iterator;function Kx(e){return e===null||typeof e!="object"?null:(e=Fd&&e[Fd]||e["@@iterator"],typeof e=="function"?e:null)}var Np={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tp=Object.assign,Pp={};function cs(e,t,n){this.props=e,this.context=t,this.refs=Pp,this.updater=n||Np}cs.prototype.isReactComponent={};cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ep(){}Ep.prototype=cs.prototype;function iu(e,t,n){this.props=e,this.context=t,this.refs=Pp,this.updater=n||Np}var ou=iu.prototype=new Ep;ou.constructor=iu;Tp(ou,cs.prototype);ou.isPureReactComponent=!0;var Ud=Array.isArray,Ap=Object.prototype.hasOwnProperty,au={current:null},Mp={key:!0,ref:!0,__self:!0,__source:!0};function Rp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ap.call(t,r)&&!Mp.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Pi,type:e,key:i,ref:o,props:s,_owner:au.current}}function qx(e,t){return{$$typeof:Pi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pi}function Jx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Od=/\/+/g;function Ha(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jx(""+e.key):t.toString(36)}function No(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pi:case Ux:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ha(o,0):r,Ud(s)?(n="",e!=null&&(n=e.replace(Od,"$&/")+"/"),No(s,t,n,"",function(u){return u})):s!=null&&(lu(s)&&(s=qx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Od,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ud(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Ha(i,l);o+=No(i,t,n,c,s)}else if(c=Kx(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Ha(i,l++),o+=No(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ro(e,t,n){if(e==null)return e;var r=[],s=0;return No(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Qx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},To={transition:null},Xx={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:To,ReactCurrentOwner:au};function Dp(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:ro,forEach:function(e,t,n){ro(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ro(e,function(){t++}),t},toArray:function(e){return ro(e,function(t){return t})||[]},only:function(e){if(!lu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=cs;H.Fragment=Ox;H.Profiler=zx;H.PureComponent=iu;H.StrictMode=Vx;H.Suspense=Yx;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xx;H.act=Dp;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=au.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ap.call(t,c)&&!Mp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Pi,type:e.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(e){return e={$$typeof:$x,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bx,_context:e},e.Consumer=e};H.createElement=Rp;H.createFactory=function(e){var t=Rp.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Wx,render:e}};H.isValidElement=lu;H.lazy=function(e){return{$$typeof:Gx,_payload:{_status:-1,_result:e},_init:Qx}};H.memo=function(e,t){return{$$typeof:Hx,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=To.transition;To.transition={};try{e()}finally{To.transition=t}};H.unstable_act=Dp;H.useCallback=function(e,t){return Be.current.useCallback(e,t)};H.useContext=function(e){return Be.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};H.useEffect=function(e,t){return Be.current.useEffect(e,t)};H.useId=function(){return Be.current.useId()};H.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Be.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};H.useRef=function(e){return Be.current.useRef(e)};H.useState=function(e){return Be.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Be.current.useTransition()};H.version="18.3.1";Cp.exports=H;var y=Cp.exports;const Lp=Fx(y),Zx=_x({__proto__:null,default:Lp},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=y,tv=Symbol.for("react.element"),nv=Symbol.for("react.fragment"),rv=Object.prototype.hasOwnProperty,sv=ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iv={key:!0,ref:!0,__self:!0,__source:!0};function Ip(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)rv.call(t,r)&&!iv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:tv,type:e,key:i,ref:o,props:s,_owner:sv.current}}wa.Fragment=nv;wa.jsx=Ip;wa.jsxs=Ip;bp.exports=wa;var a=bp.exports,Fl={},_p={exports:{}},it={},Fp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,O){var z=D.length;D.push(O);e:for(;0<z;){var Z=z-1>>>1,ce=D[Z];if(0<s(ce,O))D[Z]=O,D[z]=ce,z=Z;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var O=D[0],z=D.pop();if(z!==O){D[0]=z;e:for(var Z=0,ce=D.length,Xe=ce>>>1;Z<Xe;){var wt=2*(Z+1)-1,at=D[wt],je=wt+1,Mt=D[je];if(0>s(at,z))je<ce&&0>s(Mt,at)?(D[Z]=Mt,D[je]=z,Z=je):(D[Z]=at,D[wt]=z,Z=wt);else if(je<ce&&0>s(Mt,z))D[Z]=Mt,D[je]=z,Z=je;else break e}}return O}function s(D,O){var z=D.sortIndex-O.sortIndex;return z!==0?z:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,x=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=D)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function b(D){if(S=!1,g(D),!w)if(n(c)!==null)w=!0,sn(C);else{var O=n(u);O!==null&&X(b,O.startTime-D)}}function C(D,O){w=!1,S&&(S=!1,m(N),N=-1),x=!0;var z=f;try{for(g(O),h=n(c);h!==null&&(!(h.expirationTime>O)||D&&!K());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var ce=Z(h.expirationTime<=O);O=e.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(c)&&r(c),g(O)}else r(c);h=n(c)}if(h!==null)var Xe=!0;else{var wt=n(u);wt!==null&&X(b,wt.startTime-O),Xe=!1}return Xe}finally{h=null,f=z,x=!1}}var P=!1,A=null,N=-1,F=5,_=-1;function K(){return!(e.unstable_now()-_<F)}function We(){if(A!==null){var D=e.unstable_now();_=D;var O=!0;try{O=A(!0,D)}finally{O?Re():(P=!1,A=null)}}else P=!1}var Re;if(typeof p=="function")Re=function(){p(We)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,$t=vt.port2;vt.port1.onmessage=We,Re=function(){$t.postMessage(null)}}else Re=function(){k(We,0)};function sn(D){A=D,P||(P=!0,Re())}function X(D,O){N=k(function(){D(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,sn(C))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var z=f;f=O;try{return D()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=f;f=D;try{return O()}finally{f=z}},e.unstable_scheduleCallback=function(D,O,z){var Z=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Z+z:Z):z=Z,D){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=z+ce,D={id:d++,callback:O,priorityLevel:D,startTime:z,expirationTime:ce,sortIndex:-1},z>Z?(D.sortIndex=z,t(u,D),n(c)===null&&D===n(u)&&(S?(m(N),N=-1):S=!0,X(b,z-Z))):(D.sortIndex=ce,t(c,D),w||x||(w=!0,sn(C))),D},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(D){var O=f;return function(){var z=f;f=O;try{return D.apply(this,arguments)}finally{f=z}}}})(Up);Fp.exports=Up;var ov=Fp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=y,st=ov;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Op=new Set,ri={};function vr(e,t){es(e,t),es(e+"Capture",t)}function es(e,t){for(ri[e]=t,e=0;e<t.length;e++)Op.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ul=Object.prototype.hasOwnProperty,lv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vd={},zd={};function cv(e){return Ul.call(zd,e)?!0:Ul.call(Vd,e)?!1:lv.test(e)?zd[e]=!0:(Vd[e]=!0,!1)}function uv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dv(e,t,n,r){if(t===null||typeof t>"u"||uv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var cu=/[\-:]([a-z])/g;function uu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cu,uu);Me[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cu,uu);Me[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cu,uu);Me[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function du(e,t,n,r){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dv(t,n,s,r)&&(n=null),r||s===null?cv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var rn=av.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,so=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),hu=Symbol.for("react.strict_mode"),Ol=Symbol.for("react.profiler"),Vp=Symbol.for("react.provider"),zp=Symbol.for("react.context"),fu=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),zl=Symbol.for("react.suspense_list"),pu=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),Bp=Symbol.for("react.offscreen"),Bd=Symbol.iterator;function Ts(e){return e===null||typeof e!="object"?null:(e=Bd&&e[Bd]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,Ga;function Fs(e){if(Ga===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ga=t&&t[1]||""}return`
`+Ga+e}var Ka=!1;function qa(e,t){if(!e||Ka)return"";Ka=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ka=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fs(e):""}function hv(e){switch(e.tag){case 5:return Fs(e.type);case 16:return Fs("Lazy");case 13:return Fs("Suspense");case 19:return Fs("SuspenseList");case 0:case 2:case 15:return e=qa(e.type,!1),e;case 11:return e=qa(e.type.render,!1),e;case 1:return e=qa(e.type,!0),e;default:return""}}function Bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Er:return"Portal";case Ol:return"Profiler";case hu:return"StrictMode";case Vl:return"Suspense";case zl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zp:return(e.displayName||"Context")+".Consumer";case Vp:return(e._context.displayName||"Context")+".Provider";case fu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pu:return t=e.displayName||null,t!==null?t:Bl(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return Bl(e(t))}catch{}}return null}function fv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bl(t);case 8:return t===hu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function En(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $p(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pv(e){var t=$p(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function io(e){e._valueTracker||(e._valueTracker=pv(e))}function Wp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$p(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $l(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $d(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=En(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yp(e,t){t=t.checked,t!=null&&du(e,"checked",t,!1)}function Wl(e,t){Yp(e,t);var n=En(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yl(e,t.type,En(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yl(e,t,n){(t!=="number"||Wo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Us=Array.isArray;function Hr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+En(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Us(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:En(n)}}function Hp(e,t){var n=En(t.value),r=En(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oo,Kp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oo=oo||document.createElement("div"),oo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function si(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mv=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(e){mv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$s[t]=$s[e]})});function qp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$s.hasOwnProperty(e)&&$s[e]?(""+t).trim():t+"px"}function Jp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var gv=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kl(e,t){if(t){if(gv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function ql(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jl=null;function mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ql=null,Gr=null,Kr=null;function Gd(e){if(e=Mi(e)){if(typeof Ql!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Ca(t),Ql(e.stateNode,e.type,t))}}function Qp(e){Gr?Kr?Kr.push(e):Kr=[e]:Gr=e}function Xp(){if(Gr){var e=Gr,t=Kr;if(Kr=Gr=null,Gd(e),t)for(e=0;e<t.length;e++)Gd(t[e])}}function Zp(e,t){return e(t)}function em(){}var Ja=!1;function tm(e,t,n){if(Ja)return e(t,n);Ja=!0;try{return Zp(e,t,n)}finally{Ja=!1,(Gr!==null||Kr!==null)&&(em(),Xp())}}function ii(e,t){var n=e.stateNode;if(n===null)return null;var r=Ca(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Xl=!1;if(Qt)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){Xl=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Xl=!1}function yv(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ws=!1,Yo=null,Ho=!1,Zl=null,xv={onError:function(e){Ws=!0,Yo=e}};function vv(e,t,n,r,s,i,o,l,c){Ws=!1,Yo=null,yv.apply(xv,arguments)}function wv(e,t,n,r,s,i,o,l,c){if(vv.apply(this,arguments),Ws){if(Ws){var u=Yo;Ws=!1,Yo=null}else throw Error(R(198));Ho||(Ho=!0,Zl=u)}}function wr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kd(e){if(wr(e)!==e)throw Error(R(188))}function Sv(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kd(s),e;if(i===r)return Kd(s),t;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function rm(e){return e=Sv(e),e!==null?sm(e):null}function sm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sm(e);if(t!==null)return t;e=e.sibling}return null}var im=st.unstable_scheduleCallback,qd=st.unstable_cancelCallback,kv=st.unstable_shouldYield,jv=st.unstable_requestPaint,ve=st.unstable_now,bv=st.unstable_getCurrentPriorityLevel,gu=st.unstable_ImmediatePriority,om=st.unstable_UserBlockingPriority,Go=st.unstable_NormalPriority,Cv=st.unstable_LowPriority,am=st.unstable_IdlePriority,Sa=null,Ut=null;function Nv(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Sa,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Ev,Tv=Math.log,Pv=Math.LN2;function Ev(e){return e>>>=0,e===0?32:31-(Tv(e)/Pv|0)|0}var ao=64,lo=4194304;function Os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ko(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Os(l):(i&=o,i!==0&&(r=Os(i)))}else o=n&~s,o!==0?r=Os(o):i!==0&&(r=Os(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),s=1<<n,r|=e[n],t&=~s;return r}function Av(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Pt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Av(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function ec(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lm(){var e=ao;return ao<<=1,!(ao&4194240)&&(ao=64),e}function Qa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ei(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function Rv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Pt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function yu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Q=0;function cm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var um,xu,dm,hm,fm,tc=!1,co=[],Sn=null,kn=null,jn=null,oi=new Map,ai=new Map,gn=[],Dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jd(e,t){switch(e){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ai.delete(t.pointerId)}}function Es(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Mi(t),t!==null&&xu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Lv(e,t,n,r,s){switch(t){case"focusin":return Sn=Es(Sn,e,t,n,r,s),!0;case"dragenter":return kn=Es(kn,e,t,n,r,s),!0;case"mouseover":return jn=Es(jn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return oi.set(i,Es(oi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ai.set(i,Es(ai.get(i)||null,e,t,n,r,s)),!0}return!1}function pm(e){var t=rr(e.target);if(t!==null){var n=wr(t);if(n!==null){if(t=n.tag,t===13){if(t=nm(n),t!==null){e.blockedOn=t,fm(e.priority,function(){dm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Po(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jl=r,n.target.dispatchEvent(r),Jl=null}else return t=Mi(n),t!==null&&xu(t),e.blockedOn=n,!1;t.shift()}return!0}function Qd(e,t,n){Po(e)&&n.delete(t)}function Iv(){tc=!1,Sn!==null&&Po(Sn)&&(Sn=null),kn!==null&&Po(kn)&&(kn=null),jn!==null&&Po(jn)&&(jn=null),oi.forEach(Qd),ai.forEach(Qd)}function As(e,t){e.blockedOn===t&&(e.blockedOn=null,tc||(tc=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Iv)))}function li(e){function t(s){return As(s,e)}if(0<co.length){As(co[0],e);for(var n=1;n<co.length;n++){var r=co[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sn!==null&&As(Sn,e),kn!==null&&As(kn,e),jn!==null&&As(jn,e),oi.forEach(t),ai.forEach(t),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)pm(n),n.blockedOn===null&&gn.shift()}var qr=rn.ReactCurrentBatchConfig,qo=!0;function _v(e,t,n,r){var s=Q,i=qr.transition;qr.transition=null;try{Q=1,vu(e,t,n,r)}finally{Q=s,qr.transition=i}}function Fv(e,t,n,r){var s=Q,i=qr.transition;qr.transition=null;try{Q=4,vu(e,t,n,r)}finally{Q=s,qr.transition=i}}function vu(e,t,n,r){if(qo){var s=nc(e,t,n,r);if(s===null)al(e,t,r,Jo,n),Jd(e,r);else if(Lv(s,e,t,n,r))r.stopPropagation();else if(Jd(e,r),t&4&&-1<Dv.indexOf(e)){for(;s!==null;){var i=Mi(s);if(i!==null&&um(i),i=nc(e,t,n,r),i===null&&al(e,t,r,Jo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else al(e,t,r,null,n)}}var Jo=null;function nc(e,t,n,r){if(Jo=null,e=mu(r),e=rr(e),e!==null)if(t=wr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jo=e,null}function mm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bv()){case gu:return 1;case om:return 4;case Go:case Cv:return 16;case am:return 536870912;default:return 16}default:return 16}}var xn=null,wu=null,Eo=null;function gm(){if(Eo)return Eo;var e,t=wu,n=t.length,r,s="value"in xn?xn.value:xn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Eo=s.slice(e,1<r?1-r:void 0)}function Ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uo(){return!0}function Xd(){return!1}function ot(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uo:Xd,this.isPropagationStopped=Xd,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),t}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=ot(us),Ai=fe({},us,{view:0,detail:0}),Uv=ot(Ai),Xa,Za,Ms,ka=fe({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ku,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(Xa=e.screenX-Ms.screenX,Za=e.screenY-Ms.screenY):Za=Xa=0,Ms=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),Zd=ot(ka),Ov=fe({},ka,{dataTransfer:0}),Vv=ot(Ov),zv=fe({},Ai,{relatedTarget:0}),el=ot(zv),Bv=fe({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),$v=ot(Bv),Wv=fe({},us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yv=ot(Wv),Hv=fe({},us,{data:0}),eh=ot(Hv),Gv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qv[e])?!!t[e]:!1}function ku(){return Jv}var Qv=fe({},Ai,{key:function(e){if(e.key){var t=Gv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ku,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xv=ot(Qv),Zv=fe({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),th=ot(Zv),e0=fe({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ku}),t0=ot(e0),n0=fe({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),r0=ot(n0),s0=fe({},ka,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=ot(s0),o0=[9,13,27,32],ju=Qt&&"CompositionEvent"in window,Ys=null;Qt&&"documentMode"in document&&(Ys=document.documentMode);var a0=Qt&&"TextEvent"in window&&!Ys,ym=Qt&&(!ju||Ys&&8<Ys&&11>=Ys),nh=String.fromCharCode(32),rh=!1;function xm(e,t){switch(e){case"keyup":return o0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function l0(e,t){switch(e){case"compositionend":return vm(t);case"keypress":return t.which!==32?null:(rh=!0,nh);case"textInput":return e=t.data,e===nh&&rh?null:e;default:return null}}function c0(e,t){if(Mr)return e==="compositionend"||!ju&&xm(e,t)?(e=gm(),Eo=wu=xn=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ym&&t.locale!=="ko"?null:t.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u0[e.type]:t==="textarea"}function wm(e,t,n,r){Qp(r),t=Qo(t,"onChange"),0<t.length&&(n=new Su("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hs=null,ci=null;function d0(e){Mm(e,0)}function ja(e){var t=Lr(e);if(Wp(t))return e}function h0(e,t){if(e==="change")return t}var Sm=!1;if(Qt){var tl;if(Qt){var nl="oninput"in document;if(!nl){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),nl=typeof ih.oninput=="function"}tl=nl}else tl=!1;Sm=tl&&(!document.documentMode||9<document.documentMode)}function oh(){Hs&&(Hs.detachEvent("onpropertychange",km),ci=Hs=null)}function km(e){if(e.propertyName==="value"&&ja(ci)){var t=[];wm(t,ci,e,mu(e)),tm(d0,t)}}function f0(e,t,n){e==="focusin"?(oh(),Hs=t,ci=n,Hs.attachEvent("onpropertychange",km)):e==="focusout"&&oh()}function p0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ja(ci)}function m0(e,t){if(e==="click")return ja(t)}function g0(e,t){if(e==="input"||e==="change")return ja(t)}function y0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:y0;function ui(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ul.call(t,s)||!At(e[s],t[s]))return!1}return!0}function ah(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lh(e,t){var n=ah(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ah(n)}}function jm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bm(){for(var e=window,t=Wo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wo(e.document)}return t}function bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function x0(e){var t=bm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jm(n.ownerDocument.documentElement,n)){if(r!==null&&bu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=lh(n,i);var o=lh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var v0=Qt&&"documentMode"in document&&11>=document.documentMode,Rr=null,rc=null,Gs=null,sc=!1;function ch(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sc||Rr==null||Rr!==Wo(r)||(r=Rr,"selectionStart"in r&&bu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gs&&ui(Gs,r)||(Gs=r,r=Qo(rc,"onSelect"),0<r.length&&(t=new Su("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rr)))}function ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dr={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},rl={},Cm={};Qt&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function ba(e){if(rl[e])return rl[e];if(!Dr[e])return e;var t=Dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cm)return rl[e]=t[n];return e}var Nm=ba("animationend"),Tm=ba("animationiteration"),Pm=ba("animationstart"),Em=ba("transitionend"),Am=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){Am.set(e,t),vr(t,[e])}for(var sl=0;sl<uh.length;sl++){var il=uh[sl],w0=il.toLowerCase(),S0=il[0].toUpperCase()+il.slice(1);Dn(w0,"on"+S0)}Dn(Nm,"onAnimationEnd");Dn(Tm,"onAnimationIteration");Dn(Pm,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(Em,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function dh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wv(r,t,void 0,e),e.currentTarget=null}function Mm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;dh(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;dh(s,l,u),i=c}}}if(Ho)throw e=Zl,Ho=!1,Zl=null,e}function se(e,t){var n=t[cc];n===void 0&&(n=t[cc]=new Set);var r=e+"__bubble";n.has(r)||(Rm(t,e,2,!1),n.add(r))}function ol(e,t,n){var r=0;t&&(r|=4),Rm(n,e,r,t)}var fo="_reactListening"+Math.random().toString(36).slice(2);function di(e){if(!e[fo]){e[fo]=!0,Op.forEach(function(n){n!=="selectionchange"&&(k0.has(n)||ol(n,!1,e),ol(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fo]||(t[fo]=!0,ol("selectionchange",!1,t))}}function Rm(e,t,n,r){switch(mm(t)){case 1:var s=_v;break;case 4:s=Fv;break;default:s=vu}n=s.bind(null,t,n,e),s=void 0,!Xl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function al(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=rr(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}tm(function(){var u=i,d=mu(n),h=[];e:{var f=Am.get(e);if(f!==void 0){var x=Su,w=e;switch(e){case"keypress":if(Ao(n)===0)break e;case"keydown":case"keyup":x=Xv;break;case"focusin":w="focus",x=el;break;case"focusout":w="blur",x=el;break;case"beforeblur":case"afterblur":x=el;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=t0;break;case Nm:case Tm:case Pm:x=$v;break;case Em:x=r0;break;case"scroll":x=Uv;break;case"wheel":x=i0;break;case"copy":case"cut":case"paste":x=Yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=th}var S=(t&4)!==0,k=!S&&e==="scroll",m=S?f!==null?f+"Capture":null:f;S=[];for(var p=u,g;p!==null;){g=p;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,m!==null&&(b=ii(p,m),b!=null&&S.push(hi(p,b,g)))),k)break;p=p.return}0<S.length&&(f=new x(f,w,null,n,d),h.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&n!==Jl&&(w=n.relatedTarget||n.fromElement)&&(rr(w)||w[Xt]))break e;if((x||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,x?(w=n.relatedTarget||n.toElement,x=u,w=w?rr(w):null,w!==null&&(k=wr(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=u),x!==w)){if(S=Zd,b="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(S=th,b="onPointerLeave",m="onPointerEnter",p="pointer"),k=x==null?f:Lr(x),g=w==null?f:Lr(w),f=new S(b,p+"leave",x,n,d),f.target=k,f.relatedTarget=g,b=null,rr(d)===u&&(S=new S(m,p+"enter",w,n,d),S.target=g,S.relatedTarget=k,b=S),k=b,x&&w)t:{for(S=x,m=w,p=0,g=S;g;g=Pr(g))p++;for(g=0,b=m;b;b=Pr(b))g++;for(;0<p-g;)S=Pr(S),p--;for(;0<g-p;)m=Pr(m),g--;for(;p--;){if(S===m||m!==null&&S===m.alternate)break t;S=Pr(S),m=Pr(m)}S=null}else S=null;x!==null&&hh(h,f,x,S,!1),w!==null&&k!==null&&hh(h,k,w,S,!0)}}e:{if(f=u?Lr(u):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var C=h0;else if(sh(f))if(Sm)C=g0;else{C=p0;var P=f0}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=m0);if(C&&(C=C(e,u))){wm(h,C,n,d);break e}P&&P(e,f,u),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Yl(f,"number",f.value)}switch(P=u?Lr(u):window,e){case"focusin":(sh(P)||P.contentEditable==="true")&&(Rr=P,rc=u,Gs=null);break;case"focusout":Gs=rc=Rr=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,ch(h,n,d);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":ch(h,n,d)}var A;if(ju)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Mr?xm(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(ym&&n.locale!=="ko"&&(Mr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Mr&&(A=gm()):(xn=d,wu="value"in xn?xn.value:xn.textContent,Mr=!0)),P=Qo(u,N),0<P.length&&(N=new eh(N,e,null,n,d),h.push({event:N,listeners:P}),A?N.data=A:(A=vm(n),A!==null&&(N.data=A)))),(A=a0?l0(e,n):c0(e,n))&&(u=Qo(u,"onBeforeInput"),0<u.length&&(d=new eh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=A))}Mm(h,t)})}function hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ii(e,n),i!=null&&r.unshift(hi(e,i,s)),i=ii(e,t),i!=null&&r.push(hi(e,i,s))),e=e.return}return r}function Pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ii(n,i),c!=null&&o.unshift(hi(n,c,l))):s||(c=ii(n,i),c!=null&&o.push(hi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var j0=/\r\n?/g,b0=/\u0000|\uFFFD/g;function fh(e){return(typeof e=="string"?e:""+e).replace(j0,`
`).replace(b0,"")}function po(e,t,n){if(t=fh(t),fh(e)!==t&&n)throw Error(R(425))}function Xo(){}var ic=null,oc=null;function ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lc=typeof setTimeout=="function"?setTimeout:void 0,C0=typeof clearTimeout=="function"?clearTimeout:void 0,ph=typeof Promise=="function"?Promise:void 0,N0=typeof queueMicrotask=="function"?queueMicrotask:typeof ph<"u"?function(e){return ph.resolve(null).then(e).catch(T0)}:lc;function T0(e){setTimeout(function(){throw e})}function ll(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),li(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);li(t)}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),Ft="__reactFiber$"+ds,fi="__reactProps$"+ds,Xt="__reactContainer$"+ds,cc="__reactEvents$"+ds,P0="__reactListeners$"+ds,E0="__reactHandles$"+ds;function rr(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mh(e);e!==null;){if(n=e[Ft])return n;e=mh(e)}return t}e=n,n=e.parentNode}return null}function Mi(e){return e=e[Ft]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Ca(e){return e[fi]||null}var uc=[],Ir=-1;function Ln(e){return{current:e}}function ie(e){0>Ir||(e.current=uc[Ir],uc[Ir]=null,Ir--)}function ne(e,t){Ir++,uc[Ir]=e.current,e.current=t}var An={},Fe=Ln(An),qe=Ln(!1),pr=An;function ts(e,t){var n=e.type.contextTypes;if(!n)return An;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Je(e){return e=e.childContextTypes,e!=null}function Zo(){ie(qe),ie(Fe)}function gh(e,t,n){if(Fe.current!==An)throw Error(R(168));ne(Fe,t),ne(qe,n)}function Dm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,fv(e)||"Unknown",s));return fe({},n,r)}function ea(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,pr=Fe.current,ne(Fe,e),ne(qe,qe.current),!0}function yh(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Dm(e,t,pr),r.__reactInternalMemoizedMergedChildContext=e,ie(qe),ie(Fe),ne(Fe,e)):ie(qe),ne(qe,n)}var Gt=null,Na=!1,cl=!1;function Lm(e){Gt===null?Gt=[e]:Gt.push(e)}function A0(e){Na=!0,Lm(e)}function In(){if(!cl&&Gt!==null){cl=!0;var e=0,t=Q;try{var n=Gt;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gt=null,Na=!1}catch(s){throw Gt!==null&&(Gt=Gt.slice(e+1)),im(gu,In),s}finally{Q=t,cl=!1}}return null}var _r=[],Fr=0,ta=null,na=0,dt=[],ht=0,mr=null,Kt=1,qt="";function Qn(e,t){_r[Fr++]=na,_r[Fr++]=ta,ta=e,na=t}function Im(e,t,n){dt[ht++]=Kt,dt[ht++]=qt,dt[ht++]=mr,mr=e;var r=Kt;e=qt;var s=32-Pt(r)-1;r&=~(1<<s),n+=1;var i=32-Pt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Kt=1<<32-Pt(t)+s|n<<s|r,qt=i+e}else Kt=1<<i|n<<s|r,qt=e}function Cu(e){e.return!==null&&(Qn(e,1),Im(e,1,0))}function Nu(e){for(;e===ta;)ta=_r[--Fr],_r[Fr]=null,na=_r[--Fr],_r[Fr]=null;for(;e===mr;)mr=dt[--ht],dt[ht]=null,qt=dt[--ht],dt[ht]=null,Kt=dt[--ht],dt[ht]=null}var rt=null,nt=null,ae=!1,Tt=null;function _m(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,nt=bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mr!==null?{id:Kt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,nt=null,!0):!1;default:return!1}}function dc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hc(e){if(ae){var t=nt;if(t){var n=t;if(!xh(e,t)){if(dc(e))throw Error(R(418));t=bn(n.nextSibling);var r=rt;t&&xh(e,t)?_m(r,n):(e.flags=e.flags&-4097|2,ae=!1,rt=e)}}else{if(dc(e))throw Error(R(418));e.flags=e.flags&-4097|2,ae=!1,rt=e}}}function vh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function mo(e){if(e!==rt)return!1;if(!ae)return vh(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ac(e.type,e.memoizedProps)),t&&(t=nt)){if(dc(e))throw Fm(),Error(R(418));for(;t;)_m(e,t),t=bn(t.nextSibling)}if(vh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=rt?bn(e.stateNode.nextSibling):null;return!0}function Fm(){for(var e=nt;e;)e=bn(e.nextSibling)}function ns(){nt=rt=null,ae=!1}function Tu(e){Tt===null?Tt=[e]:Tt.push(e)}var M0=rn.ReactCurrentBatchConfig;function Rs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function go(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wh(e){var t=e._init;return t(e._payload)}function Um(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Pn(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,b){return p===null||p.tag!==6?(p=gl(g,m.mode,b),p.return=m,p):(p=s(p,g),p.return=m,p)}function c(m,p,g,b){var C=g.type;return C===Ar?d(m,p,g.props.children,b,g.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pn&&wh(C)===p.type)?(b=s(p,g.props),b.ref=Rs(m,p,g),b.return=m,b):(b=Fo(g.type,g.key,g.props,null,m.mode,b),b.ref=Rs(m,p,g),b.return=m,b)}function u(m,p,g,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=yl(g,m.mode,b),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,b,C){return p===null||p.tag!==7?(p=ur(g,m.mode,b,C),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=gl(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case so:return g=Fo(p.type,p.key,p.props,null,m.mode,g),g.ref=Rs(m,null,p),g.return=m,g;case Er:return p=yl(p,m.mode,g),p.return=m,p;case pn:var b=p._init;return h(m,b(p._payload),g)}if(Us(p)||Ts(p))return p=ur(p,m.mode,g,null),p.return=m,p;go(m,p)}return null}function f(m,p,g,b){var C=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:l(m,p,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case so:return g.key===C?c(m,p,g,b):null;case Er:return g.key===C?u(m,p,g,b):null;case pn:return C=g._init,f(m,p,C(g._payload),b)}if(Us(g)||Ts(g))return C!==null?null:d(m,p,g,b,null);go(m,g)}return null}function x(m,p,g,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(g)||null,l(p,m,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case so:return m=m.get(b.key===null?g:b.key)||null,c(p,m,b,C);case Er:return m=m.get(b.key===null?g:b.key)||null,u(p,m,b,C);case pn:var P=b._init;return x(m,p,g,P(b._payload),C)}if(Us(b)||Ts(b))return m=m.get(g)||null,d(p,m,b,C,null);go(p,b)}return null}function w(m,p,g,b){for(var C=null,P=null,A=p,N=p=0,F=null;A!==null&&N<g.length;N++){A.index>N?(F=A,A=null):F=A.sibling;var _=f(m,A,g[N],b);if(_===null){A===null&&(A=F);break}e&&A&&_.alternate===null&&t(m,A),p=i(_,p,N),P===null?C=_:P.sibling=_,P=_,A=F}if(N===g.length)return n(m,A),ae&&Qn(m,N),C;if(A===null){for(;N<g.length;N++)A=h(m,g[N],b),A!==null&&(p=i(A,p,N),P===null?C=A:P.sibling=A,P=A);return ae&&Qn(m,N),C}for(A=r(m,A);N<g.length;N++)F=x(A,m,N,g[N],b),F!==null&&(e&&F.alternate!==null&&A.delete(F.key===null?N:F.key),p=i(F,p,N),P===null?C=F:P.sibling=F,P=F);return e&&A.forEach(function(K){return t(m,K)}),ae&&Qn(m,N),C}function S(m,p,g,b){var C=Ts(g);if(typeof C!="function")throw Error(R(150));if(g=C.call(g),g==null)throw Error(R(151));for(var P=C=null,A=p,N=p=0,F=null,_=g.next();A!==null&&!_.done;N++,_=g.next()){A.index>N?(F=A,A=null):F=A.sibling;var K=f(m,A,_.value,b);if(K===null){A===null&&(A=F);break}e&&A&&K.alternate===null&&t(m,A),p=i(K,p,N),P===null?C=K:P.sibling=K,P=K,A=F}if(_.done)return n(m,A),ae&&Qn(m,N),C;if(A===null){for(;!_.done;N++,_=g.next())_=h(m,_.value,b),_!==null&&(p=i(_,p,N),P===null?C=_:P.sibling=_,P=_);return ae&&Qn(m,N),C}for(A=r(m,A);!_.done;N++,_=g.next())_=x(A,m,N,_.value,b),_!==null&&(e&&_.alternate!==null&&A.delete(_.key===null?N:_.key),p=i(_,p,N),P===null?C=_:P.sibling=_,P=_);return e&&A.forEach(function(We){return t(m,We)}),ae&&Qn(m,N),C}function k(m,p,g,b){if(typeof g=="object"&&g!==null&&g.type===Ar&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case so:e:{for(var C=g.key,P=p;P!==null;){if(P.key===C){if(C=g.type,C===Ar){if(P.tag===7){n(m,P.sibling),p=s(P,g.props.children),p.return=m,m=p;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pn&&wh(C)===P.type){n(m,P.sibling),p=s(P,g.props),p.ref=Rs(m,P,g),p.return=m,m=p;break e}n(m,P);break}else t(m,P);P=P.sibling}g.type===Ar?(p=ur(g.props.children,m.mode,b,g.key),p.return=m,m=p):(b=Fo(g.type,g.key,g.props,null,m.mode,b),b.ref=Rs(m,p,g),b.return=m,m=b)}return o(m);case Er:e:{for(P=g.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=yl(g,m.mode,b),p.return=m,m=p}return o(m);case pn:return P=g._init,k(m,p,P(g._payload),b)}if(Us(g))return w(m,p,g,b);if(Ts(g))return S(m,p,g,b);go(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=gl(g,m.mode,b),p.return=m,m=p),o(m)):n(m,p)}return k}var rs=Um(!0),Om=Um(!1),ra=Ln(null),sa=null,Ur=null,Pu=null;function Eu(){Pu=Ur=sa=null}function Au(e){var t=ra.current;ie(ra),e._currentValue=t}function fc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jr(e,t){sa=e,Pu=Ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(Pu!==e)if(e={context:e,memoizedValue:t,next:null},Ur===null){if(sa===null)throw Error(R(308));Ur=e,sa.dependencies={lanes:0,firstContext:e}}else Ur=Ur.next=e;return t}var sr=null;function Mu(e){sr===null?sr=[e]:sr.push(e)}function Vm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Mu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Zt(e,r)}function Zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mn=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Zt(e,n)}return s=r.interleaved,s===null?(t.next=t,Mu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Zt(e,n)}function Mo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yu(e,n)}}function Sh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ia(e,t,n,r){var s=e.updateQueue;mn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,x=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,S=l;switch(f=t,x=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){h=w.call(x,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,f=typeof w=="function"?w.call(x,h,f):w,f==null)break e;h=fe({},h,f);break e;case 2:mn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=h):d=d.next=x,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yr|=o,e.lanes=o,e.memoizedState=h}}function kh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Ri={},Ot=Ln(Ri),pi=Ln(Ri),mi=Ln(Ri);function ir(e){if(e===Ri)throw Error(R(174));return e}function Du(e,t){switch(ne(mi,t),ne(pi,e),ne(Ot,Ri),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gl(t,e)}ie(Ot),ne(Ot,t)}function ss(){ie(Ot),ie(pi),ie(mi)}function Bm(e){ir(mi.current);var t=ir(Ot.current),n=Gl(t,e.type);t!==n&&(ne(pi,e),ne(Ot,n))}function Lu(e){pi.current===e&&(ie(Ot),ie(pi))}var ue=Ln(0);function oa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=[];function Iu(){for(var e=0;e<ul.length;e++)ul[e]._workInProgressVersionPrimary=null;ul.length=0}var Ro=rn.ReactCurrentDispatcher,dl=rn.ReactCurrentBatchConfig,gr=0,he=null,be=null,Ne=null,aa=!1,Ks=!1,gi=0,R0=0;function De(){throw Error(R(321))}function _u(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function Fu(e,t,n,r,s,i){if(gr=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ro.current=e===null||e.memoizedState===null?_0:F0,e=n(r,s),Ks){i=0;do{if(Ks=!1,gi=0,25<=i)throw Error(R(301));i+=1,Ne=be=null,t.updateQueue=null,Ro.current=U0,e=n(r,s)}while(Ks)}if(Ro.current=la,t=be!==null&&be.next!==null,gr=0,Ne=be=he=null,aa=!1,t)throw Error(R(300));return e}function Uu(){var e=gi!==0;return gi=0,e}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?he.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function xt(){if(be===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ne===null?he.memoizedState:Ne.next;if(t!==null)Ne=t,be=e;else{if(e===null)throw Error(R(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ne===null?he.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function yi(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=xt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=be,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((gr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,he.lanes|=d,yr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,At(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,yr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fl(e){var t=xt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);At(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $m(){}function Wm(e,t){var n=he,r=xt(),s=t(),i=!At(r.memoizedState,s);if(i&&(r.memoizedState=s,Ge=!0),r=r.queue,Ou(Gm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,xi(9,Hm.bind(null,n,r,s,t),void 0,null),Te===null)throw Error(R(349));gr&30||Ym(n,t,s)}return s}function Ym(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hm(e,t,n,r){t.value=n,t.getSnapshot=r,Km(t)&&qm(e)}function Gm(e,t,n){return n(function(){Km(t)&&qm(e)})}function Km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function qm(e){var t=Zt(e,1);t!==null&&Et(t,e,1,-1)}function jh(e){var t=_t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=I0.bind(null,he,e),[t.memoizedState,e]}function xi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Jm(){return xt().memoizedState}function Do(e,t,n,r){var s=_t();he.flags|=e,s.memoizedState=xi(1|t,n,void 0,r===void 0?null:r)}function Ta(e,t,n,r){var s=xt();r=r===void 0?null:r;var i=void 0;if(be!==null){var o=be.memoizedState;if(i=o.destroy,r!==null&&_u(r,o.deps)){s.memoizedState=xi(t,n,i,r);return}}he.flags|=e,s.memoizedState=xi(1|t,n,i,r)}function bh(e,t){return Do(8390656,8,e,t)}function Ou(e,t){return Ta(2048,8,e,t)}function Qm(e,t){return Ta(4,2,e,t)}function Xm(e,t){return Ta(4,4,e,t)}function Zm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eg(e,t,n){return n=n!=null?n.concat([e]):null,Ta(4,4,Zm.bind(null,t,e),n)}function Vu(){}function tg(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_u(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ng(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_u(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rg(e,t,n){return gr&21?(At(n,t)||(n=lm(),he.lanes|=n,yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function D0(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=dl.transition;dl.transition={};try{e(!1),t()}finally{Q=n,dl.transition=r}}function sg(){return xt().memoizedState}function L0(e,t,n){var r=Tn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ig(e))og(t,n);else if(n=Vm(e,t,n,r),n!==null){var s=ze();Et(n,e,r,s),ag(n,t,r)}}function I0(e,t,n){var r=Tn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ig(e))og(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,At(l,o)){var c=t.interleaved;c===null?(s.next=s,Mu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Vm(e,t,s,r),n!==null&&(s=ze(),Et(n,e,r,s),ag(n,t,r))}}function ig(e){var t=e.alternate;return e===he||t!==null&&t===he}function og(e,t){Ks=aa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ag(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yu(e,n)}}var la={readContext:yt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},_0={readContext:yt,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:bh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Do(4194308,4,Zm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=_t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=L0.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:jh,useDebugValue:Vu,useDeferredValue:function(e){return _t().memoizedState=e},useTransition:function(){var e=jh(!1),t=e[0];return e=D0.bind(null,e[1]),_t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,s=_t();if(ae){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Te===null)throw Error(R(349));gr&30||Ym(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,bh(Gm.bind(null,r,i,e),[e]),r.flags|=2048,xi(9,Hm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=_t(),t=Te.identifierPrefix;if(ae){var n=qt,r=Kt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=R0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},F0={readContext:yt,useCallback:tg,useContext:yt,useEffect:Ou,useImperativeHandle:eg,useInsertionEffect:Qm,useLayoutEffect:Xm,useMemo:ng,useReducer:hl,useRef:Jm,useState:function(){return hl(yi)},useDebugValue:Vu,useDeferredValue:function(e){var t=xt();return rg(t,be.memoizedState,e)},useTransition:function(){var e=hl(yi)[0],t=xt().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Wm,useId:sg,unstable_isNewReconciler:!1},U0={readContext:yt,useCallback:tg,useContext:yt,useEffect:Ou,useImperativeHandle:eg,useInsertionEffect:Qm,useLayoutEffect:Xm,useMemo:ng,useReducer:fl,useRef:Jm,useState:function(){return fl(yi)},useDebugValue:Vu,useDeferredValue:function(e){var t=xt();return be===null?t.memoizedState=e:rg(t,be.memoizedState,e)},useTransition:function(){var e=fl(yi)[0],t=xt().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Wm,useId:sg,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pa={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),s=Tn(e),i=Jt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Cn(e,i,s),t!==null&&(Et(t,e,s,r),Mo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),s=Tn(e),i=Jt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Cn(e,i,s),t!==null&&(Et(t,e,s,r),Mo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=Tn(e),s=Jt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Cn(e,s,r),t!==null&&(Et(t,e,r,n),Mo(t,e,r))}};function Ch(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ui(n,r)||!ui(s,i):!0}function lg(e,t,n){var r=!1,s=An,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(s=Je(t)?pr:Fe.current,r=t.contextTypes,i=(r=r!=null)?ts(e,s):An),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Nh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pa.enqueueReplaceState(t,t.state,null)}function mc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ru(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=yt(i):(i=Je(t)?pr:Fe.current,s.context=ts(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pa.enqueueReplaceState(s,s.state,null),ia(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function is(e,t){try{var n="",r=t;do n+=hv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var O0=typeof WeakMap=="function"?WeakMap:Map;function cg(e,t,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ua||(ua=!0,Nc=r),gc(e,t)},n}function ug(e,t,n){n=Jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){gc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gc(e,t),typeof r!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Th(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new O0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Z0.bind(null,e,t,n),t.then(e,e))}function Ph(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Eh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jt(-1,1),t.tag=2,Cn(n,t,1))),n.lanes|=1),e)}var V0=rn.ReactCurrentOwner,Ge=!1;function Oe(e,t,n,r){t.child=e===null?Om(t,null,n,r):rs(t,e.child,n,r)}function Ah(e,t,n,r,s){n=n.render;var i=t.ref;return Jr(t,s),r=Fu(e,t,n,r,i,s),n=Uu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,en(e,t,s)):(ae&&n&&Cu(t),t.flags|=1,Oe(e,t,r,s),t.child)}function Mh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ku(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,dg(e,t,i,r,s)):(e=Fo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ui,n(o,r)&&e.ref===t.ref)return en(e,t,s)}return t.flags|=1,e=Pn(i,r),e.ref=t.ref,e.return=t,t.child=e}function dg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ui(i,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,en(e,t,s)}return yc(e,t,n,r,s)}function hg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Vr,tt),tt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(Vr,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ne(Vr,tt),tt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ne(Vr,tt),tt|=r;return Oe(e,t,s,n),t.child}function fg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yc(e,t,n,r,s){var i=Je(n)?pr:Fe.current;return i=ts(t,i),Jr(t,s),n=Fu(e,t,n,r,i,s),r=Uu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,en(e,t,s)):(ae&&r&&Cu(t),t.flags|=1,Oe(e,t,n,s),t.child)}function Rh(e,t,n,r,s){if(Je(n)){var i=!0;ea(t)}else i=!1;if(Jr(t,s),t.stateNode===null)Lo(e,t),lg(t,n,r),mc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Je(n)?pr:Fe.current,u=ts(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Nh(t,o,r,u),mn=!1;var f=t.memoizedState;o.state=f,ia(t,r,o,s),c=t.memoizedState,l!==r||f!==c||qe.current||mn?(typeof d=="function"&&(pc(t,n,d,r),c=t.memoizedState),(l=mn||Ch(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zm(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ct(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=yt(c):(c=Je(n)?pr:Fe.current,c=ts(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Nh(t,o,r,c),mn=!1,f=t.memoizedState,o.state=f,ia(t,r,o,s);var w=t.memoizedState;l!==h||f!==w||qe.current||mn?(typeof x=="function"&&(pc(t,n,x,r),w=t.memoizedState),(u=mn||Ch(t,n,u,r,f,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return xc(e,t,n,r,i,s)}function xc(e,t,n,r,s,i){fg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&yh(t,n,!1),en(e,t,i);r=t.stateNode,V0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=rs(t,e.child,null,i),t.child=rs(t,null,l,i)):Oe(e,t,l,i),t.memoizedState=r.state,s&&yh(t,n,!0),t.child}function pg(e){var t=e.stateNode;t.pendingContext?gh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gh(e,t.context,!1),Du(e,t.containerInfo)}function Dh(e,t,n,r,s){return ns(),Tu(s),t.flags|=256,Oe(e,t,n,r),t.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function wc(e){return{baseLanes:e,cachePool:null,transitions:null}}function mg(e,t,n){var r=t.pendingProps,s=ue.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ne(ue,s&1),e===null)return hc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ma(o,r,0,null),e=ur(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wc(n),t.memoizedState=vc,e):zu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return z0(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Pn(l,i):(i=ur(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?wc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=vc,r}return i=e.child,e=i.sibling,r=Pn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zu(e,t){return t=Ma({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yo(e,t,n,r){return r!==null&&Tu(r),rs(t,e.child,null,n),e=zu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function z0(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=pl(Error(R(422))),yo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ma({mode:"visible",children:r.children},s,0,null),i=ur(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&rs(t,e.child,null,o),t.child.memoizedState=wc(o),t.memoizedState=vc,i);if(!(t.mode&1))return yo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(R(419)),r=pl(i,r,void 0),yo(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ge||l){if(r=Te,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zt(e,s),Et(r,e,s,-1))}return Gu(),r=pl(Error(R(421))),yo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ew.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,nt=bn(s.nextSibling),rt=t,ae=!0,Tt=null,e!==null&&(dt[ht++]=Kt,dt[ht++]=qt,dt[ht++]=mr,Kt=e.id,qt=e.overflow,mr=t),t=zu(t,r.children),t.flags|=4096,t)}function Lh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fc(e.return,t,n)}function ml(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function gg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Oe(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lh(e,n,t);else if(e.tag===19)Lh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&oa(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ml(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&oa(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ml(t,!0,n,null,i);break;case"together":ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function B0(e,t,n){switch(t.tag){case 3:pg(t),ns();break;case 5:Bm(t);break;case 1:Je(t.type)&&ea(t);break;case 4:Du(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ne(ra,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?mg(e,t,n):(ne(ue,ue.current&1),e=en(e,t,n),e!==null?e.sibling:null);ne(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,hg(e,t,n)}return en(e,t,n)}var yg,Sc,xg,vg;yg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sc=function(){};xg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ir(Ot.current);var i=null;switch(n){case"input":s=$l(e,s),r=$l(e,r),i=[];break;case"select":s=fe({},s,{value:void 0}),r=fe({},r,{value:void 0}),i=[];break;case"textarea":s=Hl(e,s),r=Hl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xo)}Kl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ri.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ri.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&se("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};vg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ds(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $0(e,t,n){var r=t.pendingProps;switch(Nu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Je(t.type)&&Zo(),Le(t),null;case 3:return r=t.stateNode,ss(),ie(qe),ie(Fe),Iu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(Ec(Tt),Tt=null))),Sc(e,t),Le(t),null;case 5:Lu(t);var s=ir(mi.current);if(n=t.type,e!==null&&t.stateNode!=null)xg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Le(t),null}if(e=ir(Ot.current),mo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ft]=t,r[fi]=i,e=(t.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(s=0;s<Vs.length;s++)se(Vs[s],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":$d(r,i),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},se("invalid",r);break;case"textarea":Yd(r,i),se("invalid",r)}Kl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&po(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&po(r.textContent,l,e),s=["children",""+l]):ri.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&se("scroll",r)}switch(n){case"input":io(r),Wd(r,i,!0);break;case"textarea":io(r),Hd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ft]=t,e[fi]=r,yg(e,t,!1,!1),t.stateNode=e;e:{switch(o=ql(n,r),n){case"dialog":se("cancel",e),se("close",e),s=r;break;case"iframe":case"object":case"embed":se("load",e),s=r;break;case"video":case"audio":for(s=0;s<Vs.length;s++)se(Vs[s],e);s=r;break;case"source":se("error",e),s=r;break;case"img":case"image":case"link":se("error",e),se("load",e),s=r;break;case"details":se("toggle",e),s=r;break;case"input":$d(e,r),s=$l(e,r),se("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=fe({},r,{value:void 0}),se("invalid",e);break;case"textarea":Yd(e,r),s=Hl(e,r),se("invalid",e);break;default:s=r}Kl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Jp(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kp(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&si(e,c):typeof c=="number"&&si(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ri.hasOwnProperty(i)?c!=null&&i==="onScroll"&&se("scroll",e):c!=null&&du(e,i,c,o))}switch(n){case"input":io(e),Wd(e,r,!1);break;case"textarea":io(e),Hd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+En(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)vg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=ir(mi.current),ir(Ot.current),mo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ft]=t,(i=r.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:po(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&po(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=t,t.stateNode=r}return Le(t),null;case 13:if(ie(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&nt!==null&&t.mode&1&&!(t.flags&128))Fm(),ns(),t.flags|=98560,i=!1;else if(i=mo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Ft]=t}else ns(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else Tt!==null&&(Ec(Tt),Tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?Ce===0&&(Ce=3):Gu())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return ss(),Sc(e,t),e===null&&di(t.stateNode.containerInfo),Le(t),null;case 10:return Au(t.type._context),Le(t),null;case 17:return Je(t.type)&&Zo(),Le(t),null;case 19:if(ie(ue),i=t.memoizedState,i===null)return Le(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ds(i,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=oa(e),o!==null){for(t.flags|=128,Ds(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>os&&(t.flags|=128,r=!0,Ds(i,!1),t.lanes=4194304)}else{if(!r)if(e=oa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ae)return Le(t),null}else 2*ve()-i.renderingStartTime>os&&n!==1073741824&&(t.flags|=128,r=!0,Ds(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,n=ue.current,ne(ue,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return Hu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function W0(e,t){switch(Nu(t),t.tag){case 1:return Je(t.type)&&Zo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ss(),ie(qe),ie(Fe),Iu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lu(t),null;case 13:if(ie(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ue),null;case 4:return ss(),null;case 10:return Au(t.type._context),null;case 22:case 23:return Hu(),null;case 24:return null;default:return null}}var xo=!1,Ie=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,U=null;function Or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function kc(e,t,n){try{n()}catch(r){me(e,t,r)}}var Ih=!1;function H0(e,t){if(ic=qo,e=bm(),bu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var x;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(oc={focusedElem:e,selectionRange:n},qo=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,k=w.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ct(t.type,S),k);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){me(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return w=Ih,Ih=!1,w}function qs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&kc(t,n,i)}s=s.next}while(s!==r)}}function Ea(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wg(e){var t=e.alternate;t!==null&&(e.alternate=null,wg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[fi],delete t[cc],delete t[P0],delete t[E0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sg(e){return e.tag===5||e.tag===3||e.tag===4}function _h(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xo));else if(r!==4&&(e=e.child,e!==null))for(bc(e,t,n),e=e.sibling;e!==null;)bc(e,t,n),e=e.sibling}function Cc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cc(e,t,n),e=e.sibling;e!==null;)Cc(e,t,n),e=e.sibling}var Pe=null,Nt=!1;function dn(e,t,n){for(n=n.child;n!==null;)kg(e,t,n),n=n.sibling}function kg(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Sa,n)}catch{}switch(n.tag){case 5:Ie||Or(n,t);case 6:var r=Pe,s=Nt;Pe=null,dn(e,t,n),Pe=r,Nt=s,Pe!==null&&(Nt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(Nt?(e=Pe,n=n.stateNode,e.nodeType===8?ll(e.parentNode,n):e.nodeType===1&&ll(e,n),li(e)):ll(Pe,n.stateNode));break;case 4:r=Pe,s=Nt,Pe=n.stateNode.containerInfo,Nt=!0,dn(e,t,n),Pe=r,Nt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&kc(n,t,o),s=s.next}while(s!==r)}dn(e,t,n);break;case 1:if(!Ie&&(Or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){me(n,t,l)}dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,dn(e,t,n),Ie=r):dn(e,t,n);break;default:dn(e,t,n)}}function Fh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Y0),t.forEach(function(r){var s=tw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,Nt=!1;break e;case 3:Pe=l.stateNode.containerInfo,Nt=!0;break e;case 4:Pe=l.stateNode.containerInfo,Nt=!0;break e}l=l.return}if(Pe===null)throw Error(R(160));kg(i,o,s),Pe=null,Nt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jg(t,e),t=t.sibling}function jg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Lt(e),r&4){try{qs(3,e,e.return),Ea(3,e)}catch(S){me(e,e.return,S)}try{qs(5,e,e.return)}catch(S){me(e,e.return,S)}}break;case 1:jt(t,e),Lt(e),r&512&&n!==null&&Or(n,n.return);break;case 5:if(jt(t,e),Lt(e),r&512&&n!==null&&Or(n,n.return),e.flags&32){var s=e.stateNode;try{si(s,"")}catch(S){me(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Yp(s,i),ql(l,o);var u=ql(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Jp(s,h):d==="dangerouslySetInnerHTML"?Kp(s,h):d==="children"?si(s,h):du(s,d,h,u)}switch(l){case"input":Wl(s,i);break;case"textarea":Hp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Hr(s,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?Hr(s,!!i.multiple,i.defaultValue,!0):Hr(s,!!i.multiple,i.multiple?[]:"",!1))}s[fi]=i}catch(S){me(e,e.return,S)}}break;case 6:if(jt(t,e),Lt(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){me(e,e.return,S)}}break;case 3:if(jt(t,e),Lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(S){me(e,e.return,S)}break;case 4:jt(t,e),Lt(e);break;case 13:jt(t,e),Lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wu=ve())),r&4&&Fh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(u=Ie)||d,jt(t,e),Ie=u):jt(t,e),Lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(h=U=d;U!==null;){switch(f=U,x=f.child,f.tag){case 0:case 11:case 14:case 15:qs(4,f,f.return);break;case 1:Or(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){me(r,n,S)}}break;case 5:Or(f,f.return);break;case 22:if(f.memoizedState!==null){Oh(h);continue}}x!==null?(x.return=f,U=x):Oh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qp("display",o))}catch(S){me(e,e.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){me(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(t,e),Lt(e),r&4&&Fh(e);break;case 21:break;default:jt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sg(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(si(s,""),r.flags&=-33);var i=_h(e);Cc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=_h(e);bc(e,l,o);break;default:throw Error(R(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function G0(e,t,n){U=e,bg(e)}function bg(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||xo;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ie;l=xo;var u=Ie;if(xo=o,(Ie=c)&&!u)for(U=s;U!==null;)o=U,c=o.child,o.tag===22&&o.memoizedState!==null?Vh(s):c!==null?(c.return=o,U=c):Vh(s);for(;i!==null;)U=i,bg(i),i=i.sibling;U=s,xo=l,Ie=u}Uh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):Uh(e)}}function Uh(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Ea(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ct(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&li(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ie||t.flags&512&&jc(t)}catch(f){me(t,t.return,f)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Oh(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function Vh(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ea(4,t)}catch(c){me(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){me(t,s,c)}}var i=t.return;try{jc(t)}catch(c){me(t,i,c)}break;case 5:var o=t.return;try{jc(t)}catch(c){me(t,o,c)}}}catch(c){me(t,t.return,c)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var K0=Math.ceil,ca=rn.ReactCurrentDispatcher,Bu=rn.ReactCurrentOwner,mt=rn.ReactCurrentBatchConfig,J=0,Te=null,Se=null,Ae=0,tt=0,Vr=Ln(0),Ce=0,vi=null,yr=0,Aa=0,$u=0,Js=null,He=null,Wu=0,os=1/0,Ht=null,ua=!1,Nc=null,Nn=null,vo=!1,vn=null,da=0,Qs=0,Tc=null,Io=-1,_o=0;function ze(){return J&6?ve():Io!==-1?Io:Io=ve()}function Tn(e){return e.mode&1?J&2&&Ae!==0?Ae&-Ae:M0.transition!==null?(_o===0&&(_o=lm()),_o):(e=Q,e!==0||(e=window.event,e=e===void 0?16:mm(e.type)),e):1}function Et(e,t,n,r){if(50<Qs)throw Qs=0,Tc=null,Error(R(185));Ei(e,n,r),(!(J&2)||e!==Te)&&(e===Te&&(!(J&2)&&(Aa|=n),Ce===4&&yn(e,Ae)),Qe(e,r),n===1&&J===0&&!(t.mode&1)&&(os=ve()+500,Na&&In()))}function Qe(e,t){var n=e.callbackNode;Mv(e,t);var r=Ko(e,e===Te?Ae:0);if(r===0)n!==null&&qd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qd(n),t===1)e.tag===0?A0(zh.bind(null,e)):Lm(zh.bind(null,e)),N0(function(){!(J&6)&&In()}),n=null;else{switch(cm(r)){case 1:n=gu;break;case 4:n=om;break;case 16:n=Go;break;case 536870912:n=am;break;default:n=Go}n=Rg(n,Cg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cg(e,t){if(Io=-1,_o=0,J&6)throw Error(R(327));var n=e.callbackNode;if(Qr()&&e.callbackNode!==n)return null;var r=Ko(e,e===Te?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ha(e,r);else{t=r;var s=J;J|=2;var i=Tg();(Te!==e||Ae!==t)&&(Ht=null,os=ve()+500,cr(e,t));do try{Q0();break}catch(l){Ng(e,l)}while(1);Eu(),ca.current=i,J=s,Se!==null?t=0:(Te=null,Ae=0,t=Ce)}if(t!==0){if(t===2&&(s=ec(e),s!==0&&(r=s,t=Pc(e,s))),t===1)throw n=vi,cr(e,0),yn(e,r),Qe(e,ve()),n;if(t===6)yn(e,r);else{if(s=e.current.alternate,!(r&30)&&!q0(s)&&(t=ha(e,r),t===2&&(i=ec(e),i!==0&&(r=i,t=Pc(e,i))),t===1))throw n=vi,cr(e,0),yn(e,r),Qe(e,ve()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Xn(e,He,Ht);break;case 3:if(yn(e,r),(r&130023424)===r&&(t=Wu+500-ve(),10<t)){if(Ko(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=lc(Xn.bind(null,e,He,Ht),t);break}Xn(e,He,Ht);break;case 4:if(yn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Pt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K0(r/1960))-r,10<r){e.timeoutHandle=lc(Xn.bind(null,e,He,Ht),r);break}Xn(e,He,Ht);break;case 5:Xn(e,He,Ht);break;default:throw Error(R(329))}}}return Qe(e,ve()),e.callbackNode===n?Cg.bind(null,e):null}function Pc(e,t){var n=Js;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=ha(e,t),e!==2&&(t=He,He=n,t!==null&&Ec(t)),e}function Ec(e){He===null?He=e:He.push.apply(He,e)}function q0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!At(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t){for(t&=~$u,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function zh(e){if(J&6)throw Error(R(327));Qr();var t=Ko(e,0);if(!(t&1))return Qe(e,ve()),null;var n=ha(e,t);if(e.tag!==0&&n===2){var r=ec(e);r!==0&&(t=r,n=Pc(e,r))}if(n===1)throw n=vi,cr(e,0),yn(e,t),Qe(e,ve()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,He,Ht),Qe(e,ve()),null}function Yu(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(os=ve()+500,Na&&In())}}function xr(e){vn!==null&&vn.tag===0&&!(J&6)&&Qr();var t=J;J|=1;var n=mt.transition,r=Q;try{if(mt.transition=null,Q=1,e)return e()}finally{Q=r,mt.transition=n,J=t,!(J&6)&&In()}}function Hu(){tt=Vr.current,ie(Vr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,C0(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zo();break;case 3:ss(),ie(qe),ie(Fe),Iu();break;case 5:Lu(r);break;case 4:ss();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:Au(r.type._context);break;case 22:case 23:Hu()}n=n.return}if(Te=e,Se=e=Pn(e.current,null),Ae=tt=t,Ce=0,vi=null,$u=Aa=yr=0,He=Js=null,sr!==null){for(t=0;t<sr.length;t++)if(n=sr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}sr=null}return e}function Ng(e,t){do{var n=Se;try{if(Eu(),Ro.current=la,aa){for(var r=he.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}aa=!1}if(gr=0,Ne=be=he=null,Ks=!1,gi=0,Bu.current=null,n===null||n.return===null){Ce=1,vi=t,Se=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ae,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=Ph(o);if(x!==null){x.flags&=-257,Eh(x,o,l,i,t),x.mode&1&&Th(i,u,t),t=x,c=u;var w=t.updateQueue;if(w===null){var S=new Set;S.add(c),t.updateQueue=S}else w.add(c);break e}else{if(!(t&1)){Th(i,u,t),Gu();break e}c=Error(R(426))}}else if(ae&&l.mode&1){var k=Ph(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Eh(k,o,l,i,t),Tu(is(c,l));break e}}i=c=is(c,l),Ce!==4&&(Ce=2),Js===null?Js=[i]:Js.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=cg(i,c,t);Sh(i,m);break e;case 1:l=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Nn===null||!Nn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=ug(i,l,t);Sh(i,b);break e}}i=i.return}while(i!==null)}Eg(n)}catch(C){t=C,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(1)}function Tg(){var e=ca.current;return ca.current=la,e===null?la:e}function Gu(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Te===null||!(yr&268435455)&&!(Aa&268435455)||yn(Te,Ae)}function ha(e,t){var n=J;J|=2;var r=Tg();(Te!==e||Ae!==t)&&(Ht=null,cr(e,t));do try{J0();break}catch(s){Ng(e,s)}while(1);if(Eu(),J=n,ca.current=r,Se!==null)throw Error(R(261));return Te=null,Ae=0,Ce}function J0(){for(;Se!==null;)Pg(Se)}function Q0(){for(;Se!==null&&!kv();)Pg(Se)}function Pg(e){var t=Mg(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Eg(e):Se=t,Bu.current=null}function Eg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=W0(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,Se=null;return}}else if(n=$0(n,t,tt),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ce===0&&(Ce=5)}function Xn(e,t,n){var r=Q,s=mt.transition;try{mt.transition=null,Q=1,X0(e,t,n,r)}finally{mt.transition=s,Q=r}return null}function X0(e,t,n,r){do Qr();while(vn!==null);if(J&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Rv(e,i),e===Te&&(Se=Te=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vo||(vo=!0,Rg(Go,function(){return Qr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=mt.transition,mt.transition=null;var o=Q;Q=1;var l=J;J|=4,Bu.current=null,H0(e,n),jg(n,e),x0(oc),qo=!!ic,oc=ic=null,e.current=n,G0(n),jv(),J=l,Q=o,mt.transition=i}else e.current=n;if(vo&&(vo=!1,vn=e,da=s),i=e.pendingLanes,i===0&&(Nn=null),Nv(n.stateNode),Qe(e,ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ua)throw ua=!1,e=Nc,Nc=null,e;return da&1&&e.tag!==0&&Qr(),i=e.pendingLanes,i&1?e===Tc?Qs++:(Qs=0,Tc=e):Qs=0,In(),null}function Qr(){if(vn!==null){var e=cm(da),t=mt.transition,n=Q;try{if(mt.transition=null,Q=16>e?16:e,vn===null)var r=!1;else{if(e=vn,vn=null,da=0,J&6)throw Error(R(331));var s=J;for(J|=4,U=e.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:qs(8,d,i)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var f=d.sibling,x=d.return;if(wg(d),d===u){U=null;break}if(f!==null){f.return=x,U=f;break}U=x}}}var w=i.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,U=m;break e}U=i.return}}var p=e.current;for(U=p;U!==null;){o=U;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,U=g;else e:for(o=p;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ea(9,l)}}catch(C){me(l,l.return,C)}if(l===o){U=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,U=b;break e}U=l.return}}if(J=s,In(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Sa,e)}catch{}r=!0}return r}finally{Q=n,mt.transition=t}}return!1}function Bh(e,t,n){t=is(n,t),t=cg(e,t,1),e=Cn(e,t,1),t=ze(),e!==null&&(Ei(e,1,t),Qe(e,t))}function me(e,t,n){if(e.tag===3)Bh(e,e,n);else for(;t!==null;){if(t.tag===3){Bh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nn===null||!Nn.has(r))){e=is(n,e),e=ug(t,e,1),t=Cn(t,e,1),e=ze(),t!==null&&(Ei(t,1,e),Qe(t,e));break}}t=t.return}}function Z0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Ae&n)===n&&(Ce===4||Ce===3&&(Ae&130023424)===Ae&&500>ve()-Wu?cr(e,0):$u|=n),Qe(e,t)}function Ag(e,t){t===0&&(e.mode&1?(t=lo,lo<<=1,!(lo&130023424)&&(lo=4194304)):t=1);var n=ze();e=Zt(e,t),e!==null&&(Ei(e,t,n),Qe(e,n))}function ew(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ag(e,n)}function tw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Ag(e,n)}var Mg;Mg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,B0(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ae&&t.flags&1048576&&Im(t,na,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lo(e,t),e=t.pendingProps;var s=ts(t,Fe.current);Jr(t,n),s=Fu(null,t,r,e,s,n);var i=Uu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(i=!0,ea(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ru(t),s.updater=Pa,t.stateNode=s,s._reactInternals=t,mc(t,r,e,n),t=xc(null,t,r,!0,i,n)):(t.tag=0,ae&&i&&Cu(t),Oe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=rw(r),e=Ct(r,e),s){case 0:t=yc(null,t,r,e,n);break e;case 1:t=Rh(null,t,r,e,n);break e;case 11:t=Ah(null,t,r,e,n);break e;case 14:t=Mh(null,t,r,Ct(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ct(r,s),yc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ct(r,s),Rh(e,t,r,s,n);case 3:e:{if(pg(t),e===null)throw Error(R(387));r=t.pendingProps,i=t.memoizedState,s=i.element,zm(e,t),ia(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=is(Error(R(423)),t),t=Dh(e,t,r,n,s);break e}else if(r!==s){s=is(Error(R(424)),t),t=Dh(e,t,r,n,s);break e}else for(nt=bn(t.stateNode.containerInfo.firstChild),rt=t,ae=!0,Tt=null,n=Om(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ns(),r===s){t=en(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Bm(t),e===null&&hc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ac(r,s)?o=null:i!==null&&ac(r,i)&&(t.flags|=32),fg(e,t),Oe(e,t,o,n),t.child;case 6:return e===null&&hc(t),null;case 13:return mg(e,t,n);case 4:return Du(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rs(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ct(r,s),Ah(e,t,r,s,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ne(ra,r._currentValue),r._currentValue=o,i!==null)if(At(i.value,o)){if(i.children===s.children&&!qe.current){t=en(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Jt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),fc(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),fc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Jr(t,n),s=yt(s),r=r(s),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,s=Ct(r,t.pendingProps),s=Ct(r.type,s),Mh(e,t,r,s,n);case 15:return dg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ct(r,s),Lo(e,t),t.tag=1,Je(r)?(e=!0,ea(t)):e=!1,Jr(t,n),lg(t,r,s),mc(t,r,s,n),xc(null,t,r,!0,e,n);case 19:return gg(e,t,n);case 22:return hg(e,t,n)}throw Error(R(156,t.tag))};function Rg(e,t){return im(e,t)}function nw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new nw(e,t,n,r)}function Ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rw(e){if(typeof e=="function")return Ku(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fu)return 11;if(e===pu)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ku(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ar:return ur(n.children,s,i,t);case hu:o=8,s|=8;break;case Ol:return e=pt(12,n,t,s|2),e.elementType=Ol,e.lanes=i,e;case Vl:return e=pt(13,n,t,s),e.elementType=Vl,e.lanes=i,e;case zl:return e=pt(19,n,t,s),e.elementType=zl,e.lanes=i,e;case Bp:return Ma(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vp:o=10;break e;case zp:o=9;break e;case fu:o=11;break e;case pu:o=14;break e;case pn:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=pt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ur(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function Ma(e,t,n,r){return e=pt(22,e,r,t),e.elementType=Bp,e.lanes=n,e.stateNode={isHidden:!1},e}function gl(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function yl(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qu(e,t,n,r,s,i,o,l,c){return e=new sw(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=pt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(i),e}function iw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dg(e){if(!e)return An;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Je(n))return Dm(e,n,t)}return t}function Lg(e,t,n,r,s,i,o,l,c){return e=qu(n,r,!0,e,s,i,o,l,c),e.context=Dg(null),n=e.current,r=ze(),s=Tn(n),i=Jt(r,s),i.callback=t??null,Cn(n,i,s),e.current.lanes=s,Ei(e,s,r),Qe(e,r),e}function Ra(e,t,n,r){var s=t.current,i=ze(),o=Tn(s);return n=Dg(n),t.context===null?t.context=n:t.pendingContext=n,t=Jt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cn(s,t,o),e!==null&&(Et(e,s,o,i),Mo(e,s,o)),o}function fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ju(e,t){$h(e,t),(e=e.alternate)&&$h(e,t)}function ow(){return null}var Ig=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}Da.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Ra(e,t,null,null)};Da.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){Ra(null,e,null,null)}),t[Xt]=null}};function Da(e){this._internalRoot=e}Da.prototype.unstable_scheduleHydration=function(e){if(e){var t=hm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&pm(e)}};function Xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wh(){}function aw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=fa(o);i.call(u)}}var o=Lg(t,r,e,0,null,!1,!1,"",Wh);return e._reactRootContainer=o,e[Xt]=o.current,di(e.nodeType===8?e.parentNode:e),xr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=fa(c);l.call(u)}}var c=qu(e,0,!1,null,null,!1,!1,"",Wh);return e._reactRootContainer=c,e[Xt]=c.current,di(e.nodeType===8?e.parentNode:e),xr(function(){Ra(t,c,n,r)}),c}function Ia(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=fa(o);l.call(c)}}Ra(t,o,e,s)}else o=aw(n,t,e,s,r);return fa(o)}um=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Os(t.pendingLanes);n!==0&&(yu(t,n|1),Qe(t,ve()),!(J&6)&&(os=ve()+500,In()))}break;case 13:xr(function(){var r=Zt(e,1);if(r!==null){var s=ze();Et(r,e,1,s)}}),Ju(e,1)}};xu=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var n=ze();Et(t,e,134217728,n)}Ju(e,134217728)}};dm=function(e){if(e.tag===13){var t=Tn(e),n=Zt(e,t);if(n!==null){var r=ze();Et(n,e,t,r)}Ju(e,t)}};hm=function(){return Q};fm=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};Ql=function(e,t,n){switch(t){case"input":if(Wl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ca(r);if(!s)throw Error(R(90));Wp(r),Wl(r,s)}}}break;case"textarea":Hp(e,n);break;case"select":t=n.value,t!=null&&Hr(e,!!n.multiple,t,!1)}};Zp=Yu;em=xr;var lw={usingClientEntryPoint:!1,Events:[Mi,Lr,Ca,Qp,Xp,Yu]},Ls={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cw={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rm(e),e===null?null:e.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||ow,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{Sa=wo.inject(cw),Ut=wo}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lw;it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xu(t))throw Error(R(200));return iw(e,t,null,n)};it.createRoot=function(e,t){if(!Xu(e))throw Error(R(299));var n=!1,r="",s=Ig;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=qu(e,1,!1,null,null,n,!1,r,s),e[Xt]=t.current,di(e.nodeType===8?e.parentNode:e),new Qu(t)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=rm(t),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return xr(e)};it.hydrate=function(e,t,n){if(!La(t))throw Error(R(200));return Ia(null,e,t,!0,n)};it.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ig;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Lg(t,null,e,1,n??null,s,!1,i,o),e[Xt]=t.current,di(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Da(t)};it.render=function(e,t,n){if(!La(t))throw Error(R(200));return Ia(null,e,t,!1,n)};it.unmountComponentAtNode=function(e){if(!La(e))throw Error(R(40));return e._reactRootContainer?(xr(function(){Ia(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};it.unstable_batchedUpdates=Yu;it.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!La(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ia(e,t,n,!1,r)};it.version="18.3.1-next-f1338f8080-20240426";function _g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_g)}catch(e){console.error(e)}}_g(),_p.exports=it;var uw=_p.exports,Yh=uw;Fl.createRoot=Yh.createRoot,Fl.hydrateRoot=Yh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wi.apply(this,arguments)}var wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wn||(wn={}));const Hh="popstate";function dw(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Ac("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ug(s)}return fw(t,n,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hw(){return Math.random().toString(36).substr(2,8)}function Gh(e,t){return{usr:e.state,key:e.key,idx:t}}function Ac(e,t,n,r){return n===void 0&&(n=null),wi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hs(t):t,{state:n,key:t&&t.key||r||hw()})}function Ug(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fw(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=wn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(wi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=wn.Pop;let k=d(),m=k==null?null:k-u;u=k,c&&c({action:l,location:S.location,delta:m})}function f(k,m){l=wn.Push;let p=Ac(S.location,k,m);n&&n(p,k),u=d()+1;let g=Gh(p,u),b=S.createHref(p);try{o.pushState(g,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}i&&c&&c({action:l,location:S.location,delta:1})}function x(k,m){l=wn.Replace;let p=Ac(S.location,k,m);n&&n(p,k),u=d();let g=Gh(p,u),b=S.createHref(p);o.replaceState(g,"",b),i&&c&&c({action:l,location:S.location,delta:0})}function w(k){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof k=="string"?k:Ug(k);return p=p.replace(/ $/,"%20"),ke(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let S={get action(){return l},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Hh,h),c=k,()=>{s.removeEventListener(Hh,h),c=null}},createHref(k){return t(s,k)},createURL:w,encodeLocation(k){let m=w(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:x,go(k){return o.go(k)}};return S}var Kh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kh||(Kh={}));function pw(e,t,n){return n===void 0&&(n="/"),mw(e,t,n,!1)}function mw(e,t,n,r){let s=typeof t=="string"?hs(t):t,i=zg(s.pathname||"/",n);if(i==null)return null;let o=Og(e);gw(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Tw(i);l=Cw(o[c],u,r)}return l}function Og(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ke(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=dr([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Og(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:jw(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Vg(i.path))s(i,o,c)}),t}function Vg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Vg(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function gw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yw=/^:[\w-]+$/,xw=3,vw=2,ww=1,Sw=10,kw=-2,qh=e=>e==="*";function jw(e,t){let n=e.split("/"),r=n.length;return n.some(qh)&&(r+=kw),t&&(r+=vw),n.filter(s=>!qh(s)).reduce((s,i)=>s+(yw.test(i)?xw:i===""?ww:Sw),r)}function bw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Cw(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Jh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Jh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:dr([i,h.pathname]),pathnameBase:Mw(dr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=dr([i,h.pathnameBase]))}return o}function Jh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Nw(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:x}=d;if(f==="*"){let S=l[h]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const w=l[h];return x&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Nw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Tw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Pw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?hs(e):e;return{pathname:n?n.startsWith("/")?n:Ew(n,t):t,search:Rw(r),hash:Dw(s)}}function Ew(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function xl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Aw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bg(e,t){let n=Aw(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $g(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=hs(e):(s=wi({},e),ke(!s.pathname||!s.pathname.includes("?"),xl("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),xl("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),xl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Pw(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const dr=e=>e.join("/").replace(/\/\/+/g,"/"),Mw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Wg=["post","put","patch","delete"];new Set(Wg);const Iw=["get",...Wg];new Set(Iw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}const Zu=y.createContext(null),_w=y.createContext(null),Di=y.createContext(null),_a=y.createContext(null),Sr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Yg=y.createContext(null);function Li(){return y.useContext(_a)!=null}function Ii(){return Li()||ke(!1),y.useContext(_a).location}function Hg(e){y.useContext(Di).static||y.useLayoutEffect(e)}function kr(){let{isDataRoute:e}=y.useContext(Sr);return e?qw():Fw()}function Fw(){Li()||ke(!1);let e=y.useContext(Zu),{basename:t,future:n,navigator:r}=y.useContext(Di),{matches:s}=y.useContext(Sr),{pathname:i}=Ii(),o=JSON.stringify(Bg(s,n.v7_relativeSplatPath)),l=y.useRef(!1);return Hg(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=$g(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:dr([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function Uw(e,t){return Ow(e,t)}function Ow(e,t,n,r){Li()||ke(!1);let{navigator:s}=y.useContext(Di),{matches:i}=y.useContext(Sr),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ii(),d;if(t){var h;let k=typeof t=="string"?hs(t):t;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||ke(!1),d=k}else d=u;let f=d.pathname||"/",x=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=pw(e,{pathname:x}),S=Ww(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:dr([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:dr([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return t&&S?y.createElement(_a.Provider,{value:{location:Si({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wn.Pop}},S):S}function Vw(){let e=Kw(),t=Lw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,i)}const zw=y.createElement(Vw,null);class Bw extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Sr.Provider,{value:this.props.routeContext},y.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $w(e){let{routeContext:t,match:n,children:r}=e,s=y.useContext(Zu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Sr.Provider,{value:t},r)}function Ww(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ke(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:x}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let x,w=!1,S=null,k=null;n&&(x=l&&h.route.id?l[h.route.id]:void 0,S=h.route.errorElement||zw,c&&(u<0&&f===0?(Jw("route-fallback",!1),w=!0,k=null):u===f&&(w=!0,k=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let g;return x?g=S:w?g=k:h.route.Component?g=y.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,y.createElement($w,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(Bw,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Gg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gg||{}),pa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pa||{});function Yw(e){let t=y.useContext(Zu);return t||ke(!1),t}function Hw(e){let t=y.useContext(_w);return t||ke(!1),t}function Gw(e){let t=y.useContext(Sr);return t||ke(!1),t}function Kg(e){let t=Gw(),n=t.matches[t.matches.length-1];return n.route.id||ke(!1),n.route.id}function Kw(){var e;let t=y.useContext(Yg),n=Hw(pa.UseRouteError),r=Kg(pa.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function qw(){let{router:e}=Yw(Gg.UseNavigateStable),t=Kg(pa.UseNavigateStable),n=y.useRef(!1);return Hg(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Si({fromRouteId:t},i)))},[e,t])}const Qh={};function Jw(e,t,n){!t&&!Qh[e]&&(Qh[e]=!0)}function Qw(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Xw(e){let{to:t,replace:n,state:r,relative:s}=e;Li()||ke(!1);let{future:i,static:o}=y.useContext(Di),{matches:l}=y.useContext(Sr),{pathname:c}=Ii(),u=kr(),d=$g(t,Bg(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function hn(e){ke(!1)}function Zw(e){let{basename:t="/",children:n=null,location:r,navigationType:s=wn.Pop,navigator:i,static:o=!1,future:l}=e;Li()&&ke(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:Si({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=hs(r));let{pathname:d="/",search:h="",hash:f="",state:x=null,key:w="default"}=r,S=y.useMemo(()=>{let k=zg(d,c);return k==null?null:{location:{pathname:k,search:h,hash:f,state:x,key:w},navigationType:s}},[c,d,h,f,x,w,s]);return S==null?null:y.createElement(Di.Provider,{value:u},y.createElement(_a.Provider,{children:n,value:S}))}function e1(e){let{children:t,location:n}=e;return Uw(Mc(t),n)}new Promise(()=>{});function Mc(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let i=[...t,s];if(r.type===y.Fragment){n.push.apply(n,Mc(r.props.children,i));return}r.type!==hn&&ke(!1),!r.props.index||!r.props.children||ke(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Mc(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const t1="6";try{window.__reactRouterVersion=t1}catch{}const n1="startTransition",Xh=Zx[n1];function r1(e){let{basename:t,children:n,future:r,window:s}=e,i=y.useRef();i.current==null&&(i.current=dw({window:s,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&Xh?Xh(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>Qw(r),[r]),y.createElement(Zw,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Zh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zh||(Zh={}));var ef;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ef||(ef={}));const ed=y.createContext({});function td(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const nd=typeof window<"u",qg=nd?y.useLayoutEffect:y.useEffect,Fa=y.createContext(null);function rd(e,t){e.indexOf(t)===-1&&e.push(t)}function sd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const tn=(e,t,n)=>n>t?t:n<e?e:n;let id=()=>{};const nn={},Jg=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Qg(e){return typeof e=="object"&&e!==null}const Xg=e=>/^0[^.\s]+$/u.test(e);function od(e){let t;return()=>(t===void 0&&(t=e()),t)}const gt=e=>e,s1=(e,t)=>n=>t(e(n)),_i=(...e)=>e.reduce(s1),ki=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class ad{constructor(){this.subscriptions=[]}add(t){return rd(this.subscriptions,t),()=>sd(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vt=e=>e*1e3,zt=e=>e/1e3;function Zg(e,t){return t?e*(1e3/t):0}const ey=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,i1=1e-7,o1=12;function a1(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=ey(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>i1&&++l<o1);return o}function Fi(e,t,n,r){if(e===t&&n===r)return gt;const s=i=>a1(i,0,1,e,n);return i=>i===0||i===1?i:ey(s(i),t,r)}const ty=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ny=e=>t=>1-e(1-t),ry=Fi(.33,1.53,.69,.99),ld=ny(ry),sy=ty(ld),iy=e=>(e*=2)<1?.5*ld(e):.5*(2-Math.pow(2,-10*(e-1))),cd=e=>1-Math.sin(Math.acos(e)),oy=ny(cd),ay=ty(cd),l1=Fi(.42,0,1,1),c1=Fi(0,0,.58,1),ly=Fi(.42,0,.58,1),u1=e=>Array.isArray(e)&&typeof e[0]!="number",cy=e=>Array.isArray(e)&&typeof e[0]=="number",d1={linear:gt,easeIn:l1,easeInOut:ly,easeOut:c1,circIn:cd,circInOut:ay,circOut:oy,backIn:ld,backInOut:sy,backOut:ry,anticipate:iy},h1=e=>typeof e=="string",tf=e=>{if(cy(e)){id(e.length===4);const[t,n,r,s]=e;return Fi(t,n,r,s)}else if(h1(e))return d1[e];return e},So=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],nf={value:null,addProjectionMetrics:null};function f1(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,x=!1)=>{const S=x&&s?n:r;return f&&o.add(h),S.has(h)||S.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&nf.value&&nf.value.frameloop[t].push(c),c=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const p1=40;function uy(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=So.reduce((g,b)=>(g[b]=f1(i,t?b:void 0),g),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:x,postRender:w}=o,S=()=>{const g=nn.useManualTiming?s.timestamp:performance.now();n=!1,nn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,p1),1)),s.timestamp=g,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),x.process(s),w.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(S))},k=()=>{n=!0,r=!0,s.isProcessing||e(S)};return{schedule:So.reduce((g,b)=>{const C=o[b];return g[b]=(P,A=!1,N=!1)=>(n||k(),C.schedule(P,A,N)),g},{}),cancel:g=>{for(let b=0;b<So.length;b++)o[So[b]].cancel(g)},state:s,steps:o}}const{schedule:le,cancel:Mn,state:Ee,steps:vl}=uy(typeof requestAnimationFrame<"u"?requestAnimationFrame:gt,!0);let Uo;function m1(){Uo=void 0}const Ke={now:()=>(Uo===void 0&&Ke.set(Ee.isProcessing||nn.useManualTiming?Ee.timestamp:performance.now()),Uo),set:e=>{Uo=e,queueMicrotask(m1)}},dy=e=>t=>typeof t=="string"&&t.startsWith(e),ud=dy("--"),g1=dy("var(--"),dd=e=>g1(e)?y1.test(e.split("/*")[0].trim()):!1,y1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ji={...fs,transform:e=>tn(0,1,e)},ko={...fs,default:1},Xs=e=>Math.round(e*1e5)/1e5,hd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x1(e){return e==null}const v1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fd=(e,t)=>n=>!!(typeof n=="string"&&v1.test(n)&&n.startsWith(e)||t&&!x1(n)&&Object.prototype.hasOwnProperty.call(n,t)),hy=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(hd);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},w1=e=>tn(0,255,e),wl={...fs,transform:e=>Math.round(w1(e))},or={test:fd("rgb","red"),parse:hy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+wl.transform(e)+", "+wl.transform(t)+", "+wl.transform(n)+", "+Xs(ji.transform(r))+")"};function S1(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Rc={test:fd("#"),parse:S1,transform:or.transform},Ui=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fn=Ui("deg"),Bt=Ui("%"),B=Ui("px"),k1=Ui("vh"),j1=Ui("vw"),rf=(()=>({...Bt,parse:e=>Bt.parse(e)/100,transform:e=>Bt.transform(e*100)}))(),zr={test:fd("hsl","hue"),parse:hy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bt.transform(Xs(t))+", "+Bt.transform(Xs(n))+", "+Xs(ji.transform(r))+")"},we={test:e=>or.test(e)||Rc.test(e)||zr.test(e),parse:e=>or.test(e)?or.parse(e):zr.test(e)?zr.parse(e):Rc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?or.transform(e):zr.transform(e),getAnimatableNone:e=>{const t=we.parse(e);return t.alpha=0,we.transform(t)}},b1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function C1(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hd))==null?void 0:t.length)||0)+(((n=e.match(b1))==null?void 0:n.length)||0)>0}const fy="number",py="color",N1="var",T1="var(",sf="${}",P1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bi(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(P1,c=>(we.test(c)?(r.color.push(i),s.push(py),n.push(we.parse(c))):c.startsWith(T1)?(r.var.push(i),s.push(N1),n.push(c)):(r.number.push(i),s.push(fy),n.push(parseFloat(c))),++i,sf)).split(sf);return{values:n,split:l,indexes:r,types:s}}function my(e){return bi(e).values}function gy(e){const{split:t,types:n}=bi(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===fy?i+=Xs(s[o]):l===py?i+=we.transform(s[o]):i+=s[o]}return i}}const E1=e=>typeof e=="number"?0:we.test(e)?we.getAnimatableNone(e):e;function A1(e){const t=my(e);return gy(e)(t.map(E1))}const Rn={test:C1,parse:my,createTransformer:gy,getAnimatableNone:A1};function Sl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function M1({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Sl(c,l,e+1/3),i=Sl(c,l,e),o=Sl(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ma(e,t){return n=>n>0?t:e}const de=(e,t,n)=>e+(t-e)*n,kl=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},R1=[Rc,or,zr],D1=e=>R1.find(t=>t.test(e));function of(e){const t=D1(e);if(!t)return!1;let n=t.parse(e);return t===zr&&(n=M1(n)),n}const af=(e,t)=>{const n=of(e),r=of(t);if(!n||!r)return ma(e,t);const s={...n};return i=>(s.red=kl(n.red,r.red,i),s.green=kl(n.green,r.green,i),s.blue=kl(n.blue,r.blue,i),s.alpha=de(n.alpha,r.alpha,i),or.transform(s))},Dc=new Set(["none","hidden"]);function L1(e,t){return Dc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function I1(e,t){return n=>de(e,t,n)}function pd(e){return typeof e=="number"?I1:typeof e=="string"?dd(e)?ma:we.test(e)?af:U1:Array.isArray(e)?yy:typeof e=="object"?we.test(e)?af:_1:ma}function yy(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>pd(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function _1(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=pd(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function F1(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],l=e.values[o]??0;n[s]=l,r[i]++}return n}const U1=(e,t)=>{const n=Rn.createTransformer(t),r=bi(e),s=bi(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dc.has(e)&&!s.values.length||Dc.has(t)&&!r.values.length?L1(e,t):_i(yy(F1(r,s),s.values),n):ma(e,t)};function xy(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?de(e,t,n):pd(e)(e,t)}const O1=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>le.update(t,n),stop:()=>Mn(t),now:()=>Ee.isProcessing?Ee.timestamp:Ke.now()}},vy=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ga=2e4;function md(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ga;)t+=n,r=e.next(t);return t>=ga?1/0:t}function V1(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(md(r),ga);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:zt(s)}}const z1=5;function wy(e,t,n){const r=Math.max(t-z1,0);return Zg(n-e(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jl=.001;function B1({duration:e=pe.duration,bounce:t=pe.bounce,velocity:n=pe.velocity,mass:r=pe.mass}){let s,i,o=1-t;o=tn(pe.minDamping,pe.maxDamping,o),e=tn(pe.minDuration,pe.maxDuration,zt(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,x=Lc(u,o),w=Math.exp(-h);return jl-f/x*w},i=u=>{const h=u*o*e,f=h*n+n,x=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-h),S=Lc(Math.pow(u,2),o);return(-s(u)+jl>0?-1:1)*((f-x)*w)/S}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-jl+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=W1(s,i,l);if(e=Vt(e),isNaN(c))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const $1=12;function W1(e,t,n){let r=n;for(let s=1;s<$1;s++)r=r-e(r)/t(r);return r}function Lc(e,t){return e*Math.sqrt(1-t*t)}const Y1=["duration","bounce"],H1=["stiffness","damping","mass"];function lf(e,t){return t.some(n=>e[n]!==void 0)}function G1(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!lf(e,H1)&&lf(e,Y1))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*tn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:pe.mass,stiffness:s,damping:i}}else{const n=B1(e);t={...t,...n,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function ya(e=pe.visualDuration,t=pe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:x}=G1({...n,velocity:-zt(n.velocity||0)}),w=f||0,S=u/(2*Math.sqrt(c*d)),k=o-i,m=zt(Math.sqrt(c/d)),p=Math.abs(k)<5;r||(r=p?pe.restSpeed.granular:pe.restSpeed.default),s||(s=p?pe.restDelta.granular:pe.restDelta.default);let g;if(S<1){const C=Lc(m,S);g=P=>{const A=Math.exp(-S*m*P);return o-A*((w+S*m*k)/C*Math.sin(C*P)+k*Math.cos(C*P))}}else if(S===1)g=C=>o-Math.exp(-m*C)*(k+(w+m*k)*C);else{const C=m*Math.sqrt(S*S-1);g=P=>{const A=Math.exp(-S*m*P),N=Math.min(C*P,300);return o-A*((w+S*m*k)*Math.sinh(N)+C*k*Math.cosh(N))/C}}const b={calculatedDuration:x&&h||null,next:C=>{const P=g(C);if(x)l.done=C>=h;else{let A=C===0?w:0;S<1&&(A=C===0?Vt(w):wy(g,C,P));const N=Math.abs(A)<=r,F=Math.abs(o-P)<=s;l.done=N&&F}return l.value=l.done?o:P,l},toString:()=>{const C=Math.min(md(b),ga),P=vy(A=>b.next(C*A).value,C,30);return C+"ms "+P},toTransition:()=>{}};return b}ya.applyToOptions=e=>{const t=V1(e,100,ya);return e.ease=t.ease,e.duration=Vt(t.duration),e.type="keyframes",e};function Ic({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},x=N=>l!==void 0&&N<l||c!==void 0&&N>c,w=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let S=n*t;const k=h+S,m=o===void 0?k:o(k);m!==k&&(S=m-h);const p=N=>-S*Math.exp(-N/r),g=N=>m+p(N),b=N=>{const F=p(N),_=g(N);f.done=Math.abs(F)<=u,f.value=f.done?m:_};let C,P;const A=N=>{x(f.value)&&(C=N,P=ya({keyframes:[f.value,w(f.value)],velocity:wy(g,N,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:N=>{let F=!1;return!P&&C===void 0&&(F=!0,b(N),A(N)),C!==void 0&&N>=C?P.next(N-C):(!F&&b(N),f)}}}function K1(e,t,n){const r=[],s=n||nn.mix||xy,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||gt:t;l=_i(c,l)}r.push(l)}return r}function q1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(id(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=K1(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=ki(e[h],e[h+1],d);return l[h](f)};return n?d=>u(tn(e[0],e[i-1],d)):u}function J1(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=ki(0,t,r);e.push(de(n,1,s))}}function Q1(e){const t=[0];return J1(t,e.length-1),t}function X1(e,t){return e.map(n=>n*t)}function Z1(e,t){return e.map(()=>t||ly).splice(0,e.length-1)}function Zs({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=u1(r)?r.map(tf):tf(r),i={done:!1,value:t[0]},o=X1(n&&n.length===t.length?n:Q1(t),e),l=q1(o,t,{ease:Array.isArray(s)?s:Z1(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const eS=e=>e!==null;function gd(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(eS),l=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const tS={decay:Ic,inertia:Ic,tween:Zs,keyframes:Zs,spring:ya};function Sy(e){typeof e.type=="string"&&(e.type=tS[e.type])}class yd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const nS=e=>e/100;class xd extends yd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ke.now()&&this.tick(Ke.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Sy(t);const{type:n=Zs,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Zs;c!==Zs&&typeof l[0]!="number"&&(this.mixKeyframes=_i(nS,xy(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=md(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:x,type:w,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?m<0:m>s;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,b=r;if(h){const N=Math.min(this.currentTime,s)/l;let F=Math.floor(N),_=N%1;!_&&N>=1&&(_=1),_===1&&F--,F=Math.min(F,h+1),!!(F%2)&&(f==="reverse"?(_=1-_,x&&(_-=x/l)):f==="mirror"&&(b=o)),g=tn(0,1,_)*l}const C=p?{done:!1,value:d[0]}:b.next(g);i&&(C.value=i(C.value));let{done:P}=C;!p&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return A&&w!==Ic&&(C.value=gd(d,this.options,k,this.speed)),S&&S(C.value),A&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return zt(this.calculatedDuration)}get time(){return zt(this.currentTime)}set time(t){var n;t=Vt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ke.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=zt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=O1,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ke.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function rS(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ar=e=>e*180/Math.PI,_c=e=>{const t=ar(Math.atan2(e[1],e[0]));return Fc(t)},sS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_c,rotateZ:_c,skewX:e=>ar(Math.atan(e[1])),skewY:e=>ar(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Fc=e=>(e=e%360,e<0&&(e+=360),e),cf=_c,uf=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),df=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),iS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uf,scaleY:df,scale:e=>(uf(e)+df(e))/2,rotateX:e=>Fc(ar(Math.atan2(e[6],e[5]))),rotateY:e=>Fc(ar(Math.atan2(-e[2],e[0]))),rotateZ:cf,rotate:cf,skewX:e=>ar(Math.atan(e[4])),skewY:e=>ar(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Uc(e){return e.includes("scale")?1:0}function Oc(e,t){if(!e||e==="none")return Uc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=iS,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=sS,s=l}if(!s)return Uc(t);const i=r[t],o=s[1].split(",").map(aS);return typeof i=="function"?i(o):o[i]}const oS=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Oc(n,t)};function aS(e){return parseFloat(e.trim())}const ps=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ms=(()=>new Set(ps))(),hf=e=>e===fs||e===B,lS=new Set(["x","y","z"]),cS=ps.filter(e=>!lS.has(e));function uS(e){const t=[];return cS.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const hr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Oc(t,"x"),y:(e,{transform:t})=>Oc(t,"y")};hr.translateX=hr.x;hr.translateY=hr.y;const fr=new Set;let Vc=!1,zc=!1,Bc=!1;function ky(){if(zc){const e=Array.from(fr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=uS(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zc=!1,Vc=!1,fr.forEach(e=>e.complete(Bc)),fr.clear()}function jy(){fr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zc=!0)})}function dS(){Bc=!0,jy(),ky(),Bc=!1}class vd{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(fr.add(this),Vc||(Vc=!0,le.read(jy),le.resolveKeyframes(ky))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}rS(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fr.delete(this)}cancel(){this.state==="scheduled"&&(fr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hS=e=>e.startsWith("--");function fS(e,t,n){hS(t)?e.style.setProperty(t,n):e.style[t]=n}const pS=od(()=>window.ScrollTimeline!==void 0),mS={};function gS(e,t){const n=od(e);return()=>mS[t]??n()}const by=gS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ff={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zs([0,.65,.55,1]),circOut:zs([.55,0,1,.45]),backIn:zs([.31,.01,.66,-.59]),backOut:zs([.33,1.53,.69,.99])};function Cy(e,t){if(e)return typeof e=="function"?by()?vy(e,t):"ease-out":cy(e)?zs(e):Array.isArray(e)?e.map(n=>Cy(n,t)||ff.easeOut):ff[e]}function yS(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=Cy(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function Ny(e){return typeof e=="function"&&"applyToOptions"in e}function xS({type:e,...t}){return Ny(e)&&by()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vS extends yd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,id(typeof t.type!="string");const u=xS(t);this.animation=yS(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=gd(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):fS(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return zt(Number(t))}get time(){return zt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&pS()?(this.animation.timeline=t,gt):n(this)}}const Ty={anticipate:iy,backInOut:sy,circInOut:ay};function wS(e){return e in Ty}function SS(e){typeof e.ease=="string"&&wS(e.ease)&&(e.ease=Ty[e.ease])}const pf=10;class kS extends vS{constructor(t){SS(t),Sy(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new xd({...o,autoplay:!1}),c=Vt(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-pf).value,l.sample(c).value,pf),l.stop()}}const mf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rn.test(e)||e==="0")&&!e.startsWith("url("));function jS(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function bS(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=mf(s,t),l=mf(i,t);return!o||!l?!1:jS(e)||(n==="spring"||Ny(n))&&r}function $c(e){e.duration=0,e.type}const CS=new Set(["opacity","clipPath","filter","transform"]),NS=od(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TS(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return NS()&&n&&CS.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const PS=40;class ES extends yd{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var w;super(),this.stop=()=>{var S,k;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Ke.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...h},x=(d==null?void 0:d.KeyframeResolver)||vd;this.keyframeResolver=new x(l,(S,k,m)=>this.onKeyframesResolved(S,k,f,!m),c,u,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Ke.now(),bS(t,i,o,l)||((nn.instantAnimations||!c)&&(d==null||d(gd(t,r,n))),t[0]=t[t.length-1],$c(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>PS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!u&&TS(f)?new kS({...f,element:f.motionValue.owner.current}):new xd(f);x.finished.then(()=>this.notifyFinished()).catch(gt),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),dS()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const AS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MS(e){const t=AS.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Py(e,t,n=1){const[r,s]=MS(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Jg(o)?parseFloat(o):o}return dd(s)?Py(s,t,n+1):s}function wd(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Ey=new Set(["width","height","top","left","right","bottom",...ps]),RS={test:e=>e==="auto",parse:e=>e},Ay=e=>t=>t.test(e),My=[fs,B,Bt,fn,j1,k1,RS],gf=e=>My.find(Ay(e));function DS(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Xg(e):!0}const LS=new Set(["brightness","contrast","saturate","opacity"]);function IS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hd)||[];if(!r)return e;const s=n.replace(r,"");let i=LS.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const _S=/\b([a-z-]*)\(.*?\)/gu,Wc={...Rn,getAnimatableNone:e=>{const t=e.match(_S);return t?t.map(IS).join(" "):e}},yf={...fs,transform:Math.round},FS={rotate:fn,rotateX:fn,rotateY:fn,rotateZ:fn,scale:ko,scaleX:ko,scaleY:ko,scaleZ:ko,skew:fn,skewX:fn,skewY:fn,distance:B,translateX:B,translateY:B,translateZ:B,x:B,y:B,z:B,perspective:B,transformPerspective:B,opacity:ji,originX:rf,originY:rf,originZ:B},Sd={borderWidth:B,borderTopWidth:B,borderRightWidth:B,borderBottomWidth:B,borderLeftWidth:B,borderRadius:B,radius:B,borderTopLeftRadius:B,borderTopRightRadius:B,borderBottomRightRadius:B,borderBottomLeftRadius:B,width:B,maxWidth:B,height:B,maxHeight:B,top:B,right:B,bottom:B,left:B,padding:B,paddingTop:B,paddingRight:B,paddingBottom:B,paddingLeft:B,margin:B,marginTop:B,marginRight:B,marginBottom:B,marginLeft:B,backgroundPositionX:B,backgroundPositionY:B,...FS,zIndex:yf,fillOpacity:ji,strokeOpacity:ji,numOctaves:yf},US={...Sd,color:we,backgroundColor:we,outlineColor:we,fill:we,stroke:we,borderColor:we,borderTopColor:we,borderRightColor:we,borderBottomColor:we,borderLeftColor:we,filter:Wc,WebkitFilter:Wc},Ry=e=>US[e];function Dy(e,t){let n=Ry(e);return n!==Wc&&(n=Rn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const OS=new Set(["auto","none","0"]);function VS(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!OS.has(i)&&bi(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Dy(n,s)}class zS extends vd{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),dd(u))){const d=Py(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ey.has(r)||t.length!==2)return;const[s,i]=t,o=gf(s),l=gf(i);if(o!==l)if(hf(o)&&hf(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else hr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||DS(t[s]))&&r.push(s);r.length&&VS(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=hr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function BS(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Ly=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Iy(e){return Qg(e)&&"offsetHeight"in e}const xf=30,$S=e=>!isNaN(parseFloat(e));class WS{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Ke.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ke.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$S(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ad);const r=this.events[t].add(n);return t==="change"?()=>{r(),le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ke.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xf);return Zg(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function as(e,t){return new WS(e,t)}const{schedule:kd,cancel:Jb}=uy(queueMicrotask,!1),bt={x:!1,y:!1};function _y(){return bt.x||bt.y}function YS(e){return e==="x"||e==="y"?bt[e]?null:(bt[e]=!0,()=>{bt[e]=!1}):bt.x||bt.y?null:(bt.x=bt.y=!0,()=>{bt.x=bt.y=!1})}function Fy(e,t){const n=BS(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function vf(e){return!(e.pointerType==="touch"||_y())}function HS(e,t,n={}){const[r,s,i]=Fy(e,n),o=l=>{if(!vf(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{vf(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const Uy=(e,t)=>t?e===t?!0:Uy(e,t.parentElement):!1,jd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,GS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KS(e){return GS.has(e.tagName)||e.tabIndex!==-1}const Oo=new WeakSet;function wf(e){return t=>{t.key==="Enter"&&e(t)}}function bl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const qS=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=wf(()=>{if(Oo.has(n))return;bl(n,"down");const s=wf(()=>{bl(n,"up")}),i=()=>bl(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Sf(e){return jd(e)&&!_y()}function JS(e,t,n={}){const[r,s,i]=Fy(e,n),o=l=>{const c=l.currentTarget;if(!Sf(l))return;Oo.add(c);const u=t(c,l),d=(x,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Oo.has(c)&&Oo.delete(c),Sf(x)&&typeof u=="function"&&u(x,{success:w})},h=x=>{d(x,c===window||c===document||n.useGlobalTarget||Uy(c,x.target))},f=x=>{d(x,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),Iy(l)&&(l.addEventListener("focus",u=>qS(u,s)),!KS(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Oy(e){return Qg(e)&&"ownerSVGElement"in e}function QS(e){return Oy(e)&&e.tagName==="svg"}const _e=e=>!!(e&&e.getVelocity),XS=[...My,we,Rn],ZS=e=>XS.find(Ay(e)),bd=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class e2 extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Iy(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function t2({children:e,isPresent:t,anchorX:n,root:r}){const s=y.useId(),i=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=y.useContext(bd);return y.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:f}=o.current;if(t||!i.current||!c||!u)return;const x=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");l&&(w.nonce=l);const S=r??document.head;return S.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${x}px !important;
            top: ${d}px !important;
          }
        `),()=>{S.contains(w)&&S.removeChild(w)}},[t]),a.jsx(e2,{isPresent:t,childRef:i,sizeRef:o,children:y.cloneElement(e,{ref:i})})}const n2=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=td(r2),d=y.useId();let h=!0,f=y.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:x=>{u.set(x,!0);for(const w of u.values())if(!w)return;r&&r()},register:x=>(u.set(x,!1),()=>u.delete(x))}),[n,u,r]);return i&&h&&(f={...f}),y.useMemo(()=>{u.forEach((x,w)=>u.set(w,!1))},[n]),y.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(t2,{isPresent:n,anchorX:l,root:c,children:e})),a.jsx(Fa.Provider,{value:f,children:e})};function r2(){return new Map}function Vy(e=!0){const t=y.useContext(Fa);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=y.useId();y.useEffect(()=>{if(e)return s(i)},[e]);const o=y.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const jo=e=>e.key||"";function kf(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const s2=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=Vy(o),h=y.useMemo(()=>kf(e),[e]),f=o&&!u?[]:h.map(jo),x=y.useRef(!0),w=y.useRef(h),S=td(()=>new Map),[k,m]=y.useState(h),[p,g]=y.useState(h);qg(()=>{x.current=!1,w.current=h;for(let P=0;P<p.length;P++){const A=jo(p[P]);f.includes(A)?S.delete(A):S.get(A)!==!0&&S.set(A,!1)}},[p,f.length,f.join("-")]);const b=[];if(h!==k){let P=[...h];for(let A=0;A<p.length;A++){const N=p[A],F=jo(N);f.includes(F)||(P.splice(A,0,N),b.push(N))}return i==="wait"&&b.length&&(P=b),g(kf(P)),m(h),null}const{forceRender:C}=y.useContext(ed);return a.jsx(a.Fragment,{children:p.map(P=>{const A=jo(P),N=o&&!u?!1:h===p||f.includes(A),F=()=>{if(S.has(A))S.set(A,!0);else return;let _=!0;S.forEach(K=>{K||(_=!1)}),_&&(C==null||C(),g(w.current),o&&(d==null||d()),r&&r())};return a.jsx(n2,{isPresent:N,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:N?void 0:F,anchorX:l,children:P},A)})})},zy=y.createContext({strict:!1}),jf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ls={};for(const e in jf)ls[e]={isEnabled:t=>jf[e].some(n=>!!t[n])};function i2(e){for(const t in e)ls[t]={...ls[t],...e[t]}}const o2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xa(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||o2.has(e)}let By=e=>!xa(e);function a2(e){typeof e=="function"&&(By=t=>t.startsWith("on")?!xa(t):e(t))}try{a2(require("@emotion/is-prop-valid").default)}catch{}function l2(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(By(s)||n===!0&&xa(s)||!t&&!xa(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Ua=y.createContext({});function Oa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ci(e){return typeof e=="string"||Array.isArray(e)}const Cd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nd=["initial",...Cd];function Va(e){return Oa(e.animate)||Nd.some(t=>Ci(e[t]))}function $y(e){return!!(Va(e)||e.variants)}function c2(e,t){if(Va(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ci(n)?n:void 0,animate:Ci(r)?r:void 0}}return e.inherit!==!1?t:{}}function u2(e){const{initial:t,animate:n}=c2(e,y.useContext(Ua));return y.useMemo(()=>({initial:t,animate:n}),[bf(t),bf(n)])}function bf(e){return Array.isArray(e)?e.join(" "):e}const Ni={};function d2(e){for(const t in e)Ni[t]=e[t],ud(t)&&(Ni[t].isCSSVariable=!0)}function Wy(e,{layout:t,layoutId:n}){return ms.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ni[e]||e==="opacity")}const h2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f2=ps.length;function p2(e,t,n){let r="",s=!0;for(let i=0;i<f2;i++){const o=ps[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Ly(l,Sd[o]);if(!c){s=!1;const d=h2[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Td(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(ms.has(c)){o=!0;continue}else if(ud(c)){s[c]=u;continue}else{const d=Ly(u,Sd[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=p2(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const Pd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yy(e,t,n){for(const r in t)!_e(t[r])&&!Wy(r,n)&&(e[r]=t[r])}function m2({transformTemplate:e},t){return y.useMemo(()=>{const n=Pd();return Td(n,t,e),Object.assign({},n.vars,n.style)},[t])}function g2(e,t){const n=e.style||{},r={};return Yy(r,n,e),Object.assign(r,m2(e,t)),r}function y2(e,t){const n={},r=g2(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const x2={offset:"stroke-dashoffset",array:"stroke-dasharray"},v2={offset:"strokeDashoffset",array:"strokeDasharray"};function w2(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?x2:v2;e[i.offset]=B.transform(-r);const o=B.transform(t),l=B.transform(n);e[i.array]=`${o} ${l}`}function Hy(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(Td(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&w2(h,s,i,o,!1)}const Gy=()=>({...Pd(),attrs:{}}),Ky=e=>typeof e=="string"&&e.toLowerCase()==="svg";function S2(e,t,n,r){const s=y.useMemo(()=>{const i=Gy();return Hy(i,t,Ky(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Yy(i,e.style,e),s.style={...i,...s.style}}return s}const k2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ed(e){return typeof e!="string"||e.includes("-")?!1:!!(k2.indexOf(e)>-1||/[A-Z]/u.test(e))}function j2(e,t,n,{latestValues:r},s,i=!1){const l=(Ed(e)?S2:y2)(t,r,s,e),c=l2(t,typeof e=="string",i),u=e!==y.Fragment?{...c,...l,ref:n}:{},{children:d}=t,h=y.useMemo(()=>_e(d)?d.get():d,[d]);return y.createElement(e,{...u,children:h})}function Cf(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ad(e,t,n,r){if(typeof t=="function"){const[s,i]=Cf(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Cf(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Vo(e){return _e(e)?e.get():e}function b2({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:C2(n,r,s,e),renderState:t()}}function C2(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Vo(i[f]);let{initial:o,animate:l}=e;const c=Va(e),u=$y(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Oa(h)){const f=Array.isArray(h)?h:[h];for(let x=0;x<f.length;x++){const w=Ad(e,f[x]);if(w){const{transitionEnd:S,transition:k,...m}=w;for(const p in m){let g=m[p];if(Array.isArray(g)){const b=d?g.length-1:0;g=g[b]}g!==null&&(s[p]=g)}for(const p in S)s[p]=S[p]}}}return s}const qy=e=>(t,n)=>{const r=y.useContext(Ua),s=y.useContext(Fa),i=()=>b2(e,t,r,s);return n?i():td(i)};function Md(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(_e(r[o])||t.style&&_e(t.style[o])||Wy(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const N2=qy({scrapeMotionValuesFromProps:Md,createRenderState:Pd});function Jy(e,t,n){const r=Md(e,t,n);for(const s in e)if(_e(e[s])||_e(t[s])){const i=ps.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const T2=qy({scrapeMotionValuesFromProps:Jy,createRenderState:Gy}),P2=Symbol.for("motionComponentSymbol");function Br(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function E2(e,t,n){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Br(n)&&(n.current=r))},[t])}const Rd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A2="framerAppearId",Qy="data-"+Rd(A2),Xy=y.createContext({});function M2(e,t,n,r,s){var S,k;const{visualElement:i}=y.useContext(Ua),o=y.useContext(zy),l=y.useContext(Fa),c=y.useContext(bd).reducedMotion,u=y.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=y.useContext(Xy);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&R2(u.current,n,s,h);const f=y.useRef(!1);y.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const x=n[Qy],w=y.useRef(!!x&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,x))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,x)));return qg(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),w.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,x)}),w.current=!1),d.enteringChildren=void 0)}),d}function R2(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Zy(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Br(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function Zy(e){if(e)return e.options.allowProjection!==!1?e.projection:Zy(e.parent)}function Cl(e,{forwardMotionProps:t=!1}={},n,r){n&&i2(n);const s=Ed(e)?T2:N2;function i(l,c){let u;const d={...y.useContext(bd),...l,layoutId:D2(l)},{isStatic:h}=d,f=u2(l),x=s(l,h);if(!h&&nd){L2();const w=I2(d);u=w.MeasureLayout,f.visualElement=M2(e,x,d,r,w.ProjectionNode)}return a.jsxs(Ua.Provider,{value:f,children:[u&&f.visualElement?a.jsx(u,{visualElement:f.visualElement,...d}):null,j2(e,l,E2(x,f.visualElement,c),x,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=y.forwardRef(i);return o[P2]=e,o}function D2({layoutId:e}){const t=y.useContext(ed).id;return t&&e!==void 0?t+"-"+e:e}function L2(e,t){y.useContext(zy).strict}function I2(e){const{drag:t,layout:n}=ls;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function _2(e,t){if(typeof Proxy>"u")return Cl;const n=new Map,r=(i,o)=>Cl(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Cl(o,void 0,e,t)),n.get(o))})}function ex({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function F2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function U2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Nl(e){return e===void 0||e===1}function Yc({scale:e,scaleX:t,scaleY:n}){return!Nl(e)||!Nl(t)||!Nl(n)}function Zn(e){return Yc(e)||tx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tx(e){return Nf(e.x)||Nf(e.y)}function Nf(e){return e&&e!=="0%"}function va(e,t,n){const r=e-n,s=t*r;return n+s}function Tf(e,t,n,r,s){return s!==void 0&&(e=va(e,s,r)),va(e,n,r)+t}function Hc(e,t=0,n=1,r,s){e.min=Tf(e.min,t,n,r,s),e.max=Tf(e.max,t,n,r,s)}function nx(e,{x:t,y:n}){Hc(e.x,t.translate,t.scale,t.originPoint),Hc(e.y,n.translate,n.scale,n.originPoint)}const Pf=.999999999999,Ef=1.0000000000001;function O2(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Wr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,nx(e,o)),r&&Zn(i.latestValues)&&Wr(e,i.latestValues))}t.x<Ef&&t.x>Pf&&(t.x=1),t.y<Ef&&t.y>Pf&&(t.y=1)}function $r(e,t){e.min=e.min+t,e.max=e.max+t}function Af(e,t,n,r,s=.5){const i=de(e.min,e.max,s);Hc(e,t,n,i,r)}function Wr(e,t){Af(e.x,t.x,t.scaleX,t.scale,t.originX),Af(e.y,t.y,t.scaleY,t.scale,t.originY)}function rx(e,t){return ex(U2(e.getBoundingClientRect(),t))}function V2(e,t,n){const r=rx(e,n),{scroll:s}=t;return s&&($r(r.x,s.offset.x),$r(r.y,s.offset.y)),r}const Mf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yr=()=>({x:Mf(),y:Mf()}),Rf=()=>({min:0,max:0}),xe=()=>({x:Rf(),y:Rf()}),Gc={current:null},sx={current:!1};function z2(){if(sx.current=!0,!!nd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gc.current=e.matches;e.addEventListener("change",t),t()}else Gc.current=!1}const B2=new WeakMap;function $2(e,t,n){for(const r in t){const s=t[r],i=n[r];if(_e(s))e.addValue(r,s);else if(_e(i))e.addValue(r,as(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,as(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Df=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class W2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ke.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,le.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Va(n),this.isVariantNode=$y(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const x=h[f];c[f]!==void 0&&_e(x)&&x.set(c[f])}}mount(t){var n;this.current=t,B2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),sx.current||z2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gc.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Mn(this.notifyUpdate),Mn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ms.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ls){const n=ls[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Df.length;r++){const s=Df[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=$2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=as(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Jg(r)||Xg(r))?r=parseFloat(r):!ZS(r)&&Rn.test(n)&&(r=Dy(t,n)),this.setBaseTarget(t,_e(r)?r.get():r)),_e(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Ad(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!_e(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ad),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){kd.render(this.render)}}class ix extends W2{constructor(){super(...arguments),this.KeyframeResolver=zS}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_e(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ox(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function Y2(e){return window.getComputedStyle(e)}class H2 extends ix{constructor(){super(...arguments),this.type="html",this.renderInstance=ox}readValueFromInstance(t,n){var r;if(ms.has(n))return(r=this.projection)!=null&&r.isProjecting?Uc(n):oS(t,n);{const s=Y2(t),i=(ud(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return rx(t,n)}build(t,n,r){Td(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Md(t,n,r)}}const ax=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G2(e,t,n,r){ox(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(ax.has(s)?s:Rd(s),t.attrs[s])}class K2 extends ix{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ms.has(n)){const r=Ry(n);return r&&r.default||0}return n=ax.has(n)?n:Rd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Jy(t,n,r)}build(t,n,r){Hy(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){G2(t,n,r,s)}mount(t){this.isSVGTag=Ky(t.tagName),super.mount(t)}}const q2=(e,t)=>Ed(e)?new K2(t):new H2(t,{allowProjection:e!==y.Fragment});function Xr(e,t,n){const r=e.getProps();return Ad(r,t,n!==void 0?n:r.custom,e)}const Kc=e=>Array.isArray(e);function J2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,as(n))}function Q2(e){return Kc(e)?e[e.length-1]||0:e}function X2(e,t){const n=Xr(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=Q2(i[o]);J2(e,o,l)}}function Z2(e){return!!(_e(e)&&e.add)}function qc(e,t){const n=e.getValue("willChange");if(Z2(n))return n.add(t);if(!n&&nn.WillChange){const r=new nn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function lx(e){return e.props[Qy]}const ek=e=>e!==null;function tk(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(ek),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const nk={type:"spring",stiffness:500,damping:25,restSpeed:10},rk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sk={type:"keyframes",duration:.8},ik={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ok=(e,{keyframes:t})=>t.length>2?sk:ms.has(e)?e.startsWith("scale")?rk(t[1]):nk:ik;function ak({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Dd=(e,t,n,r={},s,i)=>o=>{const l=wd(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Vt(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};ak(l)||Object.assign(d,ok(e,d)),d.duration&&(d.duration=Vt(d.duration)),d.repeatDelay&&(d.repeatDelay=Vt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&($c(d),d.delay===0&&(h=!0)),(nn.instantAnimations||nn.skipAnimations)&&(h=!0,$c(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=tk(d.keyframes,l);if(f!==void 0){le.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new xd(d):new ES(d)};function lk({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function cx(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&lk(u,d))continue;const x={delay:n,...wd(i||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const m=lx(e);if(m){const p=window.MotionHandoffAnimation(m,d,le);p!==null&&(x.startTime=p,S=!0)}}qc(e,d),h.start(Dd(d,h,f,e.shouldReduceMotion&&Ey.has(d)?{type:!1}:x,e,S));const k=h.animation;k&&c.push(k)}return o&&Promise.all(c).then(()=>{le.update(()=>{o&&X2(e,o)})}),c}function ux(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function Jc(e,t,n={}){var c;const r=Xr(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(cx(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return ck(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function ck(e,t,n=0,r=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Jc(c,t,{...o,delay:n+(typeof r=="function"?0:r)+ux(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function uk(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Jc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Jc(e,t,n);else{const s=typeof t=="function"?Xr(e,t,n.custom):t;r=Promise.all(cx(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function dx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const dk=Nd.length;function hx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?hx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<dk;n++){const r=Nd[n],s=e.props[r];(Ci(s)||s===!1)&&(t[r]=s)}return t}const hk=[...Cd].reverse(),fk=Cd.length;function pk(e){return t=>Promise.all(t.map(({animation:n,options:r})=>uk(e,n,r)))}function mk(e){let t=pk(e),n=Lf(),r=!0;const s=c=>(u,d)=>{var f;const h=Xr(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:x,transitionEnd:w,...S}=h;u={...u,...S,...w}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=hx(e.parent)||{},h=[],f=new Set;let x={},w=1/0;for(let k=0;k<fk;k++){const m=hk[k],p=n[m],g=u[m]!==void 0?u[m]:d[m],b=Ci(g),C=m===c?p.isActive:null;C===!1&&(w=k);let P=g===d[m]&&g!==u[m]&&b;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),p.protectedKeys={...x},!p.isActive&&C===null||!g&&!p.prevProp||Oa(g)||typeof g=="boolean")continue;const A=gk(p.prevProp,g);let N=A||m===c&&p.isActive&&!P&&b||k>w&&b,F=!1;const _=Array.isArray(g)?g:[g];let K=_.reduce(s(m),{});C===!1&&(K={});const{prevResolvedValues:We={}}=p,Re={...We,...K},vt=X=>{N=!0,f.has(X)&&(F=!0,f.delete(X)),p.needsAnimating[X]=!0;const D=e.getValue(X);D&&(D.liveStyle=!1)};for(const X in Re){const D=K[X],O=We[X];if(x.hasOwnProperty(X))continue;let z=!1;Kc(D)&&Kc(O)?z=!dx(D,O):z=D!==O,z?D!=null?vt(X):f.add(X):D!==void 0&&f.has(X)?vt(X):p.protectedKeys[X]=!0}p.prevProp=g,p.prevResolvedValues=K,p.isActive&&(x={...x,...K}),r&&e.blockInitialAnimation&&(N=!1);const $t=P&&A;N&&(!$t||F)&&h.push(..._.map(X=>{const D={type:m};if(typeof X=="string"&&r&&!$t&&e.manuallyAnimateOnMount&&e.parent){const{parent:O}=e,z=Xr(O,X);if(O.enteringChildren&&z){const{delayChildren:Z}=z.transition||{};D.delay=ux(O.enteringChildren,e,Z)}}return{animation:X,options:D}}))}if(f.size){const k={};if(typeof u.initial!="boolean"){const m=Xr(e,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(k.transition=m.transition)}f.forEach(m=>{const p=e.getBaseTarget(m),g=e.getValue(m);g&&(g.liveStyle=!0),k[m]=p??null}),h.push({animation:k})}let S=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var x;return(x=f.animationState)==null?void 0:x.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Lf(),r=!0}}}function gk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dx(t,e):!1}function qn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lf(){return{animate:qn(!0),whileInView:qn(),whileHover:qn(),whileTap:qn(),whileDrag:qn(),whileFocus:qn(),exit:qn()}}class _n{constructor(t){this.isMounted=!1,this.node=t}update(){}}class yk extends _n{constructor(t){super(t),t.animationState||(t.animationState=mk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Oa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let xk=0;class vk extends _n{constructor(){super(...arguments),this.id=xk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wk={animation:{Feature:yk},exit:{Feature:vk}};function Ti(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Oi(e){return{point:{x:e.pageX,y:e.pageY}}}const Sk=e=>t=>jd(t)&&e(t,Oi(t));function ei(e,t,n,r){return Ti(e,t,Sk(n),r)}const fx=1e-4,kk=1-fx,jk=1+fx,px=.01,bk=0-px,Ck=0+px;function Ve(e){return e.max-e.min}function Nk(e,t,n){return Math.abs(e-t)<=n}function If(e,t,n,r=.5){e.origin=r,e.originPoint=de(t.min,t.max,e.origin),e.scale=Ve(n)/Ve(t),e.translate=de(n.min,n.max,e.origin)-e.originPoint,(e.scale>=kk&&e.scale<=jk||isNaN(e.scale))&&(e.scale=1),(e.translate>=bk&&e.translate<=Ck||isNaN(e.translate))&&(e.translate=0)}function ti(e,t,n,r){If(e.x,t.x,n.x,r?r.originX:void 0),If(e.y,t.y,n.y,r?r.originY:void 0)}function _f(e,t,n){e.min=n.min+t.min,e.max=e.min+Ve(t)}function Tk(e,t,n){_f(e.x,t.x,n.x),_f(e.y,t.y,n.y)}function Ff(e,t,n){e.min=t.min-n.min,e.max=e.min+Ve(t)}function ni(e,t,n){Ff(e.x,t.x,n.x),Ff(e.y,t.y,n.y)}function ut(e){return[e("x"),e("y")]}const mx=({current:e})=>e?e.ownerDocument.defaultView:null,Uf=(e,t)=>Math.abs(e-t);function Pk(e,t){const n=Uf(e.x,t.x),r=Uf(e.y,t.y);return Math.sqrt(n**2+r**2)}class gx{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Pl(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=Pk(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!w)return;const{point:S}=f,{timestamp:k}=Ee;this.history.push({...S,timestamp:k});const{onStart:m,onMove:p}=this.handlers;x||(m&&m(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,x)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Tl(x,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(f,x)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Pl(f.type==="pointercancel"?this.lastMoveEventInfo:Tl(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,m),S&&S(f,m)},!jd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Oi(t),c=Tl(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Ee;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,Pl(c,this.history)),this.removeListeners=_i(ei(this.contextWindow,"pointermove",this.handlePointerMove),ei(this.contextWindow,"pointerup",this.handlePointerUp),ei(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Mn(this.updatePoint)}}function Tl(e,t){return t?{point:t(e.point)}:e}function Of(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pl({point:e},t){return{point:e,delta:Of(e,yx(t)),offset:Of(e,Ek(t)),velocity:Ak(t,.1)}}function Ek(e){return e[0]}function yx(e){return e[e.length-1]}function Ak(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=yx(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Vt(t)));)n--;if(!r)return{x:0,y:0};const i=zt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Mk(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?de(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?de(n,e,r.max):Math.min(e,n)),e}function Vf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Rk(e,{top:t,left:n,bottom:r,right:s}){return{x:Vf(e.x,n,s),y:Vf(e.y,t,r)}}function zf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Dk(e,t){return{x:zf(e.x,t.x),y:zf(e.y,t.y)}}function Lk(e,t){let n=.5;const r=Ve(e),s=Ve(t);return s>r?n=ki(t.min,t.max-r,e.min):r>s&&(n=ki(e.min,e.max-s,t.min)),tn(0,1,n)}function Ik(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Qc=.35;function _k(e=Qc){return e===!1?e=0:e===!0&&(e=Qc),{x:Bf(e,"left","right"),y:Bf(e,"top","bottom")}}function Bf(e,t,n){return{min:$f(e,t),max:$f(e,n)}}function $f(e,t){return typeof e=="number"?e:e[t]||0}const Fk=new WeakMap;class Uk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oi(h).point)},o=(h,f)=>{const{drag:x,dragPropagation:w,onDragStart:S}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=YS(x),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ut(m=>{let p=this.getAxisMotionValue(m).get()||0;if(Bt.test(p)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[m];b&&(p=Ve(b)*(parseFloat(p)/100))}}this.originPoint[m]=p}),S&&le.postRender(()=>S(h,f)),qc(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:S,onDrag:k}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:m}=f;if(w&&this.currentDirection===null){this.currentDirection=Ok(m),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",f.point,m),this.updateAxis("y",f.point,m),this.visualElement.render(),k&&k(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ut(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new gx(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:mx(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&le.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!bo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Mk(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Br(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Rk(r.layoutBox,t):this.constraints=!1,this.elastic=_k(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ut(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ik(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Br(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=V2(r,s.root,this.visualElement.getTransformPagePoint());let o=Dk(s.layout.layoutBox,i);if(n){const l=n(F2(o));this.hasMutatedConstraints=!!l,l&&(o=ex(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ut(d=>{if(!bo(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,x=s?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return qc(this.visualElement,t),r.start(Dd(t,r,0,n,this.visualElement,!1))}stopAnimation(){ut(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ut(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ut(n=>{const{drag:r}=this.getProps();if(!bo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-de(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Br(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ut(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Lk({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ut(o=>{if(!bo(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(de(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Fk.set(this.visualElement,this);const t=this.visualElement.current,n=ei(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Br(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),le.read(r);const o=Ti(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ut(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Qc,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function bo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Ok(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Vk extends _n{constructor(t){super(t),this.removeGroupControls=gt,this.removeListeners=gt,this.controls=new Uk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wf=e=>(t,n)=>{e&&le.postRender(()=>e(t,n))};class zk extends _n{constructor(){super(...arguments),this.removePointerDownListener=gt}onPointerDown(t){this.session=new gx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Wf(t),onStart:Wf(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&le.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ei(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Is={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(B.test(e))e=parseFloat(e);else return e;const n=Yf(e,t.target.x),r=Yf(e,t.target.y);return`${n}% ${r}%`}},Bk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Rn.parse(e);if(s.length>5)return r;const i=Rn.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=de(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let El=!1;class $k extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;d2(Wk),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),El&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,El=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||le.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;El=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xx(e){const[t,n]=Vy(),r=y.useContext(ed);return a.jsx($k,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(Xy),isPresent:t,safeToRemove:n})}const Wk={borderRadius:{...Is,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Is,borderTopRightRadius:Is,borderBottomLeftRadius:Is,borderBottomRightRadius:Is,boxShadow:Bk};function Yk(e,t,n){const r=_e(e)?e:as(e);return r.start(Dd("",r,t,n)),r.animation}const Hk=(e,t)=>e.depth-t.depth;class Gk{constructor(){this.children=[],this.isDirty=!1}add(t){rd(this.children,t),this.isDirty=!0}remove(t){sd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Hk),this.isDirty=!1,this.children.forEach(t)}}function Kk(e,t){const n=Ke.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Mn(r),e(i-t))};return le.setup(r,!0),()=>Mn(r)}const vx=["TopLeft","TopRight","BottomLeft","BottomRight"],qk=vx.length,Hf=e=>typeof e=="string"?parseFloat(e):e,Gf=e=>typeof e=="number"||B.test(e);function Jk(e,t,n,r,s,i){s?(e.opacity=de(0,n.opacity??1,Qk(r)),e.opacityExit=de(t.opacity??1,0,Xk(r))):i&&(e.opacity=de(t.opacity??1,n.opacity??1,r));for(let o=0;o<qk;o++){const l=`border${vx[o]}Radius`;let c=Kf(t,l),u=Kf(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Gf(c)===Gf(u)?(e[l]=Math.max(de(Hf(c),Hf(u),r),0),(Bt.test(u)||Bt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=de(t.rotate||0,n.rotate||0,r))}function Kf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Qk=wx(0,.5,oy),Xk=wx(.5,.95,gt);function wx(e,t,n){return r=>r<e?0:r>t?1:n(ki(e,t,r))}function qf(e,t){e.min=t.min,e.max=t.max}function ct(e,t){qf(e.x,t.x),qf(e.y,t.y)}function Jf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Qf(e,t,n,r,s){return e-=t,e=va(e,1/n,r),s!==void 0&&(e=va(e,1/s,r)),e}function Zk(e,t=0,n=1,r=.5,s,i=e,o=e){if(Bt.test(t)&&(t=parseFloat(t),t=de(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=de(i.min,i.max,r);e===i&&(l-=t),e.min=Qf(e.min,t,n,l,s),e.max=Qf(e.max,t,n,l,s)}function Xf(e,t,[n,r,s],i,o){Zk(e,t[n],t[r],t[s],t.scale,i,o)}const ej=["x","scaleX","originX"],tj=["y","scaleY","originY"];function Zf(e,t,n,r){Xf(e.x,t,ej,n?n.x:void 0,r?r.x:void 0),Xf(e.y,t,tj,n?n.y:void 0,r?r.y:void 0)}function ep(e){return e.translate===0&&e.scale===1}function Sx(e){return ep(e.x)&&ep(e.y)}function tp(e,t){return e.min===t.min&&e.max===t.max}function nj(e,t){return tp(e.x,t.x)&&tp(e.y,t.y)}function np(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kx(e,t){return np(e.x,t.x)&&np(e.y,t.y)}function rp(e){return Ve(e.x)/Ve(e.y)}function sp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rj{constructor(){this.members=[]}add(t){rd(this.members,t),t.scheduleRender()}remove(t){if(sd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sj(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:x,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),x&&(r+=`skewX(${x}deg) `),w&&(r+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Al=["","X","Y","Z"],ij=1e3;let oj=0;function Ml(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function jx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=lx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",le,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&jx(r)}function bx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=oj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cj),this.nodes.forEach(fj),this.nodes.forEach(pj),this.nodes.forEach(uj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gk)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ad),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Oy(o)&&!QS(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;le.read(()=>{h=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==h&&(h=x,this.root.updateBlockedByResize=!0,d&&d(),d=Kk(f,250),zo.hasAnimatedSinceResize&&(zo.hasAnimatedSinceResize=!1,this.nodes.forEach(ap)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||vj,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=u.getProps(),m=!this.targetLayout||!kx(this.targetLayout,x),p=!h&&f;if(this.options.layoutRoot||this.resumeFrom||p||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...wd(w,"layout"),onPlay:S,onComplete:k};(u.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(d,p)}else h||ap(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ip);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(op);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hj),this.nodes.forEach(aj),this.nodes.forEach(lj)):this.nodes.forEach(op),this.clearAllSnapshots();const l=Ke.now();Ee.delta=tn(0,1e3/60,l-Ee.timestamp),Ee.timestamp=l,Ee.isProcessing=!0,vl.update.process(Ee),vl.preRender.process(Ee),vl.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dj),this.sharedNodes.forEach(gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ve(this.snapshot.measuredBox.x)&&!Ve(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Sx(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Zn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),wj(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return xe();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Sj))){const{scroll:d}=this.root;d&&($r(l.x,d.offset.x),$r(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=xe();if(ct(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ct(l,o),$r(l.x,h.offset.x),$r(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=xe();ct(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Wr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Zn(d.latestValues)&&Wr(c,d.latestValues)}return Zn(this.latestValues)&&Wr(c,this.latestValues),c}removeTransform(o){const l=xe();ct(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Zn(u.latestValues))continue;Yc(u.latestValues)&&u.updateSnapshot();const d=xe(),h=u.measurePageBox();ct(d,h),Zf(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Zn(this.latestValues)&&Zf(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),ni(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xe(),this.targetWithTransforms=xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ct(this.target,this.layout.layoutBox),nx(this.target,this.targetDelta)):ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),ni(this.relativeTargetOrigin,this.target,x.target),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Yc(this.parent.latestValues)||tx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ct(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;O2(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=xe());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jf(this.prevProjectionDelta.x,this.projectionDelta.x),Jf(this.prevProjectionDelta.y,this.projectionDelta.y)),ti(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!sp(this.projectionDelta.x,this.prevProjectionDelta.x)||!sp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yr(),this.projectionDelta=Yr(),this.projectionDeltaWithTransform=Yr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Yr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=xe(),x=c?c.source:void 0,w=this.layout?this.layout.source:void 0,S=x!==w,k=this.getStack(),m=!k||k.members.length<=1,p=!!(S&&!m&&this.options.crossfade===!0&&!this.path.some(xj));this.animationProgress=0;let g;this.mixTargetDelta=b=>{const C=b/1e3;lp(h.x,o.x,C),lp(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ni(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yj(this.relativeTarget,this.relativeTargetOrigin,f,C),g&&nj(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=xe()),ct(g,this.relativeTarget)),S&&(this.animationValues=d,Jk(d,u,this.latestValues,C,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Mn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{zo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=as(0)),this.currentAnimation=Yk(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ij),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Cx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||xe();const h=Ve(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Ve(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ct(l,c),Wr(l,d),ti(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rj),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ml("z",o,u,this.animationValues);for(let d=0;d<Al.length;d++)Ml(`rotate${Al[d]}`,o,u,this.animationValues),Ml(`skew${Al[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Vo(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Vo(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Zn(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=sj(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:x}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in Ni){if(d[w]===void 0)continue;const{correct:S,applyTo:k,isCSSVariable:m}=Ni[w],p=h==="none"?d[w]:S(d[w],u);if(k){const g=k.length;for(let b=0;b<g;b++)o[k[b]]=p}else m?this.options.visualElement.renderState.vars[w]=p:o[w]=p}this.options.layoutId&&(o.pointerEvents=u===this?Vo(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(ip),this.root.sharedNodes.clear()}}}function aj(e){e.updateLayout()}function lj(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?ut(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],x=Ve(f);f.min=r[h].min,f.max=f.min+x}):Cx(i,t.layoutBox,r)&&ut(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],x=Ve(r[h]);f.max=f.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+x)});const l=Yr();ti(l,r,t.layoutBox);const c=Yr();o?ti(c,e.applyTransform(s,!0),t.measuredBox):ti(c,r,t.layoutBox);const u=!Sx(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:x}=h;if(f&&x){const w=xe();ni(w,t.layoutBox,f.layoutBox);const S=xe();ni(S,r,x.layoutBox),kx(w,S)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function cj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dj(e){e.clearSnapshot()}function ip(e){e.clearMeasurements()}function op(e){e.isLayoutDirty=!1}function hj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ap(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fj(e){e.resolveTargetDelta()}function pj(e){e.calcProjection()}function mj(e){e.resetSkewAndRotation()}function gj(e){e.removeLeadSnapshot()}function lp(e,t,n){e.translate=de(t.translate,0,n),e.scale=de(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cp(e,t,n,r){e.min=de(t.min,n.min,r),e.max=de(t.max,n.max,r)}function yj(e,t,n,r){cp(e.x,t.x,n.x,r),cp(e.y,t.y,n.y,r)}function xj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vj={duration:.45,ease:[.4,0,.1,1]},up=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dp=up("applewebkit/")&&!up("chrome/")?Math.round:gt;function hp(e){e.min=dp(e.min),e.max=dp(e.max)}function wj(e){hp(e.x),hp(e.y)}function Cx(e,t,n){return e==="position"||e==="preserve-aspect"&&!Nk(rp(t),rp(n),.2)}function Sj(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const kj=bx({attachResizeListener:(e,t)=>Ti(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rl={current:void 0},Nx=bx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rl.current){const e=new kj({});e.mount(window),e.setOptions({layoutScroll:!0}),Rl.current=e}return Rl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jj={pan:{Feature:zk},drag:{Feature:Vk,ProjectionNode:Nx,MeasureLayout:xx}};function fp(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&le.postRender(()=>i(t,Oi(t)))}class bj extends _n{mount(){const{current:t}=this.node;t&&(this.unmount=HS(t,(n,r)=>(fp(this.node,r,"Start"),s=>fp(this.node,s,"End"))))}unmount(){}}class Cj extends _n{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_i(Ti(this.node.current,"focus",()=>this.onFocus()),Ti(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pp(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&le.postRender(()=>i(t,Oi(t)))}class Nj extends _n{mount(){const{current:t}=this.node;t&&(this.unmount=JS(t,(n,r)=>(pp(this.node,r,"Start"),(s,{success:i})=>pp(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xc=new WeakMap,Dl=new WeakMap,Tj=e=>{const t=Xc.get(e.target);t&&t(e)},Pj=e=>{e.forEach(Tj)};function Ej({root:e,...t}){const n=e||document;Dl.has(n)||Dl.set(n,{});const r=Dl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Pj,{root:e,...t})),r[s]}function Aj(e,t,n){const r=Ej(t);return Xc.set(e,n),r.observe(e),()=>{Xc.delete(e),r.unobserve(e)}}const Mj={some:0,all:1};class Rj extends _n{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Mj[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return Aj(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Dj(t,n))&&this.startObserver()}unmount(){}}function Dj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Lj={inView:{Feature:Rj},tap:{Feature:Nj},focus:{Feature:Cj},hover:{Feature:bj}},Ij={layout:{ProjectionNode:Nx,MeasureLayout:xx}},_j={...wk,...Lj,...jj,...Ij},_s=_2(_j,q2);var Fj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oj=(e,t)=>{const n=y.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},u)=>y.createElement("svg",{ref:u,...Fj,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${Uj(e)}`,...c},[...t.map(([d,h])=>y.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var Y=Oj;const Vi=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),mp=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Vj=Y("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Zc=Y("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),zj=Y("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Bj=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),$j=Y("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Wj=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Yj=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Hj=Y("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),Tx=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Gj=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Kj=Y("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Bs=Y("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),qj=Y("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Jj=Y("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Zr=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Ll=Y("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Qj=Y("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Xj=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Zj=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),eb=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),tb=Y("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),gp=Y("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),yp=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),xp=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),nb=Y("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),rb=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Px=Y("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),sb=Y("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),eu=Y("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ex=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ib=Y("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),vp=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ob=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ab=Y("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ft=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wp=Y("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),lb=({isOpen:e,onClose:t,feature:n})=>{const r={remix:{icon:eu,title:"Unlock Remix",description:"Sign up to remix and create your own variations of community creations",benefits:["Try any style","Create variations","Share your remixes"]},save:{icon:Zr,title:"Save Favorites",description:"Sign up to save your favorite creations and build your collection",benefits:["Save favorites","Create collections","Access anytime"]},share:{icon:Px,title:"Share Creations",description:"Sign up to share your AI creations with the community",benefits:["Share to social","Get feedback","Build audience"]},upload:{icon:zj,title:"Upload Photos",description:"Sign up to upload your own photos and apply AI filters",benefits:["Upload photos","Apply filters","Create art"]},ai:{icon:eu,title:"Access AI Filters",description:"Sign up to unlock powerful AI filters and transformations",benefits:["AI filters","Style mixing","High-res output"]}},s=r[n]||r.remix,i=s.icon,o=()=>{t(),console.log("Redirecting to signup flow...")};return a.jsx(s2,{children:e&&a.jsx(_s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(_s.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-[#222222] border border-white/10 rounded-2xl max-w-md w-full p-6 relative shadow-2xl text-white",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:a.jsx(ft,{size:24})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center",children:a.jsx(i,{size:32,className:"text-white"})})}),a.jsx("h1",{className:"text-xl font-bold text-white mb-2",children:s.title}),a.jsx("p",{className:"text-white/60",children:s.description})]}),a.jsx("div",{className:"space-y-3 mb-6",children:s.benefits.map((l,c)=>a.jsxs(_s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:c*.1},className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-white/10 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Xj,{size:12,className:"text-white"})}),a.jsx("span",{className:"text-sm text-white/70",children:l})]},c))}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(_s.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:o,className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-white/90 transition-colors",children:"Sign Up Free"}),a.jsx(_s.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full bg-white/5 text-white font-semibold py-4 rounded-xl hover:bg-white/10 transition-colors border border-white/20",children:"Continue Browsing"})]}),a.jsx("p",{className:"text-center text-xs text-white/40 mt-4",children:"Free to sign up  No credit card required"})]})})})},er=class er{constructor(){oe(this,"authState",{isAuthenticated:!1,user:null,token:null});this.loadAuthState()}static getInstance(){return er.instance||(er.instance=new er),er.instance}loadAuthState(){try{const t=localStorage.getItem("auth_token"),n=localStorage.getItem("user_data");if(t&&n)try{const r=JSON.parse(n);this.authState={isAuthenticated:!0,user:r,token:t}}catch(r){console.error("Error parsing user data:",r),this.clearAuthState()}}catch(t){console.error("Error loading auth state:",t),this.clearAuthState()}}getAuthState(){return{...this.authState}}isAuthenticated(){return this.authState.isAuthenticated}getCurrentUser(){return this.authState.user}getToken(){return this.authState.token}setAuthState(t,n){this.authState={isAuthenticated:!0,user:n,token:t},localStorage.setItem("auth_token",t),localStorage.setItem("user_data",JSON.stringify(n))}clearAuthState(){this.authState={isAuthenticated:!1,user:null,token:null},localStorage.removeItem("auth_token"),localStorage.removeItem("user_data")}logout(){try{fetch("/.netlify/functions/logout",{method:"POST"}).catch(()=>{})}finally{this.clearAuthState()}}getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Bearer ${this.authState.token}`}}isTokenValid(){if(!this.authState.token)return!1;try{return this.authState.token.split(".").length===3}catch{return!1}}refreshAuthState(){this.loadAuthState()}};oe(er,"instance");let tu=er;const $=tu.getInstance();function cb(){return $.getAuthState().token||localStorage.getItem("auth_token")||localStorage.getItem("token")}async function ub(e,t={}){const n=cb(),r={};return n&&(r.Authorization=`Bearer ${n}`),fetch(e,{...t,headers:{...r,...t.headers||{}}})}async function Bo(e,t={}){return ub(e,t)}function db(e={}){let t=e.token||localStorage.getItem("auth_token")||$.getToken()||"";return typeof t=="object"&&(console.error(" Token is object, extracting string:",t),t=t.access_token||t.token||t.jwt||""),!t||typeof t!="string"||!t.includes(".")||t.split(".").length!==3?{"Content-Type":"application/json"}:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}async function hb(e,t={}){const n=db(t);return fetch(e,{...t,headers:{...n,...t.headers||{}}})}async function Ax(e,t){var o;let n;if(typeof e=="string"){if(!e.startsWith("data:"))throw new Error("Non-file string passed to upload");const l=await fetch(e).then(c=>c.blob());n=new File([l],"upload.png",{type:l.type||"image/png"})}else n=e;const r=await hb("/.netlify/functions/cloudinary-sign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({folder:t,resource_type:"image"})}).then(l=>l.json()),s=new FormData;s.append("file",n),s.append("api_key",r.api_key),s.append("timestamp",String(r.timestamp)),s.append("signature",r.signature),s.append("folder",t),s.append("resource_type","image");const i=await fetch(`https://api.cloudinary.com/v1_1/${r.cloud_name}/auto/upload`,{method:"POST",body:s}).then(l=>l.json());if(!(i!=null&&i.secure_url))throw console.error("Cloudinary upload failed:",i),new Error(((o=i==null?void 0:i.error)==null?void 0:o.message)||"Cloudinary upload failed");return{secure_url:i.secure_url,width:i.width,height:i.height,public_id:i.public_id}}const lr=({size:e=16,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[a.jsx("circle",{cx:"7",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"}),a.jsx("circle",{cx:"17",cy:"17",r:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"}),a.jsx("path",{d:"M11 7 L13 17",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M13 7 L11 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("path",{d:"M12 15.5 L13 17 L14 15.5",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 8.5 L11 7 L10 8.5",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:"currentColor"}),a.jsx("circle",{cx:"9",cy:"9",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"15",cy:"15",r:"1",fill:"currentColor"})]}),Mx=({size:e=24,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`flex-shrink-0 ${t}`,style:{display:"block"},children:[a.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),a.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),$o=({media:e,columns:t=3,onMediaClick:n,onDownload:r,onShare:s,onUnshare:i,onLike:o,onRemix:l,onDelete:c,onFilterCreator:u,onGenerateCaption:d,showActions:h=!0,className:f="",isLikedMedia:x=!1,isSelectionMode:w=!1,selectedMediaIds:S=new Set,onToggleSelection:k,hideRemixCount:m=!1})=>{const p=y.useRef(null),g=y.useMemo(()=>{if(e.length===0)return[];const P=3,A=Array.from({length:P},()=>[]);return e.forEach((N,F)=>{const _=A.map(We=>We.reduce((Re,vt)=>Re+1/vt.aspectRatio,0)),K=_.indexOf(Math.min(..._));A[K].push(N)}),A},[e]),b=(P,A)=>{A.stopPropagation(),P()},C=P=>{switch(P){case"video":return a.jsx("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"white",children:a.jsx("path",{d:"M8 5v14l11-7z"})})});case"remix":return a.jsx("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx(lr,{size:12,className:"text-white"})});default:return null}};return e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white/40",children:[a.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),a.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),a.jsx("polyline",{points:"21,15 16,10 5,21"})]})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No media found"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Media will appear here"})]}):a.jsx("div",{className:`${f}`,ref:p,children:a.jsx("div",{className:"flex gap-2 mx-auto",style:{maxWidth:"1200px"},children:g.map((P,A)=>a.jsx("div",{className:"flex-1 flex flex-col gap-2 min-w-0",children:P.map(N=>a.jsx("div",{className:"relative group cursor-pointer bg-white/5 overflow-hidden",onClick:()=>n==null?void 0:n(N),children:a.jsxs("div",{className:"relative w-full overflow-hidden",children:[w&&k&&a.jsx("div",{className:"absolute top-2 left-2 z-10",children:a.jsx("button",{onClick:F=>{F.stopPropagation(),k(N.id)},className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${S.has(N.id)?"bg-white border-white":"bg-black/60 border-white/60 hover:border-white"}`,title:S.has(N.id)?"Deselect":"Select",children:S.has(N.id)&&a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-black",children:a.jsx("polyline",{points:"20,6 9,17 4,12"})})})}),N.type==="video"?a.jsx("video",{src:N.url,className:"w-full h-auto object-cover",muted:!0,loop:!0,onMouseEnter:F=>F.currentTarget.play(),onMouseLeave:F=>F.currentTarget.pause()}):a.jsx("img",{src:N.url,alt:N.prompt,className:"w-full h-auto object-cover",loading:"lazy"}),C(N.type),N.metadata.quality==="high"&&a.jsx("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx("span",{className:"text-white text-xs font-medium",children:"HD"})}),h&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute bottom-2 left-2 flex items-center space-x-2",children:a.jsxs("button",{type:"button",onClick:F=>{F.stopPropagation(),u==null||u(N.userId)},className:"relative w-8 h-8 rounded-full overflow-hidden bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",title:"View this creator",children:[N.userAvatar?a.jsx("img",{src:N.userAvatar,alt:"avatar",className:"w-full h-full object-cover"}):a.jsx(Mx,{size:18,className:"text-white"}),String(N.userTier||"").toLowerCase()==="contributor"||String(N.userTier||"").toLowerCase()==="creator"?a.jsx("span",{className:"absolute -right-1 -bottom-1 w-3 h-3 rounded-full bg-white text-black text-[9px] flex items-center justify-center",children:""}):null]})}),a.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center space-x-2",children:[r&&a.jsx("button",{onClick:F=>b(()=>r(N),F),className:"w-8 h-8 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",title:"Download",children:a.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white",children:[a.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a.jsx("polyline",{points:"7,10 12,15 17,10"}),a.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),l&&a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("button",{onClick:F=>b(()=>l(N),F),className:"w-8 h-8 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",title:"Remix",children:a.jsx(lr,{size:14})}),!m&&a.jsx("div",{className:"text-white/80 text-[10px] mt-1",children:N.remixCount||0})]}),o&&a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("button",{onClick:F=>b(()=>o(N),F),className:"w-8 h-8 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",title:"Like",children:a.jsx(Zr,{size:14,className:x?"text-red-500 fill-red-500":"text-white"})}),a.jsx("div",{className:"text-white/80 text-[10px] mt-1",children:N.likes||0})]}),c&&a.jsx("button",{onClick:F=>b(()=>c(N),F),className:"w-8 h-8 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",title:"Delete",children:a.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white",children:[a.jsx("polyline",{points:"3,6 5,6 21,6"}),a.jsx("path",{d:"M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]})})]})]})]})},N.id))},A))})})};class fb{constructor(){oe(this,"baseUrl","/.netlify/functions")}async toggleLike(t){try{const n=$.getToken();if(!n)return{success:!1,action:"error",error:"Sign in to like"};const r=await fetch(`${this.baseUrl}/toggleLike`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({mediaId:t})});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.error||"Failed to toggle like")}const s=await r.json();return{success:!0,action:s.action??(s.liked?"liked":"unliked"),likeCount:s.likeCount,isLiked:s.liked}}catch(n){return console.error("Toggle like error:",n),{success:!1,action:"error",error:n instanceof Error?n.message:"Unknown error"}}}async recordShare(t,n="public"){try{const r=$.getToken();if(!r)return{success:!1,action:"error",error:"Sign in to change visibility"};const s=await fetch(`${this.baseUrl}/recordShare`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({mediaId:t,shareType:n})});if(!s.ok){const o=await s.json().catch(()=>({}));throw new Error(o.error||"Failed to record share")}const i=await s.json();return{success:!0,action:i.action??"shared",shareCount:i.shareCount}}catch(r){return console.error("Record share error:",r),{success:!1,action:"error",error:r instanceof Error?r.message:"Unknown error"}}}async getInteractionCounts(t){try{return{likes:0,remixes:0,shares:0}}catch(n){return console.error("Get interaction counts error:",n),{likes:0,remixes:0,shares:0}}}async getUserInteractions(t){try{return{hasLiked:!1,hasRemixed:!1,hasShared:!1}}catch(n){return console.error("Get user interactions error:",n),{hasLiked:!1,hasRemixed:!1,hasShared:!1}}}updateLocalCounts(t,n,r,s){const i={...s};return n==="like"?r==="add"?i[`${t}_likes`]=(i[`${t}_likes`]||0)+1:i[`${t}_likes`]=Math.max(0,(i[`${t}_likes`]||0)-1):n==="share"?r==="add"&&(i[`${t}_shares`]=(i[`${t}_shares`]||0)+1):n==="remix"&&r==="add"&&(i[`${t}_remixes`]=(i[`${t}_remixes`]||0)+1),i}}const pb=new fb;class mb{constructor(){oe(this,"notifications",[]);oe(this,"settings",{likes:!0,remixes:!0,announcements:!0,system:!0,emailNotifications:!1,pushNotifications:!1})}async getUserNotifications(t){return this.notifications.filter(n=>n.userId===t)}async getUnreadCount(t){return(await this.getUserNotifications(t)).filter(r=>!r.read).length}async markAsRead(t){const n=this.notifications.find(r=>r.id===t);n&&(n.read=!0)}async markAllAsRead(t){this.notifications.filter(r=>r.userId===t).forEach(r=>r.read=!0)}async createNotification(t){const n={...t,id:this.generateId(),timestamp:new Date,read:!1};return this.shouldShowNotification(n)&&(this.notifications.push(n),this.settings.pushNotifications&&this.showToastNotification(n)),n}async createLikeNotification(t,n,r){return this.createNotification({type:"like",title:"New Like",message:`${r} liked your content`,userId:t,relatedContentId:n,priority:"low"})}async createRemixNotification(t,n,r){return this.createNotification({type:"remix",title:"New Remix",message:`${r} remixed your content`,userId:t,relatedContentId:n,priority:"medium"})}async createAnnouncementNotification(t,n,r){return this.createNotification({type:"announcement",title:n,message:r,userId:t,priority:"high"})}async createSystemNotification(t,n,r){return this.createNotification({type:"system",title:n,message:r,userId:t,priority:"medium"})}shouldShowNotification(t){switch(t.type){case"like":return this.settings.likes;case"remix":return this.settings.remixes;case"announcement":return this.settings.announcements;case"system":return this.settings.system;default:return!0}}showToastNotification(t){console.log("Toast notification:",t.title,t.message)}async getSettings(){return this.settings}async updateSettings(t){this.settings={...this.settings,...t}}async deleteNotification(t){this.notifications=this.notifications.filter(n=>n.id!==t)}async clearAllNotifications(t){this.notifications=this.notifications.filter(n=>n.userId!==t)}generateId(){return Math.random().toString(36).substr(2,9)}async getNotificationsByType(t,n){return(await this.getUserNotifications(t)).filter(s=>s.type===n)}async getRecentNotifications(t){const n=await this.getUserNotifications(t),r=new Date;return r.setDate(r.getDate()-7),n.filter(s=>s.timestamp>r)}}const Co=new mb,gb=({userId:e,className:t=""})=>{const[n,r]=y.useState([]),[s,i]=y.useState(0),[o,l]=y.useState(!1),[c,u]=y.useState(!1);y.useEffect(()=>{d()},[e]),y.useEffect(()=>{const k=()=>l(!1);return window.addEventListener("global-nav-close",k),()=>window.removeEventListener("global-nav-close",k)},[]);const d=async()=>{u(!0);try{const k=await Co.getUserNotifications(e),m=await Co.getUnreadCount(e);r(k),i(m)}catch(k){console.error("Error loading notifications:",k)}finally{u(!1)}},h=async k=>{try{await Co.markAsRead(k),await d()}catch(m){console.error("Error marking notification as read:",m)}},f=async k=>{try{await Co.deleteNotification(k),await d()}catch(m){console.error("Error deleting notification:",m)}},x=k=>{switch(k){case"like":return"";case"remix":return"";case"announcement":return"";case"system":return"";default:return""}},w=k=>{switch(k){case"like":return"text-pink-400";case"remix":return"text-blue-400";case"announcement":return"text-yellow-400";case"system":return"text-gray-400";default:return"text-white"}},S=k=>{const p=new Date().getTime()-k.getTime(),g=Math.floor(p/6e4),b=Math.floor(p/36e5),C=Math.floor(p/864e5);return g<1?"Just now":g<60?`${g}m ago`:b<24?`${b}h ago`:C<7?`${C}d ago`:k.toLocaleDateString()};return a.jsxs("div",{className:`relative ${t}`,children:[a.jsxs("button",{onClick:()=>l(!o),className:"nav-icon text-white hover:text-white/80 transition-colors duration-300",title:"Notifications","aria-expanded":o,"aria-haspopup":"menu",children:[a.jsx(Zc,{size:20,className:"text-white"}),s>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s>99?"99+":s})]}),o&&a.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-[#222222] border border-white/20 rounded-2xl shadow-2xl z-50",children:a.jsx("div",{className:"max-h-96 overflow-y-auto",children:c?a.jsx("div",{className:"p-4 text-center text-white/60",children:"Loading notifications..."}):n.length===0?a.jsx("div",{className:"p-4 text-center text-white/60",children:"No notifications yet"}):a.jsx("div",{className:"space-y-1",children:n.map(k=>a.jsx("div",{className:`p-3 hover:bg-white/5 transition-colors ${k.read?"":"bg-white/5"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"text-lg",children:x(k.type)}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:`text-sm font-medium ${w(k.type)}`,children:k.title}),a.jsx("p",{className:"text-xs text-white/60 mt-1",children:k.message}),a.jsx("p",{className:"text-xs text-white/40 mt-1",children:S(k.timestamp)})]}),a.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[!k.read&&a.jsx("button",{onClick:()=>h(k.id),className:"p-1 text-white/40 hover:text-white transition-colors",title:"Mark as read",children:a.jsx($j,{size:12})}),a.jsx("button",{onClick:()=>f(k.id),className:"p-1 text-white/40 hover:text-red-400 transition-colors",title:"Delete notification",children:a.jsx(Ex,{size:12})})]})]})})]})},k.id))})})}),o&&a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)})]})},Il={cinematic_glow:{id:"cinematic_glow",name:"Cinematic Glow",tag:"Cinematic",prompt:"Enhance this image/video with cinematic color grading, warm highlights, deep shadows, and rich blacks. Add a subtle teal-orange tone balance. Keep faces natural.",negative_prompt:"flat, dull, oversaturated, harsh lighting",strength:.75,description:"Professional cinematic look with teal-orange balance",category:"cinematic"},bright_airy:{id:"bright_airy",name:"Bright & Airy",tag:"Minimalist",prompt:"Edit with a clean, airy stylesoft lighting, pastel tones, balanced whites, and gentle shadows. Perfect for lifestyle, wellness, and yoga shots.",negative_prompt:"dark, moody, harsh contrast, oversaturated",strength:.65,description:"Clean, minimal aesthetic perfect for lifestyle content",category:"minimalist"},vivid_pop:{id:"vivid_pop",name:"Vivid Pop",tag:"Vibrant",prompt:"Make colors vibrant and saturated while keeping skin tones realistic. Enhance clarity and add slight contrast for a punchy, Instagram-ready look.",negative_prompt:"muted, dull, flat, desaturated",strength:.7,description:"Bold, vibrant colors perfect for social media",category:"vibrant"},vintage_film_35mm:{id:"vintage_film_35mm",name:"Vintage Film 35mm",tag:"Vintage",prompt:"Add a retro 35mm film look with warm faded tones, subtle grain, and soft shadows. Keep details sharp but with a nostalgic mood.",negative_prompt:"digital, sharp, modern, oversaturated",strength:.75,description:"Classic film aesthetic with warm, nostalgic tones",category:"vintage"},tropical_boost:{id:"tropical_boost",name:"Tropical Boost",tag:"Travel",prompt:"Boost blues, greens, and warm tones for a tropical, sunny feel. Slight HDR for landscapes, keep people looking natural.",negative_prompt:"cold, muted, dull, flat lighting",strength:.7,description:"Tropical paradise colors perfect for travel photos",category:"travel"},urban_grit:{id:"urban_grit",name:"Urban Grit",tag:"Urban",prompt:"Apply desaturated blues, deep contrast, and crisp details. Keep shadows strong and highlights clean for an urban city aesthetic.",negative_prompt:"bright, colorful, soft, pastel",strength:.75,description:"Urban city aesthetic with gritty, modern feel",category:"urban"},mono_drama:{id:"mono_drama",name:"Mono Drama",tag:"Black & White",prompt:"Convert to black and white with strong contrast, bright highlights, and detailed textures. Ideal for close-up portraits or moody street scenes.",negative_prompt:"color, flat, low contrast, blurry",strength:.8,description:"Dramatic black and white with strong contrast",category:"black_white"},dreamy_pastels:{id:"dreamy_pastels",name:"Dreamy Pastels",tag:"Soft",prompt:"Add soft-focus effect, pastel colors, and warm highlights for a dreamy, romantic vibe. Keep details smooth and flattering.",negative_prompt:"sharp, harsh, dark, oversaturated",strength:.65,description:"Soft, dreamy aesthetic perfect for romantic content",category:"soft"},golden_hour_magic:{id:"golden_hour_magic",name:"Golden Hour Magic",tag:"Warm",prompt:"Simulate golden hour lightingwarm tones, glowing highlights, and soft shadows. Perfect for portraits and sunsets.",negative_prompt:"cold, blue, harsh, flat lighting",strength:.7,description:"Warm golden hour lighting simulation",category:"warm"},high_fashion_editorial:{id:"high_fashion_editorial",name:"High Fashion Editorial",tag:"Editorial",prompt:"Sleek desaturated tones with strong contrast, minimal noise, and smooth skin retouching. Magazine cover quality.",negative_prompt:"colorful, soft, blurry, amateur",strength:.75,description:"Professional editorial look for fashion content",category:"editorial"},moody_forest:{id:"moody_forest",name:"Moody Forest",tag:"Nature",prompt:"Deep green tones, soft diffused light, and light fog overlay for a moody forest atmosphere.",negative_prompt:"bright, sunny, colorful, harsh lighting",strength:.7,description:"Moody forest atmosphere with deep greens",category:"nature"},desert_glow:{id:"desert_glow",name:"Desert Glow",tag:"Travel",prompt:"Warm sandy tones, golden highlights, and gentle texture enhancement for desert and dune scenes.",negative_prompt:"cold, blue, wet, lush",strength:.7,description:"Warm desert tones perfect for landscape photography",category:"travel"},retro_polaroid:{id:"retro_polaroid",name:"Retro Polaroid",tag:"Vintage",prompt:"Add warm faded tones, soft focus, and subtle frame edge blur for a retro instant camera feel.",negative_prompt:"sharp, digital, modern, clear",strength:.7,description:"Retro Polaroid instant camera aesthetic",category:"vintage"},crystal_clear:{id:"crystal_clear",name:"Crystal Clear",tag:"Clarity",prompt:"Enhance sharpness, remove haze, and boost clarity while keeping colors true to life.",negative_prompt:"blurry, hazy, soft, distorted",strength:.65,description:"Maximum clarity and sharpness enhancement",category:"minimalist"},ocean_breeze:{id:"ocean_breeze",name:"Ocean Breeze",tag:"Travel",prompt:"Bright blues, soft whites, and airy highlights for a clean, coastal feel.",negative_prompt:"dark, moody, warm, inland",strength:.65,description:"Clean coastal aesthetic with ocean blues",category:"travel"},festival_vibes:{id:"festival_vibes",name:"Festival Vibes",tag:"Vibrant",prompt:"Rich saturated colors, warm highlights, and slight vignette for lively festival and street party scenes.",negative_prompt:"muted, dull, dark, serious",strength:.75,description:"Vibrant festival atmosphere with rich colors",category:"vibrant"},noir_classic:{id:"noir_classic",name:"Noir Classic",tag:"Black & White",prompt:"High-contrast black and white with sharp detail, deep blacks, and a timeless cinematic mood.",negative_prompt:"color, soft, low contrast, bright",strength:.8,description:"Classic film noir with high contrast",category:"black_white"},sun_kissed:{id:"sun_kissed",name:"Sun-Kissed",tag:"Warm",prompt:"Golden warmth, soft shadows, and glowing skin tones for outdoor sunlit photos.",negative_prompt:"cold, dark, indoor, artificial lighting",strength:.7,description:"Natural sunlit warmth for outdoor photography",category:"warm"},frost_light:{id:"frost_light",name:"Frost & Light",tag:"Cool",prompt:"Cool blues and crisp whites for winter and mountain scenes, enhancing snow textures.",negative_prompt:"warm, dark, summer, tropical",strength:.7,description:"Cool winter aesthetic with enhanced snow textures",category:"cool"},neon_nights:{id:"neon_nights",name:"Neon Nights",tag:"Urban",prompt:"Vivid neon colors, deep blacks, and sharp clarity for night city scenes.",negative_prompt:"daytime, natural, muted, soft",strength:.75,description:"Vibrant neon night city aesthetic",category:"urban"},cultural_glow:{id:"cultural_glow",name:"Cultural Glow",tag:"Travel",prompt:"Enhance traditional fabrics, patterns, and natural light to showcase cultural richness.",negative_prompt:"modern, artificial, dull, flat",strength:.7,description:"Cultural heritage enhancement with natural lighting",category:"travel"},soft_skin_portrait:{id:"soft_skin_portrait",name:"Soft Skin Portrait",tag:"Portrait",prompt:"Smooth skin tones, natural color correction, and soft background blur for professional portraits.",negative_prompt:"harsh, rough, oversaturated, blurry",strength:.65,description:"Professional portrait with smooth skin enhancement",category:"portrait"},rainy_day_mood:{id:"rainy_day_mood",name:"Rainy Day Mood",tag:"Moody",prompt:"Cool tones, soft reflections, and subtle raindrop texture for rainy street or nature scenes.",negative_prompt:"sunny, warm, dry, bright",strength:.7,description:"Moody rainy day atmosphere with cool tones",category:"moody"},wildlife_focus:{id:"wildlife_focus",name:"Wildlife Focus",tag:"Nature",prompt:"Enhance fur, feathers, or scales with natural tones and sharp detail, keeping background slightly blurred.",negative_prompt:"blurry, artificial, oversaturated, harsh",strength:.75,description:"Wildlife photography with enhanced natural details",category:"nature"},street_story:{id:"street_story",name:"Street Story",tag:"Urban",prompt:"High contrast, rich shadows, and enhanced textures for documentary-style street photography.",negative_prompt:"soft, bright, colorful, artificial",strength:.75,description:"Documentary street photography aesthetic",category:"urban"}};class yb{constructor(){oe(this,"STORAGE_KEY","stefna_preset_rotation");oe(this,"USAGE_STORAGE_KEY","stefna_preset_usage");oe(this,"DEFAULT_CONFIG",{totalPresets:6,retentionCount:3,rotationDay:"monday",rotationTime:"00:00"})}getRotationConfig(){const t=localStorage.getItem(this.STORAGE_KEY);if(t)try{return{...this.DEFAULT_CONFIG,...JSON.parse(t)}}catch{return this.DEFAULT_CONFIG}return this.DEFAULT_CONFIG}getPresetUsage(){const t=localStorage.getItem(this.USAGE_STORAGE_KEY);if(t)try{return JSON.parse(t)}catch{return{}}return{}}savePresetUsage(t){localStorage.setItem(this.USAGE_STORAGE_KEY,JSON.stringify(t))}shouldRotate(){const t=this.getRotationConfig(),n=new Date,r=n.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),s=n.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});if(r===t.rotationDay&&s===t.rotationTime){const i=localStorage.getItem("stefna_last_rotation"),o=n.toDateString();if(i!==o)return localStorage.setItem("stefna_last_rotation",o),!0}return!1}getActivePresets(){try{const t=this.getRotationConfig(),n=this.getPresetUsage();this.shouldRotate()&&this.performRotation();const r=this.getStoredActivePresets();if(!r||r.length===0)return console.log(" No active presets found, generating initial rotation..."),this.generateNewRotation();const s=r.map(i=>Il[i]).filter(Boolean);return console.log(` Returning ${s.length} active presets`),s}catch(t){return console.error(" Error getting active presets:",t),console.log(" Falling back to random preset selection"),this.getRandomPresets(6)}}generateNewRotation(){try{const t=this.getRotationConfig(),n=this.getPresetUsage(),r=Object.values(Il).sort((c,u)=>{var f,x;const d=((f=n[c.id])==null?void 0:f.usageCount)||0;return(((x=n[u.id])==null?void 0:x.usageCount)||0)-d}),s=r.slice(0,t.retentionCount),i=r.slice(t.retentionCount),o=this.shuffleArray(i).slice(0,t.totalPresets-t.retentionCount),l=[...s,...o];return this.storeActivePresets(l.map(c=>c.id)),l}catch(t){return console.error(" Error generating new rotation:",t),this.getRandomPresets(6)}}performRotation(){console.log(" Performing preset rotation...");const t=this.generateNewRotation();console.log(" New preset rotation:",t.map(n=>n.name))}storeActivePresets(t){localStorage.setItem("stefna_active_presets",JSON.stringify(t))}getStoredActivePresets(){const t=localStorage.getItem("stefna_active_presets");if(t)try{return JSON.parse(t)}catch{return[]}return[]}trackPresetUsage(t){const n=this.getPresetUsage(),r=new Date;if(n[t])n[t].usageCount+=1,n[t].lastUsed=r;else{const s=Il[t];s&&(n[t]={presetId:t,usageCount:1,lastUsed:r,category:s.category})}this.savePresetUsage(n)}getPresetStats(){const t=this.getPresetUsage(),n=Object.values(t),r=n.reduce((l,c)=>l+c.usageCount,0),s=[...n].sort((l,c)=>c.usageCount-l.usageCount).slice(0,5),i=[...n].sort((l,c)=>l.usageCount-c.usageCount).slice(0,5),o={};return n.forEach(l=>{o[l.category]=(o[l.category]||0)+l.usageCount}),{totalUsage:r,mostUsed:s,leastUsed:i,categoryStats:o}}shuffleArray(t){const n=[...t];for(let r=n.length-1;r>0;r--){const s=Math.floor(Math.random()*(r+1));[n[r],n[s]]=[n[s],n[r]]}return n}forceRotation(){console.log(" Forcing preset rotation..."),this.performRotation()}getNextRotationTime(){const t=this.getRotationConfig(),n=new Date,r=n.getDay();let i=(this.getDayNumber(t.rotationDay)-r+7)%7;i===0&&n.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})>=t.rotationTime&&(i=7);const o=new Date(n);return o.setDate(n.getDate()+i),o.setHours(parseInt(t.rotationTime.split(":")[0]),parseInt(t.rotationTime.split(":")[1]),0,0),o}getDayNumber(t){return{sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[t.toLowerCase()]||0}clearAllData(){localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.USAGE_STORAGE_KEY),localStorage.removeItem("stefna_active_presets"),localStorage.removeItem("stefna_last_rotation"),console.log(" Cleared all preset rotation data")}}const nu=new yb;function Ld(){return nu.getActivePresets()}const xb=(()=>{const e=Ld(),t={};return e.forEach(n=>{t[n.id]=n.prompt}),t})(),vb=(()=>{const e=Ld(),t={};return e.forEach(n=>{t[n.id]=`${n.prompt}, smooth motion, cinematic timing, enhanced video quality`}),t})();function wb(e){return(typeof e=="string"?e:(e==null?void 0:e.slug)||(e==null?void 0:e.label)||"").trim().toLowerCase().replace(/\s+/g,"_")}function Sb(e,t=!1,n="stylize, preserve subject and composition"){const r=wb(e),i=(t?vb:xb)[r];return console.log(" Preset lookup:",{input:e,slug:r,isVideo:t,found:!!i,prompt:i||n}),i||n}const q=(()=>{const e=Ld(),t={};return e.forEach(n=>{t[n.id]={label:n.name,prompt:n.prompt,negative_prompt:n.negative_prompt||"blurry, low quality, distorted",strength:n.strength,description:n.description}}),t})();class kb{constructor(){oe(this,"hashtagTemplates",{instagram:["#AIArt","#DigitalArt","#CreativeAI","#StefnaApp","#AIPhotography","#AiAsABrush","#ArtisticAI","#CreativeProcess","#DigitalCreation","#AIGenerated","#ModernArt","#TechArt","#Innovation","#Creativity","#ArtCommunity"],x:["#AIArt","#DigitalArt","#CreativeAI","#StefnaApp","#AIPhotography","#AiAsABrush","#ArtisticAI","#CreativeProcess","#DigitalCreation","#AIGenerated"],whatsapp:["#AIArt","#DigitalArt","#CreativeAI","#StefnaApp","#AIPhotography","#AiAsABrush"],telegram:["#AIArt","#DigitalArt","#CreativeAI","#StefnaApp","#AIPhotography","#AiAsABrush"],tiktok:["#AIArt","#DigitalArt","#CreativeAI","#StefnaApp","#AIPhotography","#AiAsABrush","#ArtisticAI","#CreativeProcess","#DigitalCreation","#AIGenerated","#FYP","#Trending","#Viral","#Creative","#Art"]});oe(this,"captionTemplates",{casual:["Just created this with AI!","AI magic at work! What do you think?","Stefna made this possible! AI art is incredible","From photo to art in seconds! AI is wild","This AI filter is everything!"],professional:["Exploring the intersection of photography and AI-generated art.","AI-enhanced photography: pushing creative boundaries.","Digital transformation through AI-powered artistic filters.","Innovative approach to visual storytelling with AI.","Bridging traditional photography with AI-generated aesthetics."],trendy:["This AI filter is giving main character energy","Stefna really said 'let's make art' and I'm here for it","AI art is the future and the future is now!","This prompt is everything! AI creativity is unmatched","Who else is obsessed with AI-generated art?"],artistic:["Where technology meets creativity","AI as a brush, imagination as the canvas","Digital alchemy: transforming reality through AI","The future of artistic expression is here","AI-generated art: a new form of human creativity"]})}generateCaption(t){const{prompt:n,platform:r,style:s}=t,i=this.generateBaseCaption(n,s),o=this.generateHashtags(n,r);return{caption:this.formatCaption(i,o,r),captionText:i,hashtags:o,platform:r,style:s}}generateBaseCaption(t,n){const r=this.captionTemplates[n]||this.captionTemplates.casual,s=r[Math.floor(Math.random()*r.length)],i=this.extractStyleKeywords(t);return i.length>0?`${s}

Applied: ${i.join(", ")}`:s}extractStyleKeywords(t){const n=[],r=t.toLowerCase();return r.includes("anime")&&n.push("Anime Style"),r.includes("oil painting")&&n.push("Oil Painting"),r.includes("watercolor")&&n.push("Watercolor"),r.includes("cyberpunk")&&n.push("Cyberpunk"),r.includes("vintage")&&n.push("Vintage"),r.includes("fantasy")&&n.push("Fantasy"),r.includes("artistic")&&n.push("Artistic"),r.includes("sci-fi")&&n.push("Sci-Fi"),n}generateHashtags(t,n){const r=this.hashtagTemplates[n]||this.hashtagTemplates.instagram,s=this.getStyleHashtags(t),i=[...r,...s],o=i.includes("#AiAsABrush")?i:["#AiAsABrush",...i],l=n==="instagram"?15:n==="x"?8:10;return o.slice(0,l)}getStyleHashtags(t){const n=t.toLowerCase(),r=[];return n.includes("anime")&&r.push("#AnimeArt","#AnimeStyle"),n.includes("oil painting")&&r.push("#OilPainting","#ClassicalArt"),n.includes("watercolor")&&r.push("#Watercolor","#SoftArt"),n.includes("cyberpunk")&&r.push("#Cyberpunk","#Futuristic"),n.includes("vintage")&&r.push("#Vintage","#Retro"),n.includes("fantasy")&&r.push("#Fantasy","#Magical"),n.includes("artistic")&&r.push("#Artistic","#Creative"),n.includes("sci-fi")&&r.push("#SciFi","#Futuristic"),r}formatCaption(t,n,r){const s=n.join(" ");switch(r){case"instagram":return`${t}

${s}`;case"x":return`${t}

${n.slice(0,5).join(" ")}`;case"tiktok":return`${t}

${s}`;default:return`${t}

${s}`}}generateMultipleCaptions(t){return["casual","professional","trendy","artistic"].map(r=>this.generateCaption({...t,style:r}))}}const jb=new kb,Rx=({isOpen:e,media:t,startIndex:n=0,onClose:r,onLike:s,onRemix:i,onShowAuth:o})=>{var A;const[l,c]=y.useState(n),u=y.useMemo(()=>t[l],[t,l]),[d,h]=y.useState((u==null?void 0:u.likes)??0),[f,x]=y.useState(!1),[w,S]=y.useState((u==null?void 0:u.remixCount)??0),[k,m]=y.useState("idle");y.useEffect(()=>{var N;u&&console.log(" FullScreenMediaViewer current media:",{id:u.id,prompt:u.prompt,userId:u.userId,type:u.type,hasPrompt:!!u.prompt,promptLength:((N=u.prompt)==null?void 0:N.length)||0})},[u]),y.useEffect(()=>{c(n)},[n]),y.useEffect(()=>{u&&(h(u.likes??0),S(u.remixCount??0))},[u]);const p=()=>{if(!$.isAuthenticated()){o?o():window.location.href="/auth";return}s&&(x(!f),h(f?d-1:d+1),s(u))},g=()=>{if(!$.isAuthenticated()){o?o():window.location.href="/auth";return}i&&(S(w+1),i(u))};if(y.useEffect(()=>{if(!e)return;const N=F=>{F.key==="Escape"&&r(),F.key==="ArrowRight"&&c(_=>(_+1)%t.length),F.key==="ArrowLeft"&&c(_=>(_-1+t.length)%t.length)};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[e,t.length,r]),!e||!u)return null;const b=()=>c(N=>(N-1+t.length)%t.length),C=()=>c(N=>(N+1)%t.length),P=new Date(u.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return a.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-sm",children:[a.jsx("button",{onClick:r,className:"absolute top-4 right-4 w-12 h-12 flex items-center justify-center text-white hover:text-white/80 bg-black/50 rounded-full backdrop-blur-sm z-50","aria-label":"Close viewer",title:"Close",children:a.jsx(ft,{size:24})}),a.jsxs("div",{className:"h-full w-full flex flex-col",children:[a.jsx("div",{className:"bg-black/80 backdrop-blur-sm p-4",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[a.jsxs("span",{className:"text-white text-sm",children:["User ",((A=u.userId)==null?void 0:A.slice(0,6))||"Unknown"]}),a.jsx("span",{className:"text-white text-sm",children:""}),a.jsx("span",{className:"text-white text-sm",children:P})]})})}),a.jsxs("div",{className:"flex-1 relative flex flex-col items-center justify-start pt-4",children:[t.length>1&&a.jsx("button",{onClick:b,className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center text-white hover:text-white/80","aria-label":"Previous",title:"Previous",children:a.jsx(Wj,{size:20})}),a.jsx("div",{className:"max-w-full max-h-full object-contain",children:u.type==="video"?a.jsx("video",{src:u.url,className:"max-w-full max-h-[calc(100vh-200px)] object-contain",controls:!0,autoPlay:!0,muted:!0}):a.jsx("img",{src:u.url,alt:u.prompt,className:"max-w-full max-h-[calc(100vh-200px)] object-contain"})}),t.length>1&&a.jsx("button",{onClick:C,className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center text-white hover:text-white/80","aria-label":"Next",title:"Next",children:a.jsx(Yj,{size:20})}),a.jsxs("div",{className:"mt-6 text-center max-w-4xl px-4",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-3 group relative mb-4",children:[a.jsx("span",{className:"text-white/60 text-sm font-medium",children:"Prompt:"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"text-white text-sm max-w-md truncate block",title:u.prompt,children:u.prompt.length>60?`${u.prompt.substring(0,60)}...`:u.prompt}),u.prompt.length>60&&a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 p-3 bg-black/90 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-normal max-w-md z-50 border border-white/20",children:u.prompt})]}),a.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(u.prompt),m("success"),setTimeout(()=>m("idle"),1e3)}catch(N){console.error("Failed to copy prompt:",N);const F=document.createElement("textarea");F.value=u.prompt,document.body.appendChild(F),F.select();try{document.execCommand("copy"),m("success"),setTimeout(()=>m("idle"),1e3)}catch(_){console.error("Fallback copy failed:",_),m("error"),setTimeout(()=>m("idle"),1e3)}document.body.removeChild(F)}},className:"text-white/60 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10",title:"Copy prompt to clipboard",children:k==="success"?a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-green-400",children:a.jsx("polyline",{points:"20,6 9,17 4,12"})}):k==="error"?a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-red-400",children:a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"})}):a.jsx(Tx,{size:16})})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-6",children:[a.jsxs("button",{onClick:p,className:"flex flex-col items-center space-y-1 text-white hover:text-white/80 transition-colors",children:[a.jsx(Zr,{size:16,className:`${f?"text-red-500 fill-red-500":"text-white"}`}),a.jsx("span",{className:"text-xs",children:d>0?d:"Like"})]}),a.jsxs("button",{onClick:g,className:"flex flex-col items-center space-y-1 text-white hover:text-white/80 transition-colors",children:[a.jsx(lr,{size:16,className:"text-white"}),a.jsx("span",{className:"text-xs",children:w>0?w:"Remix"})]})]})]})]})]})]})},bb=({isOpen:e,onClose:t,mediaUrl:n="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMWExYTFhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjI0Ij5BSSBDcmVhdGlvbiBWaWRlbzwvdGV4dD48L3N2Zz4=",caption:r="Check out my amazing AI creation! #AIasABrush #Stefna",title:s="Share Your Creation"})=>{const[i,o]=y.useState("casual"),[l,c]=y.useState(r),[u,d]=y.useState(!1),[h,f]=y.useState(!1),x=[{id:"instagram",name:"Instagram",icon:Qj,color:"#E4405F",gradient:"from-[#E4405F] to-[#F77737]"},{id:"twitter",name:"X",icon:ib,color:"#1DA1F2",gradient:"from-[#1DA1F2] to-[#0D8BD9]"},{id:"facebook",name:"Facebook",icon:Kj,color:"#1877F2",gradient:"from-[#1877F2] to-[#0D6EFD]"},{id:"whatsapp",name:"WhatsApp",icon:tb,color:"#25D366",gradient:"from-[#25D366] to-[#128C7E]"},{id:"telegram",name:"Telegram",icon:nb,color:"#0088CC",gradient:"from-[#0088CC] to-[#006699]"}],w=[{id:"casual",name:"Casual",example:"Just created this with AI! "},{id:"professional",name:"Professional",example:"AI-powered creative transformation using Stefna."},{id:"trendy",name:"Trendy",example:"This AI magic is everything!  #Viral"},{id:"artistic",name:"Artistic",example:"Exploring the boundaries of AI creativity "}],S=g=>{const b=`https://stefna.app/share/${Date.now()}`,C=l;let P="";switch(g){case"twitter":P=`https://twitter.com/intent/tweet?text=${encodeURIComponent(C)}&url=${encodeURIComponent(b)}`;break;case"facebook":P=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(b)}`;break;case"whatsapp":P=`https://wa.me/?text=${encodeURIComponent(C+" "+b)}`;break;case"telegram":P=`https://t.me/share/url?url=${encodeURIComponent(b)}&text=${encodeURIComponent(C)}`;break;default:P=b}window.open(P,"_blank","width=600,height=400")},k=async()=>{try{await navigator.clipboard.writeText(l),f(!0),setTimeout(()=>f(!1),2e3)}catch(g){console.error("Failed to copy caption:",g)}},m=()=>{d(!0),setTimeout(()=>{d(!1),alert("Download started!")},1e3)},p=g=>{o(g);const b=w.find(C=>C.id===g);b&&c(b.example)};return e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md bg-white/5 backdrop-blur-md border border-white/20 rounded-t-3xl shadow-2xl",children:[a.jsx("div",{className:"flex justify-center pt-4 pb-2",children:a.jsx("div",{className:"w-12 h-1 bg-white/20 rounded-full"})}),a.jsxs("div",{className:"text-center px-6 py-4 border-b border-white/10",children:[a.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Px,{size:24,className:"text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:s}),a.jsx("p",{className:"text-white/60",children:"Share your creation with the world"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Your Creation"}),a.jsx("div",{className:"aspect-square rounded-xl overflow-hidden bg-gradient-to-br from-[#FF6B9D] to-[#00D4FF] flex items-center justify-center border border-white/20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(eu,{size:48,className:"text-white mx-auto mb-4"}),a.jsx("p",{className:"text-white font-semibold",children:"Your Creation"})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Caption Style"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:w.map(g=>a.jsxs("button",{onClick:()=>p(g.id),className:`p-3 rounded-lg text-left transition-all duration-300 border ${i===g.id?"border-white/40 bg-white/20 text-white":"border-white/20 bg-white/5 text-white/60 hover:text-white hover:bg-white/10"}`,children:[a.jsx("div",{className:"text-sm font-medium",children:g.name}),a.jsx("div",{className:"text-xs mt-1 opacity-80",children:g.example})]},g.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Custom Caption"}),a.jsx("textarea",{value:l,onChange:g=>c(g.target.value),placeholder:"Write your caption...",className:"w-full h-24 p-3 rounded-lg bg-white/5 border border-white/20 text-white placeholder-white/40 resize-none focus:outline-none focus:border-white/40 focus:bg-white/10",rows:3}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsxs("span",{className:"text-xs text-white/40",children:[l.length,"/280 characters"]}),a.jsxs("button",{onClick:k,className:"text-xs text-white/60 hover:text-white transition-colors flex items-center space-x-1",children:[a.jsx(Tx,{size:16}),a.jsx("span",{children:h?"Copied!":"Copy"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Share to Platform"}),a.jsx("div",{className:"grid grid-cols-5 gap-3",children:x.map(g=>{const b=g.icon;return a.jsxs("button",{onClick:()=>S(g.id),className:"flex flex-col items-center space-y-2 p-3 rounded-lg bg-white/5 border border-white/20 hover:border-white/40 transition-all duration-300",children:[a.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-r ${g.gradient} flex items-center justify-center`,children:a.jsx(b,{size:24,className:"text-white"})}),a.jsx("span",{className:"text-xs text-white font-medium",children:g.name})]},g.id)})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:m,disabled:u,className:"w-full py-3 rounded-lg font-medium text-sm transition-all duration-300 flex items-center justify-center space-x-2 bg-white text-black hover:bg-white/90",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black/20 border-t-black rounded-full animate-spin"}),a.jsx("span",{children:"Downloading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Gj,{size:16}),a.jsx("span",{children:"Download"})]})}),a.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium text-sm transition-all duration-300 flex items-center justify-center space-x-2 bg-white/5 text-white hover:bg-white/10",children:a.jsx("span",{children:"Close"})})]})]})]})]}):null};function Cb(e){const t=!!(e&&e.userInitiated===!0);return console.info(` requireUserIntent: ${t?"ALLOW":"BLOCK"}`,e),!t}const Sp=e=>{if(!e||/^https?:\/\//i.test(e))return e;const t={}.VITE_CLOUDINARY_CLOUD_NAME;return t?`https://res.cloudinary.com/${t}/image/upload/${e.replace(/^\/+/,"")}`:e},Nb=()=>{var Cs;const e=y.useRef(null),t=kr(),n=Ii(),r=y.useRef(null),s=y.useRef(null),[i,o]=y.useState(0),[l,c]=y.useState(0),[u,d]=y.useState(!1),[h,f]=y.useState(null),[x,w]=y.useState(null),[S,k]=y.useState(!1),[m,p]=y.useState(!1),[g,b]=y.useState(""),[C,P]=y.useState(null),A=y.useRef(null);y.useEffect(()=>{A.current=C},[C]);function N(j){if(!m){if(j!=="user-closed"&&j!=="user clicked clear"){console.log(" Preventing preset clear for reason:",j);return}console.info(" clearSelectedPreset:",j),P(null)}}const F=()=>{console.log(" Clearing preset after generation"),P(null),A.current=null,localStorage.removeItem("selectedPreset")},_=()=>{console.log(" Clearing preset on composer exit"),P(null),A.current=null,localStorage.removeItem("selectedPreset")};y.useEffect(()=>{const j=localStorage.getItem("selectedPreset");j&&q[j]&&(console.log(" Restoring preset from localStorage:",j),P(j),A.current=j)},[q]),y.useEffect(()=>{console.log(" selectedPreset changed to:",C),C?(console.log(" Preset details:",q[C]),localStorage.setItem("selectedPreset",C),A.current=C):(localStorage.removeItem("selectedPreset"),A.current=null)},[C,q]),y.useEffect(()=>{console.log(" PRESETS object updated:",{count:Object.keys(q).length,keys:Object.keys(q),sample:Object.keys(q).slice(0,3).map(j=>{var L,v,T;return{key:j,label:(L=q[j])==null?void 0:L.label,prompt:((T=(v=q[j])==null?void 0:v.prompt)==null?void 0:T.substring(0,50))+"..."}})})},[q]),y.useEffect(()=>{C===null&&(console.log(" selectedPreset was cleared to null"),console.trace("Preset clear stack trace"))},[C]);const[K,We]=y.useState(!1),[Re,vt]=y.useState("instagram"),[$t,sn]=y.useState("trendy"),[X,D]=y.useState(""),[O,z]=y.useState(!1),Z=y.useMemo(()=>{try{const j=Object.keys(q);return console.log(" Active presets for UI:",j),j}catch(j){return console.error(" Error getting active presets:",j),[]}},[q]),[ce,Xe]=y.useState(null),[wt,at]=y.useState([]),[je,Mt]=y.useState(!0),[ge,jr]=y.useState(!1),[gs,ys]=y.useState(null),[on,lt]=y.useState(!1),[xs,St]=y.useState(!1),[Fn,vs]=y.useState("all"),[zi,Rt]=y.useState(!1),[an,Un]=y.useState(!1),[On,kt]=y.useState(!1),[Bi,Vn]=y.useState(!1),[Ze,Dt]=y.useState([]),[ln,zn]=y.useState(0),[$i,Bn]=y.useState(null),[Wt,br]=y.useState(null),[za,Wi]=y.useState(!1),[cn,un]=y.useState(null);y.useEffect(()=>{const j=E=>{const M=E.target;on&&!M.closest("[data-filter-dropdown]")&&lt(!1),On&&!M.closest("[data-user-menu]")&&kt(!1),xs&&!M.closest("[data-presets-dropdown]")&&St(!1)},L=()=>{lt(!1),kt(!1),St(!1)},v=E=>{E.key==="Escape"&&(lt(!1),kt(!1),St(!1))},T=E=>{const M=E.target;if(M.closest("[data-nav-button]")){const I=M.closest("[data-nav-button]"),V=I==null?void 0:I.getAttribute("data-nav-type");V!=="filter"&&lt(!1),V!=="user"&&kt(!1),V!=="presets"&&St(!1)}};return document.addEventListener("click",j),document.addEventListener("click",T),window.addEventListener("global-nav-close",L),document.addEventListener("keydown",v),()=>{document.removeEventListener("click",j),document.removeEventListener("click",T),window.removeEventListener("global-nav-close",L),document.removeEventListener("keydown",v)}},[on,On,xs]);const Yi=()=>{lt(!1),kt(!1),St(!1)},Hi=()=>{var j;Yi(),(j=e.current)==null||j.click()},Ba=j=>{var T;const L=(T=j.target.files)==null?void 0:T[0];if(!L)return;const v=URL.createObjectURL(L);f(v),k(L.type.startsWith("video/")),w(L),d(!0),N("new media uploaded")},$n=()=>{const j=r.current,L=s.current;if(!j||!L)return;const v=j.getBoundingClientRect().height,T=L.getBoundingClientRect(),E=Math.max(0,(v-T.height)/2);o(E),c(T.width)};y.useEffect(()=>{if(!u)return;const j=()=>$n();window.addEventListener("resize",j);const L=setTimeout($n,50);return()=>{window.removeEventListener("resize",j),clearTimeout(L)}},[u,h]),y.useEffect(()=>{const j=n==null?void 0:n.state;if(j&&(j.remixUrl||j.remixPrompt)){const L=j.remixUrl;f(L),k(/\.(mp4|webm|mov|mkv)(\?|$)/i.test(L)),w(null),d(!0),j.remixPrompt&&b(j.remixPrompt)}},[n]);const Gi=async()=>{var j;try{Mt(!0),console.log(" Loading public feed...");const L=await fetch("/.netlify/functions/getPublicFeed?limit=50");if(console.log(" Feed response status:",L.status),L.ok){const v=await L.json();console.log(" Raw feed response:",v),console.log(" Feed items received:",Array.isArray(v.items)?v.items.length:"not array");const{items:T}=v;console.log(" Raw feed data:",T),console.log(" Feed length:",(T==null?void 0:T.length)||0);const E=(T||[]).map(M=>{const I=Sp(M.result_url)||Sp(M.url)||M.result_url||M.url;return console.log(` URL mapping for item ${M.id}:`,{result_url:M.result_url,url:M.url,final:I,env:M.env,visibility:M.visibility}),{id:M.id,userId:M.user_id,userAvatar:M.user_avatar||void 0,userTier:M.user_tier||void 0,type:M.mode==="v2v"?"video":"photo",url:I,thumbnailUrl:void 0,prompt:M.prompt||"",style:void 0,aspectRatio:M.width&&M.height?M.width/Math.max(1,M.height):4/3,width:M.width||800,height:M.height||600,timestamp:M.created_at,originalMediaId:M.parent_asset_id||void 0,tokensUsed:M.mode==="v2v"?5:2,likes:M.likes_count||0,remixCount:M.remixes_count||0,isPublic:!0,allowRemix:!!M.allow_remix,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"1.0"}}});console.log(" Mapped feed items:",E.length),console.log(" Setting feed with items:",E.length,"first item ID:",(j=E[0])==null?void 0:j.id),at(E)}else console.error(" Feed response not ok:",L.status,await L.text())}catch(L){console.error(" Failed to load feed",L)}finally{Mt(!1)}};y.useEffect(()=>{(async()=>{const L=$.getAuthState();if(jr(L.isAuthenticated),console.log(" Auth state initialized:",L),L.isAuthenticated)try{await ws(),console.log(" User settings synced from database"),await Hn(),console.log(" User profile synced from database"),await to()}catch(v){console.warn(" Failed to sync user data from database:",v)}})()},[]),y.useEffect(()=>{const j=localStorage.getItem("selectedPreset");j&&q[j]?(console.log(" Restoring preset from localStorage:",j),P(j)):j&&!q[j]&&(console.warn(" Invalid preset in localStorage, clearing:",j),localStorage.removeItem("selectedPreset"))},[]),y.useEffect(()=>{Gi();const j=()=>{Gi()};return window.addEventListener("refreshFeed",j),()=>{window.removeEventListener("refreshFeed",j)}},[]),y.useEffect(()=>{(async()=>{try{if(!u)return;if(!$.getToken()){Xe(null);return}const v=await Bo("/.netlify/functions/getQuota",{method:"GET"});if(v.ok){const T=await v.json();Xe(T)}else v.status===401&&Xe(null)}catch(L){console.error("Failed to load quota",L),Xe(null)}})()},[u]),y.useEffect(()=>()=>{Wt&&clearInterval(Wt)},[Wt]);const ws=async()=>{if(ge&&$.getToken())try{const j=await fetch("/.netlify/functions/user-settings",{method:"GET",headers:{Authorization:`Bearer ${$.getToken()}`,"Content-Type":"application/json"}});if(j.ok){const L=await j.json();console.log(" Retrieved settings from database:",L);const T={...JSON.parse(localStorage.getItem("userProfile")||"{}"),...L};return localStorage.setItem("userProfile",JSON.stringify(T)),L}}catch(j){console.warn(" Failed to get settings from database, falling back to localStorage:",j)}try{const j=localStorage.getItem("userProfile");if(j){const L=JSON.parse(j);return{shareToFeed:L.shareToFeed||!1,allowRemix:L.allowRemix||!1}}}catch(j){console.error("Error reading user profile from localStorage:",j)}return{shareToFeed:!0,allowRemix:!0}},Cr=()=>{d(!1),b(""),f(null),Yi()};async function Nr(j){var V,G,te,ee,re,Wa,Id;const L=performance.now();console.info(" dispatchGenerate",{kind:j});const{shareToFeed:v,allowRemix:T}=await ws();if(console.log(" Using profile settings:",{shareToFeed:v,allowRemix:T}),console.table({hasActiveAssetUrl:!!h,promptLen:(g==null?void 0:g.length)??0,isGenerating:m,isAuthenticated:ge}),!h){console.warn("No source media URL; aborting.");return}let E="";const M=A.current;if(!M&&!g.trim()){console.warn("No preset selected and no user prompt; aborting.");return}console.log(" Preset selection debug:",{selectedPreset:C,selectedPresetRef:M,hasPreset:!!M,presetExists:M?!!q[M]:!1,presetPrompt:M?(V=q[M])==null?void 0:V.prompt:"N/A"}),M&&q[M]?(E=q[M].prompt,console.log(` Using preset "${M}":`,E)):g.trim()?(E=g.trim(),console.log(" Using user prompt:",E)):(E="stylize, preserve subject and composition",console.log(" Using fallback prompt:",E));const I=g.toLowerCase().includes("make it obvious")||g.toLowerCase().includes("test");if(I&&(E="black-and-white line art, no color, heavy outlines, flat shading, cartoon style",console.log(' Using "Make it obvious" test prompt:',E)),M){const Yt=Sb(M,S);Yt!=="stylize, preserve subject and composition"&&(E=Yt,console.log(` Using new preset system "${M}" (${S?"V2V":"I2I"}):`,E))}if(console.log(" Final effective prompt:",E),M&&q[M]?(console.log(" Preset used in generation:",{presetName:M,presetLabel:q[M].label,presetPrompt:q[M].prompt,finalPrompt:E}),nu.trackPresetUsage(M)):M&&!q[M]&&console.warn(" Invalid preset selected:",M),!E){console.warn("No prompt available; aborting.");return}if(!ge){console.warn("User not authenticated; redirecting to auth."),t("/auth");return}if(Cb({userInitiated:!0,source:j})){console.warn(" Generation blocked by guard");return}try{console.log(" Starting generation with:",{kind:j,effectivePrompt:E,selectedPreset:M,isVideo:S}),p(!0),d(!1),Rt(!0),_();let Yt=h;x&&(Yt=(await Ax(x,`users/${((G=$.getCurrentUser())==null?void 0:G.id)||"me"}`)).secure_url),console.table({hasActiveAssetUrl:!!h,promptLen:(g==null?void 0:g.length)??0,isGenerating:m,isAuthenticated:ge,sourceUrl:Yt,selectedPreset:C,effectivePrompt:E,promptFieldValue:g});const Ue={prompt:E,image_url:Yt,resource_type:S?"video":"image",source:j,visibility:v?"public":"private",allow_remix:v?T:!1,num_variations:an?2:1,strength:.85,seed:Date.now(),request_id:((te=crypto.randomUUID)==null?void 0:te.call(crypto))||`${Date.now()}-${Math.random()}`};if(S&&(Ue.video_settings={fps:24,duration:3,quality:"high",stabilization:!0},console.log(" V2V payload with video settings:",Ue.video_settings)),I&&(Ue.strength=.9,Ue.num_inference_steps=36,Ue.guidance_scale=7.5,Ue.seed=Date.now(),console.log(" Using test parameters:",{strength:Ue.strength,steps:Ue.num_inference_steps,seed:Ue.seed})),C&&q[C]){const Ye=q[C];Ye.negative_prompt&&(Ue.negative_prompt=Ye.negative_prompt),typeof Ye.strength=="number"&&(Ue.strength=Ye.strength),Ue.presetName=C}console.info("aimlApi payload",Ue),S&&(Ue.resource_type="video");const Gn=await Bo("/.netlify/functions/aimlApi",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ue)});console.info("aimlApi status",Gn.status);const et=await Gn.json().catch(()=>({}));if(console.info("aimlApi body",et),Gn.status===202&&et.job_id&&S){ye("Add to queue","Video job created successfully. Processing will begin shortly.","queue"),Bn({id:et.job_id,status:"queued"}),bs(et.job_id),p(!1),Rt(!1);return}if(!Gn.ok)if(Gn.status===501&&S)ye("Add to queue","ready");else if(Gn.status===429){ye("Error please try again","Rate limited","error"),p(!1),Rt(!1);return}else throw new Error((et==null?void 0:et.error)||`aimlApi ${Gn.status}`);const Ns=et.result_url;if(!Ns)throw console.error("No result_url in response:",et),new Error("No result URL in API response");console.info("Generated result URL:",Ns);const Dx=`${Ns}${Ns.includes("?")?"&":"?"}t=${Date.now()}`;f(Dx),ye("Your media is ready","Your image has been generated successfully.","ready",h,"image",()=>{Dt([{id:"generated-"+Date.now(),userId:"current-user",type:"photo",url:h,prompt:g,aspectRatio:4/3,width:800,height:600,timestamp:new Date().toISOString(),tokensUsed:2,likes:0,remixCount:0,isPublic:!1,allowRemix:!1,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"1.0"}}]),zn(0),Vn(!0)});try{const Ye=$.getToken(),_d=(ee=$.getCurrentUser())==null?void 0:ee.id;if(!Ye||!_d){console.error("No JWT or user ID for saveMedia"),ye("Your media is ready","Image generated but not saved (auth error)","warning");return}const no=await fetch("/.netlify/functions/save-media",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({user_id:_d,result_url:Ns,source_url:Yt,job_id:((re=crypto.randomUUID)==null?void 0:re.call(crypto))||null,model:"flux/dev/image-to-image",mode:j==="preset"?"preset":j==="remix"?"remix":"i2i",prompt:E,strength:C&&((Wa=q[C])==null?void 0:Wa.strength),visibility:v?"public":"private",env:"prod",allow_remix:v?T:!1,parent_asset_id:null})});if(console.log(" Save-media payload sent:",{prompt:E,selectedPreset:C,kind:j,strength:C&&((Id=q[C])==null?void 0:Id.strength),env:"prod"}),no.ok){const Tr=await no.json();if(console.info("Media saved successfully:",Tr),v){console.log(" Attempting to share to feed with settings:",{shareToFeed:v,allowRemix:T}),console.log(" Calling record-share for asset:",Tr.saved.id);try{const Kn=await fetch("/.netlify/functions/recordShare",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({asset_id:Tr.saved.id,shareToFeed:!0,allowRemix:T})});if(console.log(" Share response status:",Kn.status),Kn.ok){const Ya=await Kn.json();console.info(" Media published to feed successfully:",Ya),setTimeout(()=>{console.log(" Dispatching refreshFeed event..."),window.dispatchEvent(new CustomEvent("refreshFeed"))},1e3)}else{const Ya=await Kn.json();console.warn(" Failed to publish to feed:",Kn.status,Ya)}}catch(Kn){console.error(" Error publishing to feed:",Kn)}}else console.log(" Not sharing to feed (shareToFeed is false)"),ye("Your media is ready","Your image has been generated and saved to All Media.","ready",h,"image",()=>{Dt([{id:"generated-"+Date.now(),userId:"current-user",type:"photo",url:h,prompt:g,aspectRatio:4/3,width:800,height:600,timestamp:new Date().toISOString(),tokensUsed:2,likes:0,remixCount:0,isPublic:!1,allowRemix:!1,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"1.0"}}]),zn(0),Vn(!0)})}else if(no.status===404)console.warn("saveMedia function not deployed yet (404) - showing local notification");else{const Tr=await no.json();console.error("Failed to save media:",Tr),ye("Error please try again",`Image generated but failed to save: ${Tr.error||"Unknown error"}`,"error")}}catch(Ye){console.error("Error saving media:",Ye),ye("Error please try again","Image generated but failed to save.","error")}p(!1),Rt(!1),M&&q[M]&&F(),S&&(et.status==="processing"||et.status==="queued"?(ye("Add to queue","Your video is being processed. This may take 2-5 minutes.","processing"),console.log(" V2V job started:",et.job_id||"unknown")):et.status==="completed"&&ye("V2V Complete!","Your video has been generated successfully!","ready",void 0,"video",()=>{loadUserMedia()}));try{const Ye=await Bo("/.netlify/functions/getQuota");Ye.ok&&Xe(await Ye.json())}catch{}}catch(Yt){console.error("dispatchGenerate error",Yt),p(!1),Rt(!1)}finally{console.info(" dispatchGenerate done",(performance.now()-L).toFixed(1),"ms")}}const Ss=j=>{if(!ge){t("/auth");return}const L=q[j];L&&(console.log(" Preset clicked:",j,L),P(j),console.log(" selectedPreset set to:",j),setTimeout(()=>{ks(j)},500))},ks=async j=>{var M;if(!h)return;if(m){console.log(" Generation already in progress, ignoring request");return}if(console.log(" Auto-generating with preset:",j),!q[j]){console.error(" Preset not found in PRESETS:",j);return}const L=j,v=h,T=q[j];if(!T){console.error(" Preset data not found:",j);return}if(!T.prompt||!T.label){console.error(" Invalid preset data:",T);return}if(!v||!/^https?:\/\//i.test(v)){console.error(" Invalid asset URL:",v);return}if(!$.getToken()){console.error(" No authentication token");return}try{p(!0),Rt(!0),d(!1),nu.trackPresetUsage(L);const I=T.prompt;console.log(" Auto-generation prompt:",I),console.log(" Frozen state:",{preset:L,assetUrl:v,hasPresetData:!!T});const V={resource_type:"image",prompt:I,image_url:v,source_url:v,strength:T.strength||.75,model:"flux/dev/image-to-image"};console.log(" API Payload:",V);const G=await fetch("/.netlify/functions/aimlApi",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$.getToken()}`},body:JSON.stringify(V)});if(!G.ok){const ee=await G.text();console.error(" aimlApi error:",G.status,ee);let re="Unknown error";try{re=JSON.parse(ee).error||ee}catch{re=ee}throw new Error(`Generation failed: ${G.status} - ${re}`)}const te=await G.json();if(te.result_url){if(ye("Your media is ready",`Your ${T.label} style is ready!`,"ready",h,"image",()=>{Dt([{id:"generated-"+Date.now(),userId:"current-user",type:"photo",url:h,prompt:g,aspectRatio:4/3,width:800,height:600,timestamp:new Date().toISOString(),tokensUsed:2,likes:0,remixCount:0,isPublic:!1,allowRemix:!1,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"1.0"}}]),zn(0),Vn(!0)}),ge)try{const ee=$.getToken(),re=(M=$.getCurrentUser())==null?void 0:M.id;ee&&re&&await fetch("/.netlify/functions/save-media",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({user_id:re,result_url:te.result_url,source_url:v,prompt:I,mode:"preset",visibility:"public",env:"prod",allow_remix:!0})})}catch(ee){console.error("Failed to save media:",ee)}F(),t("/")}else throw new Error("No result URL in response")}catch(I){console.error(" Auto-generation failed:",I),ye("Error please try again","Please try again","error"),p(!1),Rt(!1),d(!0)}finally{p(!1),Rt(!1)}},W=()=>{if(!g.trim()){D("");return}z(!0);try{const j=jb.generateCaption({prompt:g.trim(),platform:Re,style:$t});D(j.caption)}catch{D("")}finally{z(!1)}},Ki=async()=>{if(X)try{await navigator.clipboard.writeText(X)}catch{}},Wn=async j=>{if(!$.getToken()){t("/auth");return}const L=await pb.toggleLike(j.id);L.success&&at(v=>v.map(T=>T.id===j.id?{...T,likes:L.likeCount??T.likes}:T))},qi=async j=>{Wi(!0),un(j)},Ji=j=>{if(j.allowRemix){if(!$.getToken()){t("/auth");return}f(j.url),k(j.type==="video"),w(null),d(!0),b(j.prompt||""),N("remix started"),j.prompt&&setTimeout(()=>Nr("remix"),100)}},$a=j=>{var L;console.log(" HomeNew handleMediaClick:",{id:j.id,prompt:j.prompt,userId:j.userId,type:j.type,hasPrompt:!!j.prompt,promptLength:((L=j.prompt)==null?void 0:L.length)||0}),Dt([j]),zn(0),Vn(!0)},js=wt.filter(j=>gs&&j.userId!==gs?!1:Fn==="images"?j.type==="photo":Fn==="videos"?j.type==="video":!0),[Qi,Yn]=y.useState([]),ye=(j,L,v,T,E,M)=>{let I="ready",V=j;v==="queue"||v==="processing"?(I="queue",V="Add to queue"):v==="ready"||v==="success"||v==="complete"?(I="ready",V="Media is ready"):(v==="error"||v==="warning")&&(I="error",V="Error please try again");const G={id:Date.now(),title:V,type:I,timestamp:new Date().toISOString(),mediaUrl:T,mediaType:E,onClick:I==="ready"?M:void 0};Yn(te=>[G,...te].slice(0,1)),I==="error"?setTimeout(()=>Yn(te=>te.filter(ee=>ee.id!==G.id)),6e3):I==="queue"?setTimeout(()=>Yn(te=>te.filter(ee=>ee.id!==G.id)),4e3):setTimeout(()=>Yn(te=>te.filter(ee=>ee.id!==G.id)),8e3)},Xi=j=>Yn(L=>L.filter(v=>v.id!==j)),bs=j=>{Wt&&clearInterval(Wt);const L=setInterval(async()=>{try{const v=$.getToken(),T=await fetch(`/.netlify/functions/video-job-status?job_id=${j}`,{headers:v?{Authorization:`Bearer ${v}`}:{}});if(T.ok){const E=await T.json();Bn(E),E.status==="succeeded"?(clearInterval(L),br(null),Bn(null),ye("Your media is ready","Video processing completed successfully!","ready",void 0,"video",()=>{loadUserMedia()})):(E.status==="failed"||E.status==="canceled")&&(clearInterval(L),br(null),Bn(null),ye("Failed",E.error||"Video processing failed","error"))}}catch(v){console.error("Video job polling error:",v)}},3e3);br(L)},Zi=()=>{Wt&&(clearInterval(Wt),br(null)),Bn(null)},eo=async()=>{if(!(!h||!g.trim()))try{const j=$.getCurrentUser(),L=(j==null?void 0:j.id)||"guest",v=`user_drafts_${L}`,T=JSON.parse(localStorage.getItem(v)||"[]"),E={id:Date.now().toString(36)+Math.random().toString(36).slice(2),userId:L,type:S?"video":"photo",url:h,prompt:g.trim(),aspectRatio:4/3,width:800,height:600,timestamp:new Date().toISOString(),tokensUsed:0,likes:0,remixCount:0,isPublic:!1,allowRemix:!1,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"draft"}};localStorage.setItem(v,JSON.stringify([E,...T].slice(0,200)))}catch{}},Hn=async()=>{try{const j=$.getToken();if(!j)return;console.log(" Loading user profile from database...");const L=await fetch("/.netlify/functions/get-user-profile",{method:"GET",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(L.ok){const v=await L.json();console.log(" User profile loaded from database:",v);const E={...JSON.parse(localStorage.getItem("userProfile")||"{}"),name:v.name||"",avatar:v.avatar||""};localStorage.setItem("userProfile",JSON.stringify(E))}else console.warn(" Failed to load user profile from database")}catch(j){console.error(" Failed to load user profile from database:",j)}},to=async()=>{try{const j=$.getToken();if(!j)return;console.log(" Checking for tier promotions...");const L=await fetch("/.netlify/functions/check-tier-promotion",{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(L.ok){const v=await L.json();v.promoted&&(console.log(" User was promoted!",v),ye(v.message,`You've been promoted from ${v.oldTier} to ${v.newTier}!`,"ready"),await ws())}}catch(j){console.error(" Failed to check tier promotion:",j)}};return a.jsxs("div",{className:"flex min-h-screen bg-black relative overflow-hidden",children:[a.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 flex items-center justify-between px-4 md:px-6 py-3 bg-transparent",children:[a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-4",children:[ge&&a.jsxs("div",{className:"relative","data-filter-dropdown":!0,children:[a.jsx("button",{onClick:()=>{window.dispatchEvent(new Event("global-nav-close")),lt(j=>!j)},className:"nav-icon-container text-white/90 hover:text-white rounded-full transition-colors",title:"Filter","aria-expanded":on,"aria-haspopup":"menu","data-nav-button":!0,"data-nav-type":"filter",children:a.jsx("div",{className:"nav-icon",children:a.jsx(qj,{size:20})})}),on&&a.jsxs("div",{className:"absolute right-0 mt-2 bg-[#333333] border border-white/20 rounded-2xl shadow-2xl p-2 w-40 z-50",children:[a.jsx("button",{onClick:()=>{vs("all"),lt(!1)},className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Fn==="all"?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`,children:"All"}),a.jsx("button",{onClick:()=>{vs("images"),lt(!1)},className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Fn==="images"?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`,children:"Images"}),a.jsx("button",{onClick:()=>{vs("videos"),lt(!1)},className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Fn==="videos"?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`,children:"Videos"})]})]}),ge?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"nav-icon-container text-white/90 hover:text-white rounded-full transition-colors",children:a.jsx(gb,{userId:((Cs=$.getCurrentUser())==null?void 0:Cs.id)||""})}),a.jsxs("div",{className:"relative","data-user-menu":!0,children:[a.jsxs("button",{onClick:()=>{window.dispatchEvent(new Event("global-nav-close")),kt(j=>!j)},className:"relative nav-icon-container rounded-full transition-colors","aria-haspopup":"menu","aria-expanded":On,"data-nav-button":!0,"data-nav-type":"user",children:[zi&&a.jsx("span",{className:"absolute -inset-1 rounded-full border-2 border-white/50 animate-spin",style:{borderTopColor:"transparent"}}),a.jsx("div",{className:"nav-icon",children:(()=>{const j=$.getCurrentUser(),L=JSON.parse(localStorage.getItem("userProfile")||"{}");if(L.avatar)return a.jsx("img",{src:L.avatar,alt:"avatar",className:"w-8 h-8 rounded-full object-cover"});if(j!=null&&j.name||j!=null&&j.email){const v=(j.name||j.email||"U").charAt(0).toUpperCase();return a.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 text-white text-sm font-medium flex items-center justify-center",children:v})}else return a.jsx(Mx,{size:20,className:"text-white"})})()})]}),On&&a.jsxs("div",{className:"absolute right-0 mt-2 bg-[#333333] border border-white/20 rounded-2xl shadow-2xl p-2 w-40 z-50",children:[a.jsx("button",{onClick:()=>{kt(!1),t("/profile")},className:"w-full text-left px-3 py-2 text-white/90 hover:bg-white/5 rounded-lg transition-colors",children:"Profile"}),a.jsx("button",{onClick:()=>{kt(!1),t("/auth")},className:"w-full text-left px-3 py-2 text-white/90 hover:bg-white/5 rounded-lg transition-colors",children:"Sign out"})]})]})]}):a.jsx("button",{onClick:()=>t("/auth"),className:"px-4 py-2 rounded-full bg-white text-black text-sm hover:bg-white/90 transition-colors",children:"Login"})]})]}),a.jsx("div",{className:"hidden md:flex w-[10%] sticky top-0 h-screen items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 w-20 h-20",children:a.jsx("div",{className:"absolute w-1.5 h-1.5 bg-white rounded-full animate-spin",style:{animationDuration:"3s",transformOrigin:"10px 10px",left:"50%",top:"0",marginLeft:"-3px",marginTop:"-3px"}})}),a.jsx("button",{onClick:Hi,className:"w-16 h-16 rounded-full bg-black border-2 border-white/30 text-white hover:bg-white/10 hover:border-white/50 transition-all duration-300 flex items-center justify-center shadow-2xl hover:shadow-white/20 relative z-10","aria-label":"Upload",title:"Upload",children:a.jsx(yp,{size:24})})]})}),a.jsxs("div",{className:"w-[90%] relative",children:[a.jsx("div",{className:"p-6 pt-20 h-screen overflow-y-auto",children:je?a.jsx("div",{className:"grid grid-cols-3 gap-1",children:Array.from({length:9}).map((j,L)=>a.jsx("div",{className:"bg-white/5 rounded-xl overflow-hidden",children:a.jsx("div",{className:"w-full aspect-[4/3] bg-white/10 animate-pulse"})},L))}):a.jsx($o,{media:ge?js:js.slice(0,18),columns:3,onMediaClick:$a,onLike:Wn,onShare:qi,onRemix:Ji,onFilterCreator:j=>ys(j),showActions:!0,className:"pb-24"})}),gs&&a.jsxs("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 bg-white/10 text-white text-xs px-3 py-1 rounded-full border border-white/20",children:["Filtering by creator  ",a.jsx("button",{className:"underline",onClick:()=>ys(null),children:"clear"})]}),!ge&&js.length>18&&a.jsx("div",{className:"pointer-events-auto absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"bg-black/70 border border-white/20 rounded-2xl p-6 text-center max-w-md mx-auto",children:[a.jsx("div",{className:"text-white text-base font-medium mb-2",children:"Create more with Stefna"}),a.jsx("div",{className:"text-white/70 text-sm mb-4",children:"Sign up to explore the full feed and start generating."}),a.jsx("button",{onClick:()=>t("/auth"),className:"px-5 py-2 rounded-full bg-white text-black text-sm font-semibold hover:bg-white/90",children:"Sign up to continue"})]})}),Qi.length>0&&a.jsx("div",{className:"fixed top-24 left-1/2 transform -translate-x-1/2 z-50",children:Qi.map(j=>a.jsx("div",{className:`w-80 bg-[#333333] border border-white/20 rounded-xl shadow-2xl transition-all duration-300 cursor-pointer ${j.onClick?"hover:bg-[#3a3a3a]":""}`,onClick:j.onClick,children:a.jsxs("div",{className:"p-4 relative",children:[a.jsx("button",{onClick:L=>{L.stopPropagation(),Xi(j.id)},className:"absolute -top-2 -left-2 w-6 h-6 bg-white rounded-full flex items-center justify-center hover:bg-white/90 transition-colors z-10",children:a.jsx(ft,{size:12,className:"text-black"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[j.type==="ready"&&j.mediaUrl&&a.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-white/10 flex-shrink-0",children:j.mediaType==="video"?a.jsx("video",{src:j.mediaUrl,className:"w-full h-full object-cover",muted:!0,loop:!0,onMouseEnter:L=>L.currentTarget.play(),onMouseLeave:L=>L.currentTarget.pause()}):a.jsx("img",{src:j.mediaUrl,alt:"Generated media",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-white font-semibold text-base mb-1",children:j.title}),a.jsx("p",{className:"text-white/60 text-sm",children:j.type==="queue"?"Processing your request...":j.type==="ready"?"Ready  Click to view":"Please try again"})]})]})]})},j.id))})]}),a.jsxs("div",{className:"md:hidden fixed bottom-4 right-4 relative",children:[a.jsx("div",{className:"absolute inset-0 w-18 h-18",children:a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full animate-spin",style:{animationDuration:"3s",transformOrigin:"9px 9px",left:"50%",top:"0",marginLeft:"-2px",marginTop:"-2px"}})}),a.jsx("button",{onClick:Hi,className:"w-14 h-14 rounded-full bg-black border-2 border-white/30 text-white shadow-2xl hover:bg-white/10 hover:border-white/50 transition-all duration-300 relative z-10","aria-label":"Upload",children:a.jsx(yp,{size:22})})]}),a.jsx("input",{ref:e,type:"file",accept:"image/*,video/*",onChange:Ba,className:"hidden"}),a.jsx(Rx,{isOpen:Bi,media:Ze,startIndex:ln,onClose:()=>Vn(!1),onLike:Wn,onRemix:Ji,onShowAuth:()=>t("/auth")}),u&&a.jsxs("div",{className:"fixed inset-0 z-50 bg-black/85 backdrop-blur-sm",children:[a.jsx("button",{type:"button",onClick:Cr,className:"absolute top-4 right-4 z-50 pointer-events-auto text-white/80 hover:text-white transition-colors","aria-label":"Close",children:a.jsx(ft,{size:20})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pb-32",children:a.jsx("div",{className:"relative w-full max-w-2xl px-6",children:a.jsx("div",{ref:r,className:"w-full flex items-center justify-center",children:S?a.jsx("video",{ref:j=>s.current=j,src:h||"",className:"max-w-full max-h-[60vh] object-contain",controls:!0,onLoadedMetadata:$n,onLoadedData:$n}):a.jsx("img",{ref:j=>s.current=j,src:h||"",alt:"Preview",className:"max-w-full max-h-[60vh] object-contain",onLoad:$n})})})}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 w-[70%] min-w-[500px] max-w-[800px]",children:a.jsxs("div",{className:"bg-[#1a1a1a] border border-white/20 rounded-2xl px-4 pt-2 pb-2 shadow-2xl",children:[a.jsx("div",{className:"mb-8",children:a.jsx("input",{value:g,onChange:j=>b(j.target.value),placeholder:"Describe the style you want...",className:"w-full bg-transparent text-white placeholder-white/40 text-xs focus:outline-none"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{type:"button",onClick:()=>Un(!1),className:`w-6 h-6 rounded text-xs font-medium transition-colors relative group ${an?"bg-white/10 text-white hover:bg-white/20":"bg-white text-black"}`,title:"1 variation",children:["1",a.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-black/80 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:"1 variation"})]}),a.jsxs("button",{type:"button",onClick:()=>Un(!0),className:`w-6 h-6 rounded text-xs font-medium transition-colors relative group ${an?"bg-white text-black":"bg-white/10 text-white hover:bg-white/20"}`,title:"2 variations",children:["2",a.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-black/80 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:"2 variations"})]})]})}),a.jsxs("div",{className:"relative","data-presets-dropdown":!0,children:[a.jsx("button",{onClick:()=>{if(!ge){t("/auth");return}St(j=>!j)},className:`px-3 py-1.5 rounded-2xl text-xs border transition-colors ${ge?"bg-white/10 text-white border-white/20 hover:bg-white/15":"bg-white/5 text-white/50 border-white/10 cursor-not-allowed"}`,"data-nav-button":!0,"data-nav-type":"presets",title:ge?"Choose AI style presets":"Sign up to use AI presets",disabled:!ge,children:C?q[C].label:"Presets"}),xs&&a.jsx("div",{className:"absolute bottom-full left-0 mb-2 bg-[#333333] border border-white/20 rounded-xl shadow-2xl p-3 w-80 z-50",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>{N("user clicked clear"),St(!1)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors text-sm ${C?"text-white/80 hover:text-white hover:bg-white/10":"bg-white/20 text-white"}`,children:[a.jsx("span",{children:"None"}),!C&&a.jsx("div",{className:"w-4 h-4 rounded-full bg-white border-2 border-white/30"})]}),Z.map(j=>a.jsxs("button",{onClick:()=>{Ss(j),St(!1)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors text-sm ${C===j?"bg-white/20 text-white":"text-white/80 hover:text-white hover:bg-white/10"}`,children:[a.jsx("span",{children:q[j].label}),C===j?a.jsx("div",{className:"w-4 h-4 rounded-full bg-white border-2 border-white/30"}):a.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white/30"})]},j))]})})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>{if(!ge){t("/auth");return}eo()},title:ge?"Save to draft":"Sign up to save drafts",className:`w-9 h-9 rounded-full transition-all duration-200 flex items-center justify-center border relative group ${ge?"bg-white/10 text-white border-white/20 hover:bg-white/15":"bg-white/5 text-white/50 border-white/10 cursor-not-allowed"}`,"aria-label":"Save to draft",disabled:!ge,children:[a.jsx(Bs,{size:14}),a.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-black/80 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:"Save to draft"})]}),a.jsx("button",{onClick:()=>Nr(C?"preset":"custom"),disabled:!h||!g.trim()&&!C||m,className:`w-10 h-10 rounded-full transition-all duration-200 flex items-center justify-center shadow-lg hover:shadow-xl ${!h||!g.trim()&&!C||m?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-white text-black hover:bg-white/90"}`,"aria-label":"Generate",title:`${ge?h?!g.trim()&&!C?"Enter a prompt or select a preset first":m?"Generation in progress...":C?`Generate with ${q[C].label} preset`:"Generate AI content":"Upload media first":"Sign up to generate AI content"}`,children:m?a.jsx("div",{className:"w-4 h-4 border-2 border-black/20 border-t-black rounded-full animate-spin"}):a.jsx(Vj,{size:18})})]})]})]})})]}),K&&a.jsx("div",{className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md bg-[#222222] border border-white/20 rounded-2xl p-6 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-white font-medium text-lg",children:"Generate Caption"}),a.jsx("button",{onClick:()=>We(!1),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(ft,{size:20})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white/70 text-sm mb-2",children:"Platform"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["instagram","x","tiktok"].map(j=>a.jsx("button",{onClick:()=>vt(j),className:`px-3 py-2 rounded-lg text-sm border transition-colors ${Re===j?"border-white/40 text-white bg-white/10":"border-white/20 text-white/80 hover:text-white hover:bg-white/5"}`,children:j},j))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/70 text-sm mb-2",children:"Style"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["trendy","casual","professional","artistic"].map(j=>a.jsx("button",{onClick:()=>sn(j),className:`px-2 py-2 rounded-lg text-xs border transition-colors ${$t===j?"border-white/40 text-white bg-white/10":"border-white/20 text-white/80 hover:text-white hover:bg-white/5"}`,children:j},j))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:W,className:"px-4 py-2 rounded-lg bg-white text-black text-sm font-medium disabled:opacity-50 transition-colors",disabled:!g.trim()||O,children:O?"Generating":"Generate"}),a.jsx("button",{onClick:Ki,className:"px-4 py-2 rounded-lg border border-white/20 text-white text-sm disabled:opacity-50 hover:bg-white/5 transition-colors",disabled:!X,children:"Copy"})]}),a.jsxs("div",{children:[a.jsx("textarea",{value:X,onChange:j=>D(j.target.value),placeholder:"Your caption will appear here",className:"w-full h-28 p-3 rounded-xl bg-white/5 border border-white/20 text-white placeholder-white/40 resize-none text-sm focus:outline-none focus:border-white/40 focus:bg-white/10 transition-colors"}),a.jsx("div",{className:"text-white/50 text-xs mt-2",children:"Includes #AiAsABrush automatically"})]})]})]})}),a.jsx(bb,{isOpen:za,onClose:()=>Wi(!1),mediaUrl:cn==null?void 0:cn.url,caption:cn==null?void 0:cn.prompt,title:"Share Your Creation"}),$i&&a.jsx("div",{className:"fixed bottom-4 right-4 bg-[#333333] border border-white/20 rounded-xl p-4 shadow-2xl z-50",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-pulse"}),a.jsxs("div",{className:"text-white text-sm",children:[a.jsx("div",{className:"font-medium",children:"Video Processing"}),a.jsxs("div",{className:"text-white/60 text-xs",children:["Job #",$i.id.slice(0,8)]})]}),a.jsx("button",{onClick:Zi,className:"text-white/60 hover:text-white transition-colors",title:"Stop monitoring",children:a.jsx(ft,{size:16})})]})})]})},Tb=()=>{const e=kr();return a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 bg-black/95 backdrop-blur-md border-b border-white/10 z-40",children:a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center space-x-2 text-white hover:text-white/80 transition-colors",children:[a.jsx(Vi,{size:20}),a.jsx("span",{children:"Back"})]}),a.jsx("h1",{className:"text-lg font-semibold",children:"Privacy Policy"}),a.jsx("div",{className:"w-20"})," "]})}),a.jsx("div",{className:"pt-20 px-6 pb-20 max-w-4xl mx-auto",children:a.jsxs("div",{className:"prose prose-invert max-w-none",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Privacy Policy"}),a.jsxs("div",{className:"space-y-6 text-white/90",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Interpretation and Definitions"}),a.jsx("p",{className:"mb-4",children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Definitions"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Account"})," means a unique account created for You to access our Service or parts of our Service."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Affiliate"}),' means an entity that controls, is controlled by or is under common control with a party, where "control" means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Platform"}),' (referred to as either "the Platform", "We", "Us" or "Our" in this Agreement) refers to Stefna.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Cookies"})," are small files that are placed on Your computer, mobile device or any other device by a website, containing the details of Your browsing history on that website among its many uses."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Device"})," means any device that can access the Service such as a computer, a cellphone or a digital tablet."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Personal Data"})," is any information that relates to an identified or identifiable individual."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Service"})," refers to the Website, Stefna, an AI-powered photo and video editing platform."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Service Provider"})," means any natural or legal person who processes the data on behalf of the Platform."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Usage Data"})," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Website"})," refers to Stefna, accessible from stefna.xyz"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"You"})," means the individual accessing or using the Service, or the Platform, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Collecting and Using Your Personal Data"}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Types of Data Collected"}),a.jsx("h4",{className:"text-md font-medium mb-2",children:"Personal Data"}),a.jsx("p",{className:"mb-4",children:"While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Email address"}),a.jsx("li",{children:"First name and last name"}),a.jsx("li",{children:"Uploaded Content: Photos and videos uploaded by users, as well as all AI-generated images/videos"}),a.jsx("li",{children:"Usage Data"})]}),a.jsx("h4",{className:"text-md font-medium mb-2 mt-6",children:"Usage Data"}),a.jsx("p",{className:"mb-4",children:"Usage Data is collected automatically when using the Service. Usage Data may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tracking Technologies and Cookies"}),a.jsx("p",{className:"mb-4",children:"We use Cookies and similar tracking technologies to track the activity on Our Service and store certain information. The technologies We use may include:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Cookies or Browser Cookies:"})," A cookie is a small file placed on Your Device. You can instruct Your browser to refuse all Cookies or to indicate when a Cookie is being sent."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Web Beacons:"})," Certain sections of our Service and our emails may contain small electronic files known as web beacons that permit the Platform to count users who have visited those pages or opened an email."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Use of Your Personal Data"}),a.jsx("p",{className:"mb-4",children:"The Platform may use Personal Data for the following purposes:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"To provide and maintain our Service, including to monitor the usage of our Service. This includes storing uploaded content (photos, videos, and AI-generated images/videos) to provide access for the user and enable features like editing and remixing."}),a.jsx("li",{children:"To manage Your Account: to manage Your registration as a user of the Service."}),a.jsx("li",{children:"To contact You: To contact You by email, telephone calls, SMS, or other equivalent forms of electronic communication regarding updates or informative communications related to the functionalities, products or contracted services."}),a.jsx("li",{children:"To provide You with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless You have opted not to receive such information."}),a.jsx("li",{children:"To manage Your requests: To attend and manage Your requests to Us."}),a.jsx("li",{children:"For business transfers: We may use Your information to evaluate or conduct a merger, divestiture, restructuring, reorganization, dissolution, or other sale or transfer of some or all of Our assets."}),a.jsx("li",{children:"For other purposes: We may use Your information for other purposes, such as data analysis, identifying usage trends, determining the effectiveness of our promotional campaigns and to evaluate and improve our Service, products, services, marketing and your experience."})]}),a.jsx("p",{className:"mt-4",children:"All data is used solely for providing, securing, and improving Stefna's services. We do not sell user data to third parties."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Retention of Your Personal Data"}),a.jsx("p",{children:"The Platform will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use Your Personal Data to the extent necessary to comply with our legal obligations, resolve disputes, and enforce our legal agreements and policies."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Transfer of Your Personal Data"}),a.jsx("p",{children:"Your information, including Personal Data, is processed at the Platform's operating offices and in any other places where the parties involved in the processing are located. It means that this information may be transferred to  and maintained on  computers located outside of Your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from Your jurisdiction."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delete Your Personal Data"}),a.jsx("p",{className:"mb-4",children:"You have the right to delete or request that We assist in deleting the Personal Data that We have collected about You. Our Service may give You the ability to delete certain information about You from within the Service."}),a.jsx("p",{children:"You may update, amend, or delete Your information at any time by signing in to Your Account, if you have one, and visiting the account settings section that allows you to manage Your personal information. You may also contact Us to request access to, correct, or delete any personal information that You have provided to Us."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Security of Your Personal Data"}),a.jsx("p",{children:"The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While We strive to use commercially acceptable means to protect Your Personal Data, We cannot guarantee its absolute security. All user content and personal information are stored securely using Supabase's managed infrastructure."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Children's Privacy"}),a.jsx("p",{children:"You must be at least 13 years old to create an account and use Stefna. If you are under the age required by the laws of your country to consent to data processing (e.g., 16 in some jurisdictions), you may only use Stefna with parental consent. If We become aware that We have collected Personal Data from anyone under the age required by the laws of their country to consent to data processing without verification of parental consent, We take steps to remove that information from Our servers."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Us"}),a.jsx("p",{children:"If you have any questions about this Privacy Policy, You can contact us:"}),a.jsx("ul",{className:"list-disc pl-6 mt-2",children:a.jsxs("li",{children:["By email: ",a.jsx("a",{href:"mailto:hello@stefna.xyz",className:"text-blue-400 hover:text-blue-300",children:"hello@stefna.xyz"})]})})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:a.jsx("p",{className:"text-sm text-white/60",children:"Last updated: August 4, 2025"})})]})]})})]})},Pb=()=>{const e=kr();return a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 bg-black/95 backdrop-blur-md border-b border-white/10 z-40",children:a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center space-x-2 text-white hover:text-white/80 transition-colors",children:[a.jsx(Vi,{size:20}),a.jsx("span",{children:"Back"})]}),a.jsx("h1",{className:"text-lg font-semibold",children:"Terms of Service"}),a.jsx("div",{className:"w-20"})," "]})}),a.jsx("div",{className:"pt-20 px-6 pb-20 max-w-4xl mx-auto",children:a.jsxs("div",{className:"prose prose-invert max-w-none",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Terms of Service"}),a.jsxs("div",{className:"space-y-6 text-white/90",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Interpretation and Definitions"}),a.jsx("p",{className:"mb-4",children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Definitions"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Affiliate"}),' means an entity that controls, is controlled by or is under common control with a party, where "control" means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Platform"}),' (referred to as either "the Platform", "We", "Us" or "Our" in this Agreement) refers to Stefna, an AI-powered photo and video editing platform.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Device"})," means any device that can access the Service such as a computer, a cellphone or a digital tablet."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Service"})," refers to the Website, Stefna, which provides AI-powered photo and video editing tools through an easy-to-use web interface, with mobile applications launching soon."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Terms and Conditions"}),' (also referred as "Terms") mean these Terms and Conditions that form the entire agreement between You and the Platform regarding the use of the Service.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Third-party Social Media Service"})," means any services or content provided by a third-party that may be displayed, included or made available by the Service."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Website"})," refers to Stefna, accessible from stefna.xyz"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"You"})," means the individual accessing or using the Service, or the Platform, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Acknowledgment"}),a.jsx("p",{className:"mb-4",children:"These are the Terms and Conditions governing the use of this Service and the agreement that operates between You and the Platform. These Terms and Conditions set out the rights and obligations of all users regarding the use of the Service."}),a.jsx("p",{className:"mb-4",children:"Your access to and use of the Service is conditioned on Your acceptance of and compliance with these Terms and Conditions. These Terms and Conditions apply to all visitors, users and others who access or use the Service."}),a.jsx("p",{className:"mb-4",children:"By accessing or using the Service You agree to be bound by these Terms and Conditions. If You disagree with any part of these Terms and Conditions then You may not access the Service."}),a.jsx("p",{className:"mb-4",children:"You must be at least 13 years old to create an account and use Stefna. If you are under the age required by the laws of your country to consent to data processing (e.g., 16 in some jurisdictions), you may only use Stefna with parental consent."}),a.jsx("p",{children:"Your access to and use of the Service is also conditioned on Your acceptance of and compliance with the Privacy Policy of the Platform. Our Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your personal information when You use the Application or the Website and tells You about Your privacy rights and how the law protects You. Please read Our Privacy Policy carefully before using Our Service."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Content"}),a.jsx("p",{children:"By uploading, submitting, or generating content (including photos, videos, and AI-generated images/videos) on Stefna, you grant Stefna a non-exclusive, worldwide, royalty-free license to use, reproduce, modify, adapt, publish, translate, create derivative works from, distribute, and display such content solely for the purpose of providing, securing, and improving Stefna's services, including enabling features like editing and remixing. You represent and warrant that you own or have the necessary licenses, rights, consents, and permissions to use and authorize Stefna to use all intellectual property rights in and to any User Content you upload or generate."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Links to Other Websites"}),a.jsx("p",{className:"mb-4",children:"Our Service may contain links to third-party web sites or services that are not owned or controlled by the Platform. The Platform has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party web sites or services."}),a.jsx("p",{children:"You further acknowledge and agree that the Platform shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with the use of or reliance on any such content, goods or services available on or through any such web sites or services. We strongly advise You to read the terms and conditions and privacy policies of any third-party web sites or services that You visit."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Termination"}),a.jsx("p",{children:"We may terminate or suspend Your access immediately, without prior notice or liability, for any reason whatsoever, including without limitation if You breach these Terms and Conditions. Upon termination, Your right to use the Service will cease immediately."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Limitation of Liability"}),a.jsx("p",{className:"mb-4",children:"Notwithstanding any damages that You might incur, the entire liability of the Platform and any of its suppliers under any provision of this Terms and Your exclusive remedy for all of the foregoing shall be limited to the amount actually paid by You through the Service or 100 USD if You haven't purchased anything through the Service."}),a.jsx("p",{children:"To the maximum extent permitted by applicable law, in no event shall the Platform or its suppliers be liable for any special, incidental, indirect, or consequential damages whatsoever (including, but not limited to, damages for loss of profits, loss of data or other information, for business interruption, for personal injury, loss of privacy arising out of or in any way related to the use of or inability to use the Service, third-party software and/or third-party hardware used with the Service, or otherwise in connection with any provision of this Terms), even if the Platform or any supplier has been advised of the possibility of such damages and even if the remedy fails of its essential purpose."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:'"AS IS" and "AS AVAILABLE" Disclaimer'}),a.jsx("p",{children:'The Service is provided to You "AS IS" and "AS AVAILABLE" and with all faults and defects without warranty of any kind. To the maximum extent permitted under applicable law, the Platform, on its own behalf and on behalf of its Affiliates and its and their respective licensors and service providers, expressly disclaims all warranties, whether express, implied, statutory or otherwise, with respect to the Service, including all implied warranties of merchantability, fitness for a particular purpose, title and non-infringement, and warranties that may arise out of course of dealing, course of performance, usage or trade practice.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Governing Law"}),a.jsx("p",{children:"The laws of the Country, excluding its conflicts of law rules, shall govern this Terms and Your use of the Service. Your use of the Application may also be subject to other local, state, national, or international laws."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Disputes Resolution"}),a.jsx("p",{children:"If You have any concern or dispute about the Service, You agree to first try to resolve the dispute informally by contacting the Platform."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"For European Union (EU) Users"}),a.jsx("p",{children:"If You are a European Union consumer, you will benefit from any mandatory provisions of the law of the country in which You are resident."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"United States Legal Compliance"}),a.jsx("p",{children:'You represent and warrant that (i) You are not located in a country that is subject to the United States government embargo, or that has been designated by the United States government as a "terrorist supporting" country, and (ii) You are not listed on any United States government list of prohibited or restricted parties.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Severability and Waiver"}),a.jsx("p",{className:"mb-4",children:"If any provision of these Terms is held to be unenforceable or invalid, such provision will be changed and interpreted to accomplish the objectives of such provision to the greatest extent possible under applicable law and the remaining provisions will continue in full force and effect."}),a.jsx("p",{children:"Except as provided herein, the failure to exercise a right or to require performance of an obligation under these Terms shall not affect a party's ability to exercise such right or require such performance at any time thereafter nor shall the waiver of a breach constitute a waiver of any subsequent breach."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Translation Interpretation"}),a.jsx("p",{children:"These Terms and Conditions may have been translated if We have made them available to You on our Service. You agree that the original English text shall prevail in the case of a dispute."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Changes to These Terms and Conditions"}),a.jsx("p",{className:"mb-4",children:"We reserve the right, at Our sole discretion, to modify or replace these Terms at any time. If a revision is material We will make reasonable efforts to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at Our sole discretion."}),a.jsx("p",{children:"By continuing to access or use Our Service after those revisions become effective, You agree to be bound by the revised terms. If You do not agree to the new terms, in whole or in part, please stop using the website and the Service."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Us"}),a.jsx("p",{children:"If you have any questions about these Terms and Conditions, You can contact us:"}),a.jsx("ul",{className:"list-disc pl-6 mt-2",children:a.jsxs("li",{children:["By email: ",a.jsx("a",{href:"mailto:hello@stefna.xyz",className:"text-blue-400 hover:text-blue-300",children:"hello@stefna.xyz"})]})})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:a.jsx("p",{className:"text-sm text-white/60",children:"Last updated: August 4, 2025"})})]})]})})]})},Eb=()=>{const e=kr();return a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 bg-black/95 backdrop-blur-md border-b border-white/10 z-40",children:a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center space-x-2 text-white hover:text-white/80 transition-colors",children:[a.jsx(Vi,{size:20}),a.jsx("span",{children:"Back"})]}),a.jsx("h1",{className:"text-lg font-semibold",children:"Cookies Policy"}),a.jsx("div",{className:"w-20"})," "]})}),a.jsx("div",{className:"pt-20 px-6 pb-20 max-w-4xl mx-auto",children:a.jsxs("div",{className:"prose prose-invert max-w-none",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Cookies Policy"}),a.jsxs("div",{className:"space-y-6 text-white/90",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Interpretation and Definitions"}),a.jsx("p",{className:"mb-4",children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Definitions"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Platform"}),' (referred to as either "the Platform", "We", "Us" or "Our" in this Cookies Policy) refers to Stefna.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Cookies"})," means small files that are placed on Your computer, mobile device or any other device by a website, containing details of your browsing history on that website among its many uses."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Website"})," refers to Stefna, accessible from stefna.xyz"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"You"})," means the individual accessing or using the Website, or a Platform, or any legal entity on behalf of which such individual is accessing or using the Website, as applicable."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"The use of the Cookies"}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Type of Cookies We Use"}),a.jsx("p",{className:"mb-4",children:'Cookies can be "Persistent" or "Session" Cookies. Persistent Cookies remain on your personal computer or mobile device when You go offline, while Session Cookies are deleted as soon as You close your web browser. We use both session and persistent Cookies for the purposes set out below:'}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Necessary / Essential Cookies"}),a.jsxs("p",{className:"mb-2 text-sm",children:[a.jsx("strong",{children:"Type:"})," Session Cookies",a.jsx("br",{}),a.jsx("strong",{children:"Administered by:"})," Us",a.jsx("br",{}),a.jsx("strong",{children:"Purpose:"})," These Cookies are essential to provide You with services available through the Website and to enable You to use some of its features. They help to authenticate users and prevent fraudulent use of user accounts. Without these Cookies, the services that You have asked for cannot be provided, and We only use these Cookies to provide You with those services."]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Functionality Cookies"}),a.jsxs("p",{className:"mb-2 text-sm",children:[a.jsx("strong",{children:"Type:"})," Persistent Cookies",a.jsx("br",{}),a.jsx("strong",{children:"Administered by:"})," Us",a.jsx("br",{}),a.jsx("strong",{children:"Purpose:"})," These Cookies allow us to remember choices You make when You use the Website, such as remembering your login details or language preference. The purpose of these Cookies is to provide You with a more personal experience and to avoid You having to re-enter your preferences every time You use the Website."]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Analytics Cookies"}),a.jsxs("p",{className:"mb-2 text-sm",children:[a.jsx("strong",{children:"Type:"})," Persistent Cookies",a.jsx("br",{}),a.jsx("strong",{children:"Administered by:"})," Google Analytics",a.jsx("br",{}),a.jsx("strong",{children:"Purpose:"})," These Cookies are used to collect information about how You use the Service, such as which pages You visit, the time spent on those pages, and user engagement. This data helps Us understand website traffic and improve the Service."]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Advertising Cookies"}),a.jsxs("p",{className:"mb-2 text-sm",children:[a.jsx("strong",{children:"Type:"})," Persistent Cookies",a.jsx("br",{}),a.jsx("strong",{children:"Administered by:"})," Social Media Platforms",a.jsx("br",{}),a.jsx("strong",{children:"Purpose:"})," These Cookies are used by social media pixels/trackers to promote Stefna via various social media platforms for outreach and growth, and to measure the effectiveness of Our advertising campaigns."]})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Choices Regarding Cookies"}),a.jsx("p",{className:"mb-4",children:"If You prefer to avoid the use of Cookies on the Website, first You must disable the use of Cookies in your browser and then delete the Cookies saved in your browser associated with this website. You may use this option for preventing the use of Cookies at any time."}),a.jsx("p",{className:"mb-4",children:"If You do not accept Our Cookies, You may experience some inconvenience in your use of the Website and some features may not function properly."}),a.jsx("p",{className:"mb-4",children:"If You'd like to delete Cookies or instruct your web browser to delete or refuse Cookies, please visit the help pages of your web browser:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsxs("li",{children:["For the Chrome web browser, please visit this page from Google: ",a.jsx("a",{href:"https://support.google.com/accounts/answer/32050",className:"text-blue-400 hover:text-blue-300",target:"_blank",rel:"noopener noreferrer",children:"https://support.google.com/accounts/answer/32050"})]}),a.jsxs("li",{children:["For the Internet Explorer web browser, please visit this page from Microsoft: ",a.jsx("a",{href:"http://support.microsoft.com/kb/278835",className:"text-blue-400 hover:text-blue-300",target:"_blank",rel:"noopener noreferrer",children:"http://support.microsoft.com/kb/278835"})]}),a.jsxs("li",{children:["For the Firefox web browser, please visit this page from Mozilla: ",a.jsx("a",{href:"https://support.mozilla.org/en-US/kb/delete-cookies-remove-info-websites-stored",className:"text-blue-400 hover:text-blue-300",target:"_blank",rel:"noopener noreferrer",children:"https://support.mozilla.org/en-US/kb/delete-cookies-remove-info-websites-stored"})]}),a.jsxs("li",{children:["For the Safari web browser, please visit this page from Apple: ",a.jsx("a",{href:"https://support.apple.com/guide/safari/manage-cookies-and-website-data-sfri11471/mac",className:"text-blue-400 hover:text-blue-300",target:"_blank",rel:"noopener noreferrer",children:"https://support.apple.com/guide/safari/manage-cookies-and-website-data-sfri11471/mac"})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Us"}),a.jsx("p",{children:"If you have any questions about this Cookies Policy, You can contact us:"}),a.jsx("ul",{className:"list-disc pl-6 mt-2",children:a.jsxs("li",{children:["By email: ",a.jsx("a",{href:"mailto:hello@stefna.xyz",className:"text-blue-400 hover:text-blue-300",children:"hello@stefna.xyz"})]})})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:a.jsx("p",{className:"text-sm text-white/60",children:"Last updated: August 4, 2025"})})]})]})})]})},Ab="modulepreload",Mb=function(e){return"/"+e},kp={},Rb=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Mb(i),i in kp)return;kp[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Ab,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Db=({size:e=16,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:t,"aria-hidden":!0,children:[a.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),a.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),a.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]}),Lb=({size:e=16,className:t=""})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:t,"aria-hidden":!0,children:a.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),Ib=({size:e=16,className:t=""})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:t,"aria-hidden":!0,children:a.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),_b=({size:e=16,className:t=""})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:t,"aria-hidden":!0,children:a.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})}),Fb=({size:e=16,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:t,"aria-hidden":!0,children:[a.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"}),a.jsx("path",{d:"M12 6a6 6 0 1 0 6 6 6 6 0 0 0-6-6zm0 10a4 4 0 1 1 4-4 4 4 0 0 1-4 4z"})]}),Ub=({size:e=16,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:t,"aria-hidden":!0,children:[a.jsx("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),a.jsx("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})]}),Ob=({media:e,columns:t=3,onMediaClick:n,onEdit:r,onDelete:s,showActions:i=!0,className:o=""})=>{const[l,c]=y.useState(null),u=y.useRef(null),d=(h,f)=>{f.stopPropagation(),h()};return e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(gp,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No drafts found"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Your draft media will appear here"})]}):a.jsx("div",{className:`${o}`,ref:u,children:a.jsx("div",{className:"columns-3 gap-1 mx-auto",style:{maxWidth:"1200px"},children:e.map(h=>a.jsx("div",{className:"break-inside-avoid mb-1 relative group cursor-pointer bg-white/5 rounded-lg overflow-hidden",onMouseEnter:()=>c(h.id),onMouseLeave:()=>c(null),onClick:()=>n==null?void 0:n(h),children:a.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg",style:{aspectRatio:h.aspectRatio||1},children:[h.type==="video"?a.jsx("video",{src:h.url,className:"w-full h-full object-cover",muted:!0,loop:!0,onMouseEnter:f=>f.currentTarget.play(),onMouseLeave:f=>f.currentTarget.pause()}):a.jsx("img",{src:h.url,alt:h.prompt,className:"w-full h-full object-cover",loading:"lazy"}),a.jsx("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx("span",{className:"text-white text-xs font-medium",children:"Draft"})}),a.jsx("div",{className:`absolute inset-0 bg-black/20 transition-opacity duration-300 ${l===h.id?"opacity-100":"opacity-0"}`}),i&&l===h.id&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:f=>d(()=>r==null?void 0:r(h),f),className:"w-10 h-10 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",title:"Edit",children:a.jsx(gp,{size:16})}),a.jsx("button",{onClick:f=>d(()=>s==null?void 0:s(h),f),className:"w-10 h-10 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",title:"Delete",children:a.jsx(Ex,{size:16})})]})})]})},h.id))})})},Vb=(e,t,n,r="edit")=>{const s={};t&&(r==="remix"?(s.remixUrl=t,n&&(s.remixPrompt=n)):(s.editUrl=t,n&&(s.editPrompt=n))),e("/",{state:s})},tr=class tr{constructor(){oe(this,"mediaStorage",new Map);oe(this,"likesIndex",new Map);this.loadFromStorage()}static getInstance(){return tr.instance||(tr.instance=new tr),tr.instance}async saveMedia(t,n){const r={...t,id:this.generateId(),timestamp:new Date().toISOString(),likes:0,remixCount:0,isPublic:(n==null?void 0:n.shareToFeed)??t.isPublic,allowRemix:(n==null?void 0:n.allowRemix)??t.allowRemix,expiresAt:t.userId.startsWith("guest-")?new Date(Date.now()+1728e5).toISOString():void 0},s=this.mediaStorage.get(t.userId)||[];return s.unshift(r),this.mediaStorage.set(t.userId,s),await this.saveToStorage(),r}async saveRemix(t,n,r,s,i,o,l,c,u){const d=await this.getMediaById(n),h={userId:t,type:"remix",url:r,prompt:s,style:u,aspectRatio:i,width:o,height:l,originalMediaId:n,tokensUsed:c,isPublic:!0,allowRemix:!0,tags:(d==null?void 0:d.tags)||[],metadata:{quality:"high",generationTime:2e3,modelVersion:"v2.0"},expiresAt:t.startsWith("guest-")?new Date(Date.now()+48*60*60*1e3).toISOString():void 0},f=await this.saveMedia(h);return d&&await this.incrementRemixCount(n),f}async cleanupExpiredGuestMedia(){const t=Date.now();for(const[n,r]of this.mediaStorage.entries()){const s=r.filter(i=>!(i.userId.startsWith("guest-")&&i.expiresAt&&new Date(i.expiresAt).getTime()<t));s.length!==r.length&&this.mediaStorage.set(n,s)}await this.saveToStorage()}async toggleLike(t,n){this.likesIndex.has(t)||this.likesIndex.set(t,[]);const r=this.likesIndex.get(t),s=r.includes(n),i=s?r.filter(o=>o!==n):[...r,n];this.likesIndex.set(t,i);for(const[o,l]of this.mediaStorage.entries()){const c=l.findIndex(u=>u.id===t);c!==-1&&(l[c].likes=i.length)}return await this.saveLikesIndex(),await this.saveToStorage(),{liked:!s,likes:i.length}}async getLikeCount(t){return(this.likesIndex.get(t)||[]).length}async hasUserLiked(t,n){return(this.likesIndex.get(t)||[]).includes(n)}async incrementRemixCount(t){let n=0;for(const[r,s]of this.mediaStorage.entries()){const i=s.findIndex(o=>o.id===t);i!==-1&&(s[i].remixCount=(s[i].remixCount||0)+1,n=s[i].remixCount)}return await this.saveToStorage(),n}async getRemixCount(t){for(const n of this.mediaStorage.values()){const r=n.find(s=>s.id===t);if(r)return r.remixCount||0}return 0}async getActiveGuestMedia(t){await this.cleanupExpiredGuestMedia();const n=this.mediaStorage.get(t)||[],r=Date.now();return n.filter(s=>!s.expiresAt||new Date(s.expiresAt).getTime()>r)}async migrateMedia(t,n){const r=this.mediaStorage.get(t)||[],s=this.mediaStorage.get(n)||[];if(r.length===0)return;const i=r.map(o=>({...o,userId:n,expiresAt:void 0}));this.mediaStorage.set(n,[...i,...s]),this.mediaStorage.delete(t),await this.saveToStorage()}async getUserMedia(t,n){const r=this.mediaStorage.get(t)||[];return n?r.filter(s=>s.type===n):r}async getAllUsers(){return Array.from(this.mediaStorage.keys())}async recoverMedia(t){try{const n=[],r=localStorage.getItem("user_media_storage");if(r){const o=JSON.parse(r),l=new Map(o);for(const[c,u]of l.entries())this.isLikelySameUser(c,t)&&n.push(...u)}const s=localStorage.getItem("user_media_backup");if(s){const o=JSON.parse(s);for(const[l,c]of o.entries())this.isLikelySameUser(l,t)&&n.push(...c)}const i=this.removeDuplicateMedia(n);if(i.length>0){const o=this.mediaStorage.get(t)||[],l=[...i,...o];this.mediaStorage.set(t,l),await this.saveToStorage(),await this.createBackup()}return i}catch(n){return console.error("Failed to recover media:",n),[]}}isLikelySameUser(t,n){return t===n?!0:t.startsWith("guest-")&&n.includes("@")||n.startsWith("guest-")&&t.includes("@")?!1:t.includes("@")&&n.includes("@")?t.toLowerCase()===n.toLowerCase():t.includes("@")?this.hashEmail(t)===n:n.includes("@")?this.hashEmail(n)===t:!1}hashEmail(t){let n=0;for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);n=(n<<5)-n+s,n=n&n}return Math.abs(n).toString(36)}removeDuplicateMedia(t){const n=new Set;return t.filter(r=>n.has(r.id)?!1:(n.add(r.id),!0))}async createBackup(){try{const t=Array.from(this.mediaStorage.entries());localStorage.setItem("user_media_backup",JSON.stringify(t))}catch(t){console.error("Failed to create backup:",t)}}async getAllUserMedia(t){let n=this.mediaStorage.get(t)||[];return n.length===0&&(await this.recoverMedia(t)).length>0&&(n=this.mediaStorage.get(t)||[]),n}async getUserRemixes(t){return this.getUserMedia(t,"remix")}async getUserLikedMedia(t){const n=[];for(const r of this.mediaStorage.values())for(const s of r)await this.hasUserLiked(s.id,t)&&n.push(s);return n}async getMediaById(t){for(const n of this.mediaStorage.values()){const r=n.find(s=>s.id===t);if(r)return r}return null}async getUserStats(t){const n=this.mediaStorage.get(t)||[],r=n.filter(u=>u.type!=="remix").length,s=n.filter(u=>u.type==="remix").length,i=n.reduce((u,d)=>u+d.likes,0),o=n.length*10,l=n.reduce((u,d)=>u+d.tokensUsed,0),c=n.length>0?n.filter(u=>u.metadata.quality==="high").length/n.length:0;return{totalCreations:r,totalRemixes:s,totalLikes:i,totalViews:o,tokensUsed:l,averageQuality:c}}async updateMedia(t,n){for(const[r,s]of this.mediaStorage.entries()){const i=s.findIndex(o=>o.id===t);if(i!==-1)return this.mediaStorage.set(r,[...s.slice(0,i),{...s[i],...n},...s.slice(i+1)]),await this.saveToStorage(),!0}return!1}async deleteMedia(t,n){const r=this.mediaStorage.get(t)||[],s=r.filter(i=>i.id!==n);return s.length!==r.length?(this.mediaStorage.set(t,s),this.likesIndex.has(n)&&(this.likesIndex.delete(n),await this.saveLikesIndex()),await this.saveToStorage(),!0):!1}async likeMedia(t){var n;return this.updateMedia(t,{likes:((n=await this.getMediaById(t))==null?void 0:n.likes)||0+1})}async getTrendingMedia(t=20){const n=[];for(const r of this.mediaStorage.values())n.push(...r.filter(s=>s.isPublic));return n.sort((r,s)=>{const i=(r.likes+r.remixCount)*this.getRecencyScore(r.timestamp);return(s.likes+s.remixCount)*this.getRecencyScore(s.timestamp)-i}).slice(0,t)}async searchUserMedia(t,n){const r=this.mediaStorage.get(t)||[],s=n.toLowerCase();return r.filter(i=>{var o;return i.prompt.toLowerCase().includes(s)||i.tags.some(l=>l.toLowerCase().includes(s))||((o=i.style)==null?void 0:o.toLowerCase().includes(s))})}generateMasonryLayout(t,n=3){const r=new Array(n).fill(0),s=Array.from({length:n},()=>[]);return t.forEach(i=>{const o=r.indexOf(Math.min(...r));s[o].push(i),r[o]+=1/i.aspectRatio}),s}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getRecencyScore(t){const n=Date.now(),r=new Date(t).getTime(),s=(n-r)/(1e3*60*60*24);return Math.exp(-s/7)}async saveToStorage(){try{const t=Array.from(this.mediaStorage.entries());localStorage.setItem("user_media_storage",JSON.stringify(t))}catch(t){console.error("Failed to save user media:",t)}}loadFromStorage(){try{const t=localStorage.getItem("user_media_storage");if(t){const r=JSON.parse(t);this.mediaStorage=new Map(r)}const n=localStorage.getItem("user_media_likes");if(n){const r=JSON.parse(n);this.likesIndex=new Map(Object.entries(r))}}catch(t){console.error("Failed to load user media:",t),this.mediaStorage=new Map}}async saveLikesIndex(){try{const t={};for(const[n,r]of this.likesIndex.entries())t[n]=r;localStorage.setItem("user_media_likes",JSON.stringify(t))}catch(t){console.error("Failed to save likes index:",t)}}async generateSampleMedia(t){return console.log("generateSampleMedia called for user:",t,"- no sample content generated"),Promise.resolve()}};oe(tr,"instance");let ru=tr;const Jn=ru.getInstance(),zb=({isOpen:e,onClose:t,onConfirm:n,title:r,message:s,confirmText:i="Confirm",cancelText:o="Cancel",confirmButtonClass:l="bg-red-500 hover:bg-red-600",cancelButtonClass:c="bg-white/10 hover:bg-white/20"})=>{if(!e)return null;const u=()=>{n(),t()};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-[#111111] rounded-2xl p-6 w-full max-w-md mx-4 border border-white/20",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-white text-lg font-semibold",children:r}),a.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:a.jsx(ft,{size:20})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-white/80 text-sm",children:s}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:t,className:`px-4 py-2 text-white rounded-lg transition-colors ${c}`,children:o}),a.jsx("button",{onClick:u,className:`px-4 py-2 text-white rounded-lg transition-colors ${l}`,children:i})]})]})]})]})};var It=(e=>(e.REGISTERED="registered",e.VERIFIED="verified",e.CONTRIBUTOR="contributor",e))(It||{});const nr=class nr{constructor(){oe(this,"totalTokens",25e7);oe(this,"usedTokens",0);oe(this,"rateLimitWindow",30);oe(this,"dailyResetHour",0);oe(this,"tokenLimits",{registered:30,verified:60,contributor:120});oe(this,"tokenCosts",{photo:{standard:2,high:2},video:{standard:5,high:5}});oe(this,"rateLimitCache",new Map);oe(this,"deviceCache",new Map);this.loadTokenUsage(),this.startDailyReset()}static getInstance(){return nr.instance||(nr.instance=new nr),nr.instance}async canGenerate(t,n,r,s="high"){const i=await this.getUserUsage(t),o=this.getTokenCost(r,s);return this.isRateLimited(t)?{canGenerate:!1,reason:"Rate limited. Please wait 30 seconds between generations."}:i.dailyUsage+o>i.dailyLimit?{canGenerate:!1,reason:`Daily limit reached. You have ${i.dailyLimit-i.dailyUsage} tokens remaining.`,remainingTokens:i.dailyLimit-i.dailyUsage}:this.usedTokens+o>this.totalTokens?{canGenerate:!1,reason:"Service temporarily unavailable due to high demand."}:{canGenerate:!0,remainingTokens:i.dailyLimit-i.dailyUsage-o}}async generateContent(t,n,r,s="high",i,o,l){if(!(await this.canGenerate(t,n,r,s)).canGenerate)return{success:!1,tokensUsed:0};const u=this.getTokenCost(r,s),d=this.generateId(),h={id:d,userId:t,type:r,quality:s,tokensUsed:u,timestamp:new Date().toISOString(),prompt:i,ipAddress:o,deviceId:l},f=await this.getUserUsage(t);return f.dailyUsage+=u,f.totalUsage+=u,await this.saveUserUsage(t,f),this.usedTokens+=u,this.setRateLimit(t),this.trackDeviceUsage(l,t),await this.saveGeneration(h),{success:!0,tokensUsed:u,generationId:d}}async getUserUsage(t){const n=localStorage.getItem(`token_usage_${t}`);if(n){const s=JSON.parse(n);return this.shouldResetDaily(s.lastReset)&&(s.dailyUsage=0,s.lastReset=new Date().toISOString(),await this.saveUserUsage(t,s)),s}const r={userId:t,dailyUsage:0,dailyLimit:this.tokenLimits.registered,lastReset:new Date().toISOString(),totalUsage:0,userTier:"registered",isRateLimited:!1,lastGeneration:""};return await this.saveUserUsage(t,r),r}async updateUserTier(t,n){localStorage.removeItem(`token_usage_${t}`);const r={userId:t,dailyUsage:0,dailyLimit:this.tokenLimits[n],lastReset:new Date().toISOString(),totalUsage:0,userTier:n,isRateLimited:!1,lastGeneration:""};await this.saveUserUsage(t,r)}async addBonusTokens(t,n){const r=await this.getUserUsage(t);r.dailyLimit+=n,await this.saveUserUsage(t,r)}async generateReferralCode(t){const n=`STEFNA-${t.slice(-6).toUpperCase()}-${Math.random().toString(36).substr(2,4).toUpperCase()}`,r=JSON.parse(localStorage.getItem("referral_codes")||"{}");return r[n]={userId:t,createdAt:new Date().toISOString(),invites:0,tokensEarned:0},localStorage.setItem("referral_codes",JSON.stringify(r)),n}async processInvite(t,n){const r=JSON.parse(localStorage.getItem("referral_codes")||"{}"),s=r[t];if(!s)return{success:!1,tokensAwarded:0};const i=50;await this.addBonusTokens(s.userId,i);const o=25;return await this.addBonusTokens(n,o),s.invites+=1,s.tokensEarned+=i,r[t]=s,localStorage.setItem("referral_codes",JSON.stringify(r)),{success:!0,tokensAwarded:i+o}}async getReferralStats(t){const n=JSON.parse(localStorage.getItem("referral_codes")||"{}");for(const[s,i]of Object.entries(n))if(i.userId===t)return{invites:i.invites||0,tokensEarned:i.tokensEarned||0,referralCode:s};return{invites:0,tokensEarned:0,referralCode:await this.generateReferralCode(t)}}async checkForAbuse(t,n){return(this.deviceCache.get(t)||[]).length>3?{isAbuse:!0,reason:"Too many accounts from same device"}:Array.from(this.deviceCache.values()).flat().filter(o=>o.includes(n)).length>5?{isAbuse:!0,reason:"Too many accounts from same IP"}:{isAbuse:!1}}getTokenCost(t,n){return this.tokenCosts[t][n]}isRateLimited(t){const n=this.rateLimitCache.get(t);return n?Date.now()-n<this.rateLimitWindow*1e3:!1}setRateLimit(t){this.rateLimitCache.set(t,Date.now())}trackDeviceUsage(t,n){const r=this.deviceCache.get(t)||[];r.includes(n)||(r.push(n),this.deviceCache.set(t,r))}shouldResetDaily(t){const n=new Date(t),r=new Date,s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),this.dailyResetHour);return n<s}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}async saveUserUsage(t,n){localStorage.setItem(`token_usage_${t}`,JSON.stringify(n))}async saveGeneration(t){const n=JSON.parse(localStorage.getItem("token_generations")||"[]");n.push(t),localStorage.setItem("token_generations",JSON.stringify(n))}loadTokenUsage(){const t=localStorage.getItem("total_used_tokens");t&&(this.usedTokens=parseInt(t))}startDailyReset(){setInterval(()=>{const t=new Date;t.getUTCHours()===this.dailyResetHour&&t.getUTCMinutes()===0&&this.resetAllDailyUsage()},6e4)}resetAllDailyUsage(){console.log("Daily token reset completed")}getServiceStats(){const t=this.totalTokens-this.usedTokens,n=this.usedTokens/this.totalTokens*100;return{totalTokens:this.totalTokens,usedTokens:this.usedTokens,remainingTokens:t,usagePercentage:n}}emergencyDisable(){this.totalTokens=0,console.warn("Token service emergency disabled")}emergencyRestore(t){this.totalTokens=t,console.log(`Token service restored with ${t} tokens`)}};oe(nr,"instance");let su=nr;const _l=su.getInstance(),Bb=({onClose:e})=>{const[t,n]=y.useState(""),[r,s]=y.useState("contributor"),[i,o]=y.useState(""),[l,c]=y.useState(!1),[u,d]=y.useState(""),[h,f]=y.useState(""),x=async w=>{w.preventDefault(),c(!0),d(""),f("");try{const S=await fetch("/.netlify/functions/admin-upgrade-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,newTier:r,adminSecret:i})}),k=await S.json();if(!S.ok)throw new Error(k.error||"Failed to upgrade user");d(k.message||"User upgraded successfully!"),n(""),o("")}catch(S){f(S instanceof Error?S.message:"An error occurred")}finally{c(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-[#222222] border border-white/20 rounded-2xl p-6 w-full max-w-md mx-4 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Admin Upgrade"}),a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors",children:""})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/60 text-sm mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:t,onChange:w=>n(w.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/40 focus:bg-white/10",placeholder:"Enter user email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/60 text-sm mb-2",children:"New Tier"}),a.jsxs("select",{value:r,onChange:w=>s(w.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:border-white/40 focus:bg-white/10",children:[a.jsx("option",{value:"registered",children:"Registered (115 tokens/day)"}),a.jsx("option",{value:"verified",children:"Verified (215 tokens/day)"}),a.jsx("option",{value:"contributor",children:"Contributor (410 tokens/day)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/60 text-sm mb-2",children:"Admin Secret"}),a.jsx("input",{type:"password",value:i,onChange:w=>o(w.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/40 focus:bg-white/10",placeholder:"Enter admin secret",required:!0})]}),u&&a.jsx("div",{className:"p-3 bg-green-500/20 border border-green-500/30 rounded-lg",children:a.jsx("p",{className:"text-green-400 text-sm",children:u})}),h&&a.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:a.jsx("p",{className:"text-red-400 text-sm",children:h})}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:l||!t||!i,className:"flex-1 px-4 py-3 bg-white text-black font-semibold rounded-lg hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Upgrading...":"Upgrade User"})]})]})]})})};class $b{constructor(){oe(this,"baseUrl");this.baseUrl="/.netlify/functions"}async getUserData(t){try{const n=await fetch(`${this.baseUrl}/get-user`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!n.ok)return console.error("Failed to get user data:",n.statusText),null;const r=await n.json();return this.transformUser(r.user)}catch(n){return console.error("Error fetching user data:",n),null}}transformUser(t){var n;return{id:t.id,name:t.name||((n=t.email)==null?void 0:n.split("@")[0])||"User",email:t.email,avatar:t.avatar_url,joinDate:t.created_at,totalPhotos:t.total_photos||0,savedPrompts:t.saved_prompts||[],dailyUsage:t.daily_usage||0,dailyLimit:this.getDailyLimit(t.tier)}}getDailyLimit(t){switch(t){case"guest":return 5;case"registered":return 15;case"verified":return 30;case"contributor":return 50;default:return 10}}async updateProfile(t,n){try{return(await fetch(`${this.baseUrl}/update-user`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(n)})).ok}catch(r){return console.error("Error updating profile:",r),!1}}async getUserStats(t){try{const n=await fetch(`${this.baseUrl}/get-user-stats`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.ok?await n.json():null}catch(n){return console.error("Error fetching user stats:",n),null}}async savePrompt(t,n,r){try{return(await fetch(`${this.baseUrl}/save-prompt`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({prompt:n,style:r})})).ok}catch(s){return console.error("Error saving prompt:",s),!1}}async getSavedPrompts(t){try{const n=await fetch(`${this.baseUrl}/get-saved-prompts`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.ok?(await n.json()).prompts||[]:[]}catch(n){return console.error("Error fetching saved prompts:",n),[]}}}const Wb=new $b,jp=e=>{if(!e||/^https?:\/\//i.test(e)||/^(data:|blob:)/i.test(e))return e;const t={}.VITE_CLOUDINARY_CLOUD_NAME;return t?`https://res.cloudinary.com/${t}/image/upload/${e.replace(/^\/+/,"")}`:e},Yb=()=>{const e=kr(),[t,n]=y.useState("all-media"),[r,s]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1);y.useState(!1);const[h,f]=y.useState({name:"User Name",bio:"AI artist exploring the boundaries of creativity ",avatar:null,shareToFeed:!1,allowRemix:!1});y.useEffect(()=>{var T;const v=(T=e.location)==null?void 0:T.state;v!=null&&v.activeTab&&n(v.activeTab)},[e]),y.useEffect(()=>{const v=()=>{at(!0)};return window.addEventListener("openInviteModal",v),()=>{window.removeEventListener("openInviteModal",v)}},[]);const x=async()=>{try{const v=$.getToken();if(!v)return;console.log(" Loading profile from database...");const T=await fetch("/.netlify/functions/get-user-profile",{method:"GET",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}});if(T.ok){const E=await T.json();console.log(" Profile loaded from database:",E);const M={name:E.name||"",avatar:E.avatar||""};f(I=>({...I,...M})),localStorage.setItem("userProfile",JSON.stringify(M))}else{console.warn(" Failed to load profile from database, falling back to localStorage");const E=localStorage.getItem("userProfile");if(E)try{const M=JSON.parse(E);f(I=>({...I,...M}))}catch(M){console.error("Failed to load profile data from localStorage:",M)}}}catch(v){console.error(" Failed to load profile from database:",v);const T=localStorage.getItem("userProfile");if(T)try{const E=JSON.parse(T);f(M=>({...M,...E}))}catch(E){console.error("Failed to load profile data from localStorage:",E)}}},[w,S]=y.useState(null),[k,m]=y.useState([]),[p,g]=y.useState([]),[b,C]=y.useState([]),[P,A]=y.useState([]),[N,F]=y.useState(""),[_,K]=y.useState(!0),[We,Re]=y.useState(!1),[vt,$t]=y.useState([]),[sn,X]=y.useState(0),[D,O]=y.useState({open:!1}),[z,Z]=y.useState(It.REGISTERED),[ce,Xe]=y.useState(!1),[wt,at]=y.useState(!1);y.useEffect(()=>{if(ce)x();else{const v=localStorage.getItem("userProfile");if(v)try{const T=JSON.parse(v);f(E=>({...E,...T}))}catch(T){console.error("Failed to load profile data from localStorage:",T)}}},[ce]);const[je,Mt]=y.useState(null),[ge,jr]=y.useState(0),[gs,ys]=y.useState(!1),[on,lt]=y.useState(!1);y.useState([]);const[xs,St]=y.useState(!1),[Fn,vs]=y.useState("instagram"),[zi,Rt]=y.useState("trendy"),[an,Un]=y.useState(""),[On,kt]=y.useState(!1),[Bi,Vn]=y.useState(null),[Ze,Dt]=y.useState(new Set),[ln,zn]=y.useState(!1),$i=v=>{Dt(T=>{const E=new Set(T);return E.has(v)?E.delete(v):E.add(v),E})},Bn=()=>{const v=new Set(k.map(T=>T.id));Dt(v)},Wt=()=>{Dt(new Set)},br=()=>{zn(v=>!v),ln&&Dt(new Set)},za=async()=>{if(Ze.size!==0)try{if(!$.getToken()){W("Delete Failed","Authentication required","error");return}d(!0);return}catch(v){console.error(" Bulk delete error:",v),W("Delete Failed","Network or server error","error")}},Wi=async()=>{if(Ze.size!==0)try{const v=$.getToken();if(!v){W("Delete Failed","Authentication required","error");return}const T=Array.from(Ze).map(async V=>{try{if(!(await fetch("/.netlify/functions/delete-media",{method:"DELETE",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify({mediaId:V})})).ok)throw new Error(`Failed to delete media ${V}`);return{success:!0,mediaId:V}}catch(G){return console.error(`Failed to delete media ${V}:`,G),{success:!1,mediaId:V,error:G}}}),E=await Promise.allSettled(T),M=E.filter(V=>V.status==="fulfilled"&&V.value.success).length,I=E.length-M;M>0?(W("Bulk Delete Complete",`Successfully deleted ${M} media items${I>0?`, ${I} failed`:""}`,"success"),Dt(new Set),zn(!1),await un()):W("Delete Failed","No media items were deleted","error")}catch(v){console.error(" Bulk delete error:",v),W("Delete Failed","Network or server error","error")}finally{d(!1)}},cn=async()=>{try{lt(!0);const v=$.getToken();if(!v){W("Migration Failed","Authentication required","error");return}console.log(" Starting media migration...");const T=await fetch("/.netlify/functions/migrate-user-media",{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}});if(T.ok){const E=await T.json();console.log(" Migration completed:",E),E.totalMigrated>0?(W("Migration Complete!",`Successfully migrated ${E.totalMigrated} media items to production environment. They should now appear on the home feed.`,"success"),await un()):W("No Migration Needed","All your media is already in the correct environment.","info")}else{const E=await T.json();console.error(" Migration failed:",E),W("Migration Failed",E.error||"Unknown error","error")}}catch(v){console.error(" Migration error:",v),W("Migration Failed","Network or server error","error")}finally{lt(!1)}},un=async()=>{try{const v=$.getCurrentUser(),T=(v==null?void 0:v.id)||"guest-user";if(F(T),v){Xe(!0);const V={registered:It.REGISTERED,pro:It.VERIFIED,verified:It.VERIFIED,contributor:It.CONTRIBUTOR}[v.tier]||It.REGISTERED;Z(V);try{const G=await _l.getReferralStats(T);Mt(G);try{const te=await Bo("/.netlify/functions/getQuota",{method:"GET"});if(te.ok){const ee=await te.json();jr((ee.daily_limit||0)-(ee.daily_used||0))}else{const ee=await _l.getUserUsage(T);jr(ee.dailyLimit-ee.dailyUsage)}}catch{const te=await _l.getUserUsage(T);jr(te.dailyLimit-te.dailyUsage)}}catch(G){console.error("Failed to load referral stats or token count:",G);const te=V===It.CONTRIBUTOR?120:V===It.VERIFIED?60:30;jr(te)}}else Xe(!1),Z(It.REGISTERED);try{const I=$.getToken()||localStorage.getItem("auth_token");if(I){const V=await fetch("/.netlify/functions/getUserMedia",{method:"GET",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(V.status===401){console.log("JWT invalid: falling back to local media");const G=await Jn.getAllUserMedia(T);m(G)}else if(V.ok){const ee=((await V.json()).items||[]).map(re=>(console.log(` Database item ${re.id}:`,{prompt:re.prompt,mode:re.mode,meta:re.meta}),{id:re.id,userId:re.user_id,type:re.resource_type==="video"?"video":"photo",url:jp(re.result_url)||jp(re.url)||re.result_url||re.url,prompt:re.prompt||"AI Generated Content",aspectRatio:4/3,width:800,height:600,timestamp:re.created_at,tokensUsed:2,likes:0,remixCount:0,isPublic:re.visibility==="public",allowRemix:re.allow_remix||!1,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"1.0"}}));console.log(" Setting userMedia with",ee.length,"items"),m(ee)}else{console.error("Failed to load user media from database:",V.statusText);const G=await Jn.getAllUserMedia(T);console.log(" Fallback: Setting userMedia with",G.length,"items from local service"),m(G)}}else{console.log("Guest user: skipping getUserMedia server call");const V=await Jn.getAllUserMedia(T);m(V)}}catch(I){console.error("Failed to load user media from database:",I);const V=await Jn.getAllUserMedia(T);m(V)}const M=k.filter(I=>I.type==="remix").map(I=>({...I,userAvatar:typeof h.avatar=="string"?h.avatar:void 0,userTier:z}));console.log(" Setting remixedMedia with",M.length,"items"),g(M),console.log(" Current userMedia for filtering:",k.length,"items"),C([]),A([]),console.log(" Final media state:",{userMedia:k.length,remixedMedia:M.length,totalItems:k.length+M.length}),K(!1)}catch(v){console.error("Failed to load user media:",v),K(!1)}};y.useEffect(()=>{un();const v=()=>{console.log(" ProfileScreen received userMediaUpdated event, refreshing..."),un()};return window.addEventListener("userMediaUpdated",v),()=>{window.removeEventListener("userMediaUpdated",v)}},[]),y.useEffect(()=>{console.log(" Active tab changed to:",t),console.log(" Current media state:",{userMedia:k.length,remixedMedia:p.length,isLoading:_})},[t,k.length,p.length,_]);const Yi=async()=>{try{K(!0);const v=await Jn.recoverMedia(N);v.length>0?(m(v),W("Media Recovered",`Successfully recovered ${v.length} media items!`,"success")):W("No Media Found","No recoverable media was found.","info")}catch(v){console.error("Failed to recover media:",v),W("Recovery Failed","Failed to recover media. Please try again.","error")}finally{K(!1)}},Hi=async()=>{try{K(!0),console.log(" Bulk sharing all media for user:",N);const v=$.getToken();if(!v){W("Authentication Required","Please log in to bulk share media","error");return}const T=await fetch("/.netlify/functions/bulk-share",{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify({action:"bulk-share",env:"prod"})});if(T.ok){const E=await T.json();console.log(" Bulk share result:",E),E.updated>0?(W("Bulk Share Successful",`Made ${E.updated} items public!`,"success"),un()):W("No Changes Needed","All your media is already public","info")}else{const E=await T.text();console.error(" Bulk share failed:",T.status,E),W("Bulk Share Failed","Failed to update media visibility","error")}}catch(v){console.error(" Bulk share error:",v),W("Bulk Share Failed","An error occurred while updating media","error")}finally{K(!1)}},Ba=async()=>{try{K(!0),console.log(" Fixing null values for user:",N);const v=$.getToken();if(!v){W("Authentication Required","Please log in to fix null values","error");return}const T=await fetch("/.netlify/functions/fix-null-values",{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify({action:"fix-null-values",env:"prod"})});if(T.ok){const E=await T.json();console.log(" Fix null values result:",E),E.fixed>0?(W("Null Values Fixed",`Fixed ${E.fixed} images with null values!`,"success"),un()):W("No Null Values Found","All your images have proper values","info")}else{const E=await T.text();console.error(" Fix null values failed:",T.status,E),W("Fix Failed","Failed to fix null values","error")}}catch(v){console.error(" Fix null values error:",v),W("Fix Failed","An error occurred while fixing null values","error")}finally{K(!1)}},$n=v=>{var E;const T=(E=v.target.files)==null?void 0:E[0];if(T){f(I=>({...I,avatar:T}));const M=new FileReader;M.onload=I=>{var V;S((V=I.target)==null?void 0:V.result)},M.readAsDataURL(T)}},Gi=async()=>{var v;try{const T={...h};let E;h.avatar instanceof File?(E=(await Ax(h.avatar,`users/${((v=$.getCurrentUser())==null?void 0:v.id)||"me"}`)).secure_url,T.avatar=E):typeof h.avatar=="string"&&(E=h.avatar);const M=$.getToken();M&&await Wb.updateProfile(M,{name:T.name,avatar:E}),localStorage.setItem("userProfile",JSON.stringify(T)),W("Profile Updated","Your profile has been saved successfully","success"),o(!1)}catch(T){console.error("Save profile failed:",T),W("Update failed","Could not update profile","error")}},ws=()=>{localStorage.removeItem("userProfile"),localStorage.removeItem("token_usage"),localStorage.removeItem("token_generations"),localStorage.removeItem("referral_codes"),$.logout(),W("Account Deleted","Your account has been permanently deleted","info"),c(!1),setTimeout(()=>{e("/")},1e3)},Cr=v=>{if(t==="draft")return;const T=t==="liked"?b:t==="remixed"?p:t==="draft"?P:k,E=T.findIndex(M=>M.id===v.id);$t(T),X(Math.max(0,E)),Re(!0)},Nr=async v=>{try{const E=await(await fetch(v.url,{mode:"cors"})).blob(),M=URL.createObjectURL(E),I=document.createElement("a");I.href=M;const V=v.type==="video"?"mp4":"jpg";I.download=`stefna-${v.id}.${V}`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(M)}catch{W("Download failed","Unable to download file","error")}},Ss=async v=>{try{if(!$.getToken()){W("Login Required","Please sign in to change visibility","warning"),e("/auth");return}const T=await fetch("/.netlify/functions/recordShare",{method:"POST",headers:{Authorization:`Bearer ${$.getToken()}`,"Content-Type":"application/json"},body:JSON.stringify({asset_id:v.id,shareToFeed:!0,allowRemix:v.allowRemix})});if(T.ok){const E=await T.json();console.log(" Share successful:",E),m(M=>M.map(I=>I.id===v.id?{...I,visibility:E.asset.visibility,allowRemix:E.asset.allow_remix,env:E.asset.env}:I)),W("Media Shared","Your media is now public!","success")}else{const E=await T.json();W("Share Failed",E.error||"Failed to share media","error")}}catch(T){console.error("Failed to share media:",T),W("Share Failed","Failed to share media. Please try again.","error")}},ks=async v=>{try{if(!$.getToken()){W("Login Required","Please sign in to change visibility","warning"),e("/auth");return}const T=await fetch("/.netlify/functions/recordShare",{method:"POST",headers:{Authorization:`Bearer ${$.getToken()}`,"Content-Type":"application/json"},body:JSON.stringify({asset_id:v.id,shareToFeed:!1,allowRemix:!1})});if(T.ok){const E=await T.json();console.log(" Unshare successful:",E),m(M=>M.map(I=>I.id===v.id?{...I,visibility:E.asset.visibility,allowRemix:E.asset.allow_remix,env:E.asset.env}:I)),W("Media Unshared","Your media is now private!","success")}else{const E=await T.json();W("Unshare Failed",E.error||"Failed to unshare media","error")}}catch(T){console.error("Failed to unshare media:",T),W("Unshare Failed","Failed to unshare media. Please try again.","error")}},W=(v,T,E="info",M,I,V)=>{console.log(`[NOTIFICATION DISABLED] ${E.toUpperCase()}: ${v} - ${T}`)},Ki=async v=>{if(!$.isAuthenticated()){W("Login Required","Please sign in to like media","warning"),e("/auth");return}const T=$.getCurrentUser(),E=(T==null?void 0:T.id)||localStorage.getItem("stefna_guest_id")||"guest-anon",{liked:M,likes:I}=await Jn.toggleLike(v.id,E);C(V=>{const G=V.some(te=>te.id===v.id);return M&&!G?[v,...V]:!M&&G?V.filter(te=>te.id!==v.id):V}),m(V=>V.map(G=>G.id===v.id?{...G,likes:I}:G))},Wn=v=>{if(!$.isAuthenticated()){W("Login Required","Please sign in to remix media","warning"),e("/auth");return}Re(!1),e("/",{state:{remixUrl:v.url,remixPrompt:v.prompt||"",source:"profile"}})},qi=v=>{O({open:!0,media:v})},Ji=v=>{Vb(e,v.url,v.prompt)},$a=v=>{O({open:!0,media:v})},js=v=>{Vn(v),St(!0),Un("")},Qi=async()=>{if(Bi){kt(!0);try{const v=`Amazing AI-generated ${Bi.type} created with Stefna!  #AIArt #Stefna #${zi}`;Un(v)}catch(v){console.error("Error generating caption:",v),Un("Failed to generate caption")}finally{kt(!1)}}},Yn=async()=>{if(an)try{await navigator.clipboard.writeText(an),W("Copied","Caption copied to clipboard","success")}catch{W("Copy failed","Unable to copy caption","error")}},[ye,Xi]=y.useState(""),[bs,Zi]=y.useState(!1),[eo,Hn]=y.useState(""),[to,Cs]=y.useState(""),j=async v=>{var E;if(v.preventDefault(),!ye.trim()){Hn("Please enter an email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ye)){Hn("Please enter a valid email address");return}Zi(!0),Hn(""),Cs("");try{const I=await(await Rb(()=>import("./emailService-23431b5c.js"),[])).default.sendReferralEmail({referrerEmail:((E=$.getCurrentUser())==null?void 0:E.email)||"",referrerName:h.name,friendEmail:ye.trim(),referralCode:je==null?void 0:je.referralCode});if(I.success){if(Cs("Invitation sent successfully!"),Xi(""),je){const V={...je,invites:je.invites+1};Mt(V)}W("Invitation Sent","Your friend will receive an email invitation shortly","success")}else Hn(I.error||"Failed to send invitation"),W("Invitation Failed",I.error||"Failed to send invitation","error")}catch(M){console.error("Failed to send invite:",M),Hn("Failed to send invitation. Please try again."),W("Invitation Failed","Failed to send invitation. Please try again.","error")}finally{Zi(!1)}},L=[{id:"all-media",label:"All Media",icon:Ll},{id:"liked",label:"Liked",icon:Zr},{id:"remixed",label:"Remixed",icon:lr},{id:"draft",label:"Draft",icon:Bs},{id:"notification",label:"Notification",icon:Zc},{id:"settings",label:"Settings",icon:rb}];return a.jsxs("div",{className:"min-h-screen bg-black flex",children:[a.jsxs("div",{className:"w-[20%] bg-black p-4 pt-20 relative sticky top-0 h-screen overflow-y-auto flex flex-col",children:[a.jsx("button",{onClick:()=>e("/"),className:"absolute top-4 left-4 text-white/60 hover:text-white transition-colors duration-300",title:"Go back",children:a.jsx(Vi,{size:20})}),a.jsx("button",{onClick:()=>{$.logout(),e("/")},className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors duration-300",title:"Logout",children:a.jsx(Zj,{size:20})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 rounded-lg text-left transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jj,{size:16,className:"text-white/60"}),a.jsx("span",{className:"text-xs font-medium text-white/60",children:"Share to Feed"})]}),a.jsx("button",{onClick:()=>{const v=!h.shareToFeed,T={...h,shareToFeed:v,allowRemix:v?h.allowRemix:!1};f(T),localStorage.setItem("userProfile",JSON.stringify(T))},className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors duration-200 ${h.shareToFeed?"bg-white":"bg-white/20"}`,children:a.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-black transition-transform duration-200 ${h.shareToFeed?"translate-x-5":"translate-x-1"}`})})]}),a.jsxs("div",{className:`flex items-center justify-between py-1.5 px-3 rounded-lg text-left transition-all duration-300 ${h.shareToFeed?"":"opacity-50"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(lr,{size:16,className:`${h.shareToFeed?"text-white/60":"text-white/30"}`}),a.jsx("span",{className:`text-xs font-medium ${h.shareToFeed?"text-white/60":"text-white/30"}`,children:"Allow Remix"})]}),a.jsx("button",{onClick:()=>{if(h.shareToFeed){const v={...h,allowRemix:!h.allowRemix};f(v),localStorage.setItem("userProfile",JSON.stringify(v))}},disabled:!h.shareToFeed,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors duration-200 ${h.allowRemix&&h.shareToFeed?"bg-white":"bg-white/20"} ${h.shareToFeed?"cursor-pointer":"cursor-not-allowed"}`,children:a.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-black transition-transform duration-200 ${h.allowRemix&&h.shareToFeed?"translate-x-5":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 rounded-lg text-left transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(xp,{size:16,className:"text-white/60"}),a.jsx("span",{className:"text-xs font-medium text-white/60",children:"Fix Home Feed"})]}),a.jsx("button",{onClick:cn,disabled:on,className:`px-3 py-1 text-xs font-medium rounded transition-colors duration-200 ${on?"bg-white/20 text-white/40 cursor-not-allowed":"bg-white/10 text-white/60 hover:bg-white/20 hover:text-white"}`,children:on?"Fixing...":"Fix Now"})]})]}),a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 rounded-lg text-left transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wp,{size:16,className:"text-white/60"}),a.jsx("span",{className:"text-xs font-medium text-white/60",children:"Tokens"})]}),a.jsx("span",{className:"text-white font-semibold",children:ge})]})}),a.jsx("button",{onClick:()=>at(!0),className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-between text-white/60 hover:text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ob,{size:16}),a.jsx("span",{className:"text-xs font-medium",children:"Invite Friends"})]})}),L.map(v=>{const T=v.icon;return a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{v.id==="settings"?s(!r):(n(v.id),s(!1))},className:`w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 ${t===v.id?"bg-white/20 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx(T,{size:16,className:"text-current"})}),a.jsx("span",{className:"text-xs font-medium",children:v.label})]}),v.id==="settings"&&r&&a.jsxs("div",{className:"mt-1 space-y-1",children:[a.jsxs("button",{onClick:()=>o(!0),className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 text-white/60 hover:text-white hover:bg-white/10",children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx(vp,{size:16,className:"text-current"})}),a.jsx("span",{className:"text-xs font-medium",children:"Edit Profile"})]}),a.jsxs("button",{onClick:Yi,className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 text-blue-400/60 hover:text-blue-400 hover:bg-blue-500/20",children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx(xp,{size:16,className:"text-current"})}),a.jsx("span",{className:"text-xs font-medium",children:"Recover Media"})]}),a.jsxs("button",{onClick:Hi,className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 text-green-400/60 hover:text-green-400 hover:bg-green-500/20",children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-current",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),a.jsx("span",{className:"text-xs font-medium",children:"Bulk Share All"})]}),a.jsxs("button",{onClick:Ba,className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 text-orange-400/60 hover:text-orange-400 hover:bg-orange-500/20",children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-current",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("span",{className:"text-xs font-medium",children:"Fix Null Values"})]}),a.jsxs("button",{onClick:()=>ys(!0),className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 text-yellow-400/60 hover:text-yellow-400 hover:bg-yellow-500/20",children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx(wp,{size:16,className:"text-current"})}),a.jsx("span",{className:"text-xs font-medium",children:"Admin Upgrade"})]}),a.jsxs("button",{onClick:()=>c(!0),className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 text-red-400/60 hover:text-red-400 hover:bg-red-500/20",children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-current",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),a.jsx("span",{className:"text-xs font-medium",children:"Delete Account"})]})]}),u&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>d(!1)}),a.jsxs("div",{className:"relative bg-[#222222] border border-white/20 rounded-2xl max-w-lg w-full p-8 shadow-2xl",children:[a.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:a.jsx(ft,{size:24})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-white text-xl font-bold mb-3",children:"Delete Selected Media"}),a.jsxs("p",{className:"text-white/60 text-sm",children:["Are you sure you want to delete ",Ze.size," media item",Ze.size!==1?"s":"","? This action cannot be undone."]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:Wi,className:"w-full bg-red-500 text-white font-semibold py-3 rounded-xl hover:bg-red-600 transition-colors",children:["Delete ",Ze.size," Item",Ze.size!==1?"s":""]}),a.jsx("button",{onClick:()=>d(!1),className:"w-full bg-white/5 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors border border-white/20",children:"Cancel"})]})]})]})]},v.id)})]})}),a.jsx("div",{className:"mt-auto",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"py-2 px-3",children:a.jsx("img",{src:"/logo.png",alt:"Stefna Logo",className:"h-8 w-auto"})}),a.jsx("div",{className:"py-2 px-3",children:a.jsx("span",{className:"text-xs font-medium text-white/60",children:"Legal"})}),a.jsxs("div",{className:"flex items-center space-x-2 px-3",children:[a.jsx("button",{onClick:()=>e("/privacy"),className:"w-6 h-6 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Privacy Policy",children:a.jsx(sb,{size:16,className:"text-white"})}),a.jsx("button",{onClick:()=>e("/terms"),className:"w-6 h-6 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Terms of Service",children:a.jsx(Bs,{size:16,className:"text-white"})}),a.jsx("button",{onClick:()=>e("/cookies"),className:"w-6 h-6 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Cookies Policy",children:a.jsx(Hj,{size:16,className:"text-white"})})]}),a.jsx("div",{className:"py-2 px-3",children:a.jsx("span",{className:"text-xs font-medium text-white/60",children:"Social Media"})}),a.jsxs("div",{className:"flex items-center space-x-2 px-3",children:[a.jsx("a",{href:"https://www.instagram.com/stefnaxyz/",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"Instagram",children:a.jsx(Db,{size:18,className:"text-white"})}),a.jsx("a",{href:"https://x.com/StefnaXYZ",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"X",children:a.jsx(Lb,{size:18,className:"text-white"})}),a.jsx("a",{href:"https://www.facebook.com/Stefnaxyz",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"Facebook",children:a.jsx(Ib,{size:18,className:"text-white"})}),a.jsx("a",{href:"https://www.tiktok.com/@stefnaxyz",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"TikTok",children:a.jsx(_b,{size:18,className:"text-white"})}),a.jsx("a",{href:"https://www.threads.net/@stefnaxyz",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"Threads",children:a.jsx(Fb,{size:18,className:"text-white"})}),a.jsx("a",{href:"https://www.youtube.com/channel/UCNBAWuWc8luYN8F0dIXX0RA",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"YouTube",children:a.jsx(Ub,{size:18,className:"text-white"})})]})]})})]}),a.jsxs("div",{className:"w-[80%] bg-black h-screen overflow-y-auto flex flex-col relative",children:[t==="all-media"&&a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[!_&&k.length>0&&a.jsxs("div",{className:"mb-6 flex items-center justify-between bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:br,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${ln?"bg-white text-black hover:bg-white/90":"bg-white/10 text-white hover:bg-white/20"}`,children:ln?"Exit Selection":"Select Media"}),ln&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:Bn,className:"px-3 py-2 rounded-lg text-sm font-medium bg-white/10 text-white hover:bg-white/20 transition-colors",children:"Select All"}),a.jsx("button",{onClick:Wt,className:"px-3 py-2 rounded-lg text-sm font-medium bg-white/10 text-white hover:bg-white/20 transition-colors",children:"Deselect All"}),a.jsxs("span",{className:"text-white/60 text-sm",children:[Ze.size," of ",k.length," selected"]})]})]}),ln&&Ze.size>0&&a.jsxs("button",{onClick:za,className:"px-4 py-2 rounded-lg text-sm font-medium bg-red-500/80 text-white hover:bg-red-500 transition-colors",children:["Delete Selected (",Ze.size,")"]})]}),_?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6 animate-pulse",children:a.jsx(Ll,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"Loading your media..."})]}):(()=>(console.log(" Rendering all-media tab:",{userMediaLength:k.length,userMedia:k,isLoading:_}),!_&&k.length===0))()?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(Ll,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No media yet"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Your created media will appear here"})]}):a.jsx($o,{media:k.map(v=>({...v,aspectRatio:v.width&&v.height?v.width/Math.max(1,v.height):v.aspectRatio||4/3,width:v.width||800,height:v.height||Math.round((v.width||800)/(v.aspectRatio||4/3))})),columns:3,onMediaClick:Cr,onDownload:Nr,onShare:Ss,onUnshare:ks,onRemix:Wn,onDelete:qi,onGenerateCaption:js,showActions:!0,className:"pb-20",hideRemixCount:!0,isSelectionMode:ln,selectedMediaIds:Ze,onToggleSelection:$i})]}),t==="liked"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:_?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6 animate-pulse",children:a.jsx(Zr,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"Loading your liked media..."})]}):(()=>(console.log(" Rendering liked tab:",{likedMediaLength:b.length,likedMedia:b,isLoading:_}),!_&&b.length===0))()?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(Zr,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No liked media yet"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Like media to see it here"})]}):a.jsx($o,{media:b,columns:3,onMediaClick:Cr,onDownload:Nr,onShare:Ss,onUnshare:ks,onLike:Ki,onRemix:Wn,showActions:!0,className:"pb-20",isLikedMedia:!0,hideRemixCount:!0})}),t==="remixed"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:_?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6 animate-pulse",children:a.jsx(lr,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"Loading your remixes..."})]}):(()=>(console.log(" Rendering remixed tab:",{remixedMediaLength:p.length,remixedMedia:p,isLoading:_}),!_&&p.length===0))()?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(lr,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No remixes yet"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Your remixed media will appear here"})]}):a.jsx($o,{media:p,columns:3,onMediaClick:Cr,onDownload:Nr,onShare:Ss,onUnshare:ks,onRemix:Wn,onDelete:qi,showActions:!0,className:"pb-20",hideRemixCount:!0})}),t==="draft"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:_?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6 animate-pulse",children:a.jsx(Bs,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"Loading your drafts..."})]}):(()=>(console.log(" Rendering draft tab:",{draftMediaLength:P.length,draftMedia:P,isLoading:_}),!_&&P.length===0))()?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(Bs,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No drafts yet"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Your draft media will appear here"})]}):a.jsx(Ob,{media:P,columns:3,onMediaClick:Cr,onEdit:Ji,onDelete:$a,showActions:!0,className:"pb-20"})}),t==="notification"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(Zc,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"Notifications disabled"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Notifications only appear on the home page"})]})}),a.jsx(Rx,{isOpen:We,media:vt,startIndex:sn,onClose:()=>Re(!1),onLike:v=>Ki(v),onRemix:v=>Wn(v),onShowAuth:()=>e("/auth")})]}),a.jsx(zb,{isOpen:D.open,title:"Delete media?",message:"This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onClose:()=>O({open:!1}),onConfirm:async()=>{if(D.media){const v=D.media;console.log(" Deleting media:",v.id);try{const T=$.getToken();let E=!1;if(T)try{const I=await fetch("/.netlify/functions/delete-media",{method:"POST",headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify({id:v.id})});I.ok?(E=!0,console.log(" Server delete successful")):console.warn(" Server delete failed:",I.status,I.statusText)}catch(I){console.error(" Server delete error:",I)}if(P.some(I=>I.id===v.id))A(I=>I.filter(V=>V.id!==v.id));else{m(I=>I.filter(V=>V.id!==v.id)),g(I=>I.filter(V=>V.id!==v.id));try{await Jn.deleteMedia(N,v.id)}catch(I){console.warn(" Local storage delete failed:",I)}}console.log(" Local state updated, media removed from UI")}catch(T){console.error(" Delete operation failed:",T)}}O({open:!1})}}),i&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>o(!1)}),a.jsxs("div",{className:"relative bg-[#222222] border border-white/20 rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[a.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:a.jsx(ft,{size:24})}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-white/10 flex items-center justify-center",children:w?a.jsx("img",{src:w,alt:"Profile preview",className:"w-full h-full object-cover"}):a.jsx(vp,{size:32,className:"text-white/40"})}),a.jsxs("label",{className:"absolute bottom-0 right-0 w-8 h-8 bg-white rounded-full flex items-center justify-center cursor-pointer hover:bg-white/90 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),a.jsx("input",{type:"file",accept:"image/*",onChange:$n,className:"hidden"})]})]})})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Name"}),a.jsx("input",{type:"text",value:h.name,onChange:v=>f(T=>({...T,name:v.target.value})),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/40",placeholder:"Enter your name"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:Gi,className:"w-full bg-white text-black font-semibold py-3 rounded-xl hover:bg-white/90 transition-colors",children:"Save Changes"}),a.jsx("button",{onClick:()=>o(!1),className:"w-full bg-white/5 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors border border-white/20",children:"Cancel"})]})]})]}),l&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>c(!1)}),a.jsxs("div",{className:"relative bg-[#222222] border border-white/20 rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[a.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:a.jsx(ft,{size:24})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),a.jsx("h1",{className:"text-xl font-bold text-white mb-2",children:"Delete Account"}),a.jsx("p",{className:"text-white/60",children:"This action cannot be undone"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:ws,className:"w-full bg-red-500 text-white font-semibold py-3 rounded-xl hover:bg-red-600 transition-colors",children:"Delete Account Permanently"}),a.jsx("button",{onClick:()=>c(!1),className:"w-full bg-white/5 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors border border-white/20",children:"Cancel"})]})]})]}),wt&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>at(!1)}),a.jsxs("div",{className:"relative bg-[#222222] border border-white/20 rounded-2xl max-w-lg w-full p-8 shadow-2xl",children:[a.jsx("button",{onClick:()=>at(!1),className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:a.jsx(ft,{size:24})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-white text-xl font-bold mb-3",children:"Invite Friends"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Share Stefna with your friends via email"})]}),ce&&je?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-semibold mb-2 text-sm",children:"You get"}),a.jsx("p",{className:"text-white/60 text-sm",children:"+10 bonus tokens after your friend's first generation"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-semibold mb-2 text-sm",children:"Your friends get"}),a.jsx("p",{className:"text-white/60 text-sm",children:"+10 bonus tokens on signup with your invite"})]}),a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("label",{className:"text-white/60 text-sm mb-3 block",children:"Friend's Email"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"email",value:ye,onChange:v=>Xi(v.target.value),className:"flex-1 bg-transparent text-white placeholder-white/40 focus:outline-none border-b border-white/20 focus:border-white/40 pb-2",placeholder:"Enter friend's email address",disabled:bs,required:!0}),a.jsx("button",{type:"submit",disabled:bs||!ye.trim(),className:"bg-white text-black font-semibold py-2 px-5 rounded-lg hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:bs?"Sending...":"Send"})]})]}),eo&&a.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:a.jsx("p",{className:"text-red-400 text-sm",children:eo})}),to&&a.jsx("div",{className:"bg-white/10 border border-white/20 rounded-lg p-3 text-center",children:a.jsx("p",{className:"text-white text-sm",children:to})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-xl font-bold text-white",children:je.invites}),a.jsx("div",{className:"text-white/60 text-xs mt-1",children:"Friends Invited"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-xl font-bold text-white",children:je.tokensEarned}),a.jsx("div",{className:"text-white/60 text-xs mt-1",children:"Tokens Earned"})]})]})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx("p",{className:"text-white/60 mb-4",children:"Sign up to unlock the invite system!"}),a.jsx("button",{onClick:()=>{at(!1),e("/auth")},className:"bg-white text-black font-semibold py-2 px-6 rounded-xl hover:bg-white/90 transition-all duration-300",children:"Sign Up Now"})]})]})]}),gs&&a.jsx(Bb,{onClose:()=>ys(!1)}),xs&&a.jsx("div",{className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md bg-[#222222] border border-white/20 rounded-2xl p-6 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-white font-medium text-lg",children:"Generate Caption"}),a.jsx("button",{onClick:()=>St(!1),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(ft,{size:20})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white/70 text-sm mb-2",children:"Platform"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["instagram","x","tiktok"].map(v=>a.jsx("button",{onClick:()=>vs(v),className:`px-3 py-2 rounded-lg text-sm border transition-colors ${Fn===v?"border-white/40 text-white bg-white/10":"border-white/20 text-white/80 hover:text-white hover:bg-white/5"}`,children:v},v))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/70 text-sm mb-2",children:"Style"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["trendy","casual","professional","artistic"].map(v=>a.jsx("button",{onClick:()=>Rt(v),className:`px-2 py-2 rounded-lg text-xs border transition-colors ${zi===v?"border-white/40 text-white bg-white/10":"border-white/20 text-white/80 hover:text-white hover:bg-white/5"}`,children:v},v))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:Qi,className:"px-4 py-2 rounded-lg bg-white text-black text-sm font-medium disabled:opacity-50 transition-colors",disabled:On,children:On?"Generating":"Generate"}),a.jsx("button",{onClick:Yn,className:"px-4 py-2 rounded-lg border border-white/20 text-white text-sm disabled:opacity-50 hover:bg-white/5 transition-colors",disabled:!an,children:"Copy"})]}),a.jsxs("div",{children:[a.jsx("textarea",{value:an,onChange:v=>Un(v.target.value),placeholder:"Your caption will appear here",className:"w-full h-28 p-3 rounded-xl bg-white/5 border border-white/20 text-white placeholder-white/40 resize-none text-sm focus:outline-none focus:border-white/40 focus:bg-white/10 transition-colors"}),a.jsx("div",{className:"text-white/50 text-xs mt-2",children:"Includes #AiAsABrush automatically"})]})]})]})})]})},Hb=()=>{const e=kr(),[t,n]=y.useState(""),[r,s]=y.useState(""),[i,o]=y.useState("email"),[l,c]=y.useState(!1),[u,d]=y.useState(""),[h,f]=y.useState(""),x=async k=>{k.preventDefault(),c(!0),d("");try{const m=await fetch("/.netlify/functions/request-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),p=await m.json();m.ok?(f("Login code sent to your email!"),o("otp")):d(p.error||"Failed to send code")}catch{d("Network error. Please try again.")}finally{c(!1)}},w=async k=>{k.preventDefault(),c(!0),d("");try{const m=await fetch("/.netlify/functions/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,otp:r})}),p=await m.json();if(m.ok){const g=p.token||"temp-token",b=p.user;$.setAuthState(g,b),f("Login successful!"),setTimeout(()=>{e("/")},600)}else d(p.error||"Invalid code")}catch{d("Network error. Please try again.")}finally{c(!1)}},S=()=>{o("email"),s(""),d(""),f("")};return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("img",{src:"/logo.png",alt:"Stefna",className:"w-16 h-16 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:i==="email"?"Sign in to Stefna":"Enter Login Code"}),a.jsx("p",{className:"text-white/60",children:i==="email"?"Enter your email to receive a login code":`We sent a 6-digit code to ${t}`})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/20 rounded-2xl p-8",children:[i==="email"?a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(eb,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),a.jsx("input",{type:"email",value:t,onChange:k=>n(k.target.value),placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/40 focus:bg-white/10",required:!0})]})]}),a.jsx("button",{type:"submit",disabled:l||!t,className:`w-full py-3 rounded-lg font-medium text-sm transition-all duration-300 flex items-center justify-center space-x-2 ${t&&!l?"bg-white text-black hover:bg-white/90":"bg-white/10 text-white/40 cursor-not-allowed"}`,children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black/20 border-t-black rounded-full animate-spin"}),a.jsx("span",{children:"Sending..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Get Login Code"}),a.jsx(mp,{size:16})]})})]}):a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Login Code"}),a.jsx("input",{type:"text",value:r,onChange:k=>s(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter 6-digit code",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/40 focus:bg-white/10 text-center text-lg tracking-widest",maxLength:6,required:!0})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{type:"submit",disabled:l||r.length!==6,className:`w-full py-3 rounded-lg font-medium text-sm transition-all duration-300 flex items-center justify-center space-x-2 ${r.length===6&&!l?"bg-white text-black hover:bg-white/90":"bg-white/10 text-white/40 cursor-not-allowed"}`,children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black/20 border-t-black rounded-full animate-spin"}),a.jsx("span",{children:"Verifying..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Sign In"}),a.jsx(mp,{size:16})]})}),a.jsxs("button",{type:"button",onClick:S,disabled:l,className:"w-full py-3 rounded-lg font-medium text-sm transition-all duration-300 flex items-center justify-center space-x-2 bg-white/5 text-white hover:bg-white/10",children:[a.jsx(Vi,{size:16}),a.jsx("span",{children:"Back to Email"})]})]})]}),u&&a.jsxs("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center space-x-2",children:[a.jsx(ab,{size:16,className:"text-red-400"}),a.jsx("span",{className:"text-red-400 text-sm",children:u})]}),h&&a.jsxs("div",{className:"mt-4 p-3 bg-white/10 border border-white/20 rounded-lg flex items-center justify-center space-x-2",children:[a.jsx(Bj,{size:16,className:"text-white"}),a.jsx("span",{className:"text-white text-sm",children:h})]})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsx("button",{onClick:()=>e("/"),className:"text-white/60 hover:text-white text-sm",children:" Back to Home"})})]})})},Gb=()=>(Ii().pathname.startsWith("/profile"),a.jsxs("div",{className:"min-h-screen bg-black pb-16",children:[a.jsx("div",{children:a.jsxs(e1,{children:[a.jsx(hn,{path:"/",element:a.jsx(Nb,{})}),a.jsx(hn,{path:"/auth",element:a.jsx(Hb,{})}),a.jsx(hn,{path:"/profile",element:a.jsx(Yb,{})}),a.jsx(hn,{path:"/gallery",element:a.jsx(Xw,{to:"/",replace:!0})}),a.jsx(hn,{path:"/privacy",element:a.jsx(Tb,{})}),a.jsx(hn,{path:"/terms",element:a.jsx(Pb,{})}),a.jsx(hn,{path:"/cookies",element:a.jsx(Eb,{})})]})}),a.jsx(lb,{isOpen:!1,onClose:()=>{},feature:""})]})),Kb=()=>a.jsx(r1,{children:a.jsx(Gb,{})});window.addEventListener("error",e=>console.error("[window.onerror]",e.error||e.message));window.addEventListener("unhandledrejection",e=>console.error("[unhandledrejection]",e.reason));(()=>{const e=window.fetch;window.fetch=async(t,n)=>{var s;const r=((s=crypto.randomUUID)==null?void 0:s.call(crypto))??String(Date.now());console.info("[fetch>]",r,typeof t=="string"?t:t.toString(),(n==null?void 0:n.method)||"GET");try{const i=await e(t,n);return console.info("[fetch<]",r,i.status,i.url),i}catch(i){throw console.error("[fetch!]",r,i),i}}})();Fl.createRoot(document.getElementById("root")).render(a.jsx(Lp.StrictMode,{children:a.jsx(Kb,{})}));
