var ix=Object.defineProperty;var sx=(e,t,n)=>t in e?ix(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var me=(e,t,n)=>(sx(e,typeof t!="symbol"?t+"":t,n),n);function ox(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ax(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vp={exports:{}},ya={},Op={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As=Symbol.for("react.element"),lx=Symbol.for("react.portal"),cx=Symbol.for("react.fragment"),ux=Symbol.for("react.strict_mode"),dx=Symbol.for("react.profiler"),hx=Symbol.for("react.provider"),fx=Symbol.for("react.context"),px=Symbol.for("react.forward_ref"),mx=Symbol.for("react.suspense"),gx=Symbol.for("react.memo"),yx=Symbol.for("react.lazy"),Jd=Symbol.iterator;function xx(e){return e===null||typeof e!="object"?null:(e=Jd&&e[Jd]||e["@@iterator"],typeof e=="function"?e:null)}var zp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bp=Object.assign,$p={};function pi(e,t,n){this.props=e,this.context=t,this.refs=$p,this.updater=n||zp}pi.prototype.isReactComponent={};pi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wp(){}Wp.prototype=pi.prototype;function hu(e,t,n){this.props=e,this.context=t,this.refs=$p,this.updater=n||zp}var fu=hu.prototype=new Wp;fu.constructor=hu;Bp(fu,pi.prototype);fu.isPureReactComponent=!0;var qd=Array.isArray,Gp=Object.prototype.hasOwnProperty,pu={current:null},Yp={key:!0,ref:!0,__self:!0,__source:!0};function Hp(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Gp.call(t,r)&&!Yp.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:As,type:e,key:s,ref:o,props:i,_owner:pu.current}}function vx(e,t){return{$$typeof:As,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mu(e){return typeof e=="object"&&e!==null&&e.$$typeof===As}function wx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eh=/\/+/g;function Xa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wx(""+e.key):t.toString(36)}function bo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case As:case lx:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Xa(o,0):r,qd(i)?(n="",e!=null&&(n=e.replace(eh,"$&/")+"/"),bo(i,t,n,"",function(u){return u})):i!=null&&(mu(i)&&(i=vx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(eh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",qd(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+Xa(s,l);o+=bo(s,t,n,c,i)}else if(c=xx(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+Xa(s,l++),o+=bo(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function to(e,t,n){if(e==null)return e;var r=[],i=0;return bo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Sx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},No={transition:null},kx={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:No,ReactCurrentOwner:pu};function Kp(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:to,forEach:function(e,t,n){to(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return to(e,function(){t++}),t},toArray:function(e){return to(e,function(t){return t})||[]},only:function(e){if(!mu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=pi;Z.Fragment=cx;Z.Profiler=dx;Z.PureComponent=hu;Z.StrictMode=ux;Z.Suspense=mx;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kx;Z.act=Kp;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=pu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gp.call(t,c)&&!Yp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:As,type:e.type,key:i,ref:s,props:r,_owner:o}};Z.createContext=function(e){return e={$$typeof:fx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hx,_context:e},e.Consumer=e};Z.createElement=Hp;Z.createFactory=function(e){var t=Hp.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:px,render:e}};Z.isValidElement=mu;Z.lazy=function(e){return{$$typeof:yx,_payload:{_status:-1,_result:e},_init:Sx}};Z.memo=function(e,t){return{$$typeof:gx,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=No.transition;No.transition={};try{e()}finally{No.transition=t}};Z.unstable_act=Kp;Z.useCallback=function(e,t){return tt.current.useCallback(e,t)};Z.useContext=function(e){return tt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return tt.current.useEffect(e,t)};Z.useId=function(){return tt.current.useId()};Z.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return tt.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};Z.useRef=function(e){return tt.current.useRef(e)};Z.useState=function(e){return tt.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return tt.current.useTransition()};Z.version="18.3.1";Op.exports=Z;var x=Op.exports;const Ar=ax(x),jx=ox({__proto__:null,default:Ar},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=x,Nx=Symbol.for("react.element"),Cx=Symbol.for("react.fragment"),Tx=Object.prototype.hasOwnProperty,Px=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ex={key:!0,ref:!0,__self:!0,__source:!0};function Qp(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Tx.call(t,r)&&!Ex.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Nx,type:e,key:s,ref:o,props:i,_owner:Px.current}}ya.Fragment=Cx;ya.jsx=Qp;ya.jsxs=Qp;Vp.exports=ya;var a=Vp.exports,Ol={},Xp={exports:{}},xt={},Zp={exports:{}},Jp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,A){var L=E.length;E.push(A);e:for(;0<L;){var K=L-1>>>1,Y=E[K];if(0<i(Y,A))E[K]=A,E[L]=Y,L=K;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var A=E[0],L=E.pop();if(L!==A){E[0]=L;e:for(var K=0,Y=E.length,Ce=Y>>>1;K<Ce;){var Ze=2*(K+1)-1,wt=E[Ze],dt=Ze+1,qt=E[dt];if(0>i(wt,L))dt<Y&&0>i(qt,wt)?(E[K]=qt,E[dt]=L,K=dt):(E[K]=wt,E[Ze]=L,K=Ze);else if(dt<Y&&0>i(qt,L))E[K]=qt,E[dt]=L,K=dt;else break e}}return A}function i(E,A){var L=E.sortIndex-A.sortIndex;return L!==0?L:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,y=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(E){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=E)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function j(E){if(w=!1,g(E),!v)if(n(c)!==null)v=!0,se(b);else{var A=n(u);A!==null&&V(j,A.startTime-E)}}function b(E,A){v=!1,w&&(w=!1,p(C),C=-1),y=!0;var L=f;try{for(g(A),h=n(c);h!==null&&(!(h.expirationTime>A)||E&&!ie());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var Y=K(h.expirationTime<=A);A=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(c)&&r(c),g(A)}else r(c);h=n(c)}if(h!==null)var Ce=!0;else{var Ze=n(u);Ze!==null&&V(j,Ze.startTime-A),Ce=!1}return Ce}finally{h=null,f=L,y=!1}}var T=!1,M=null,C=-1,$=5,W=-1;function ie(){return!(e.unstable_now()-W<$)}function ke(){if(M!==null){var E=e.unstable_now();W=E;var A=!0;try{A=M(!0,E)}finally{A?Ee():(T=!1,M=null)}}else T=!1}var Ee;if(typeof m=="function")Ee=function(){m(ke)};else if(typeof MessageChannel<"u"){var Lt=new MessageChannel,rt=Lt.port2;Lt.port1.onmessage=ke,Ee=function(){rt.postMessage(null)}}else Ee=function(){k(ke,0)};function se(E){M=E,T||(T=!0,Ee())}function V(E,A){C=k(function(){E(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,se(b))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var L=f;f=A;try{return E()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var L=f;f=E;try{return A()}finally{f=L}},e.unstable_scheduleCallback=function(E,A,L){var K=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?K+L:K):L=K,E){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=L+Y,E={id:d++,callback:A,priorityLevel:E,startTime:L,expirationTime:Y,sortIndex:-1},L>K?(E.sortIndex=L,t(u,E),n(c)===null&&E===n(u)&&(w?(p(C),C=-1):w=!0,V(j,L-K))):(E.sortIndex=Y,t(c,E),v||y||(v=!0,se(b))),E},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(E){var A=f;return function(){var L=f;f=A;try{return E.apply(this,arguments)}finally{f=L}}}})(Jp);Zp.exports=Jp;var Mx=Zp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix=x,yt=Mx;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qp=new Set,as={};function jr(e,t){si(e,t),si(e+"Capture",t)}function si(e,t){for(as[e]=t,e=0;e<t.length;e++)qp.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=Object.prototype.hasOwnProperty,Ax=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,th={},nh={};function Rx(e){return zl.call(nh,e)?!0:zl.call(th,e)?!1:Ax.test(e)?nh[e]=!0:(th[e]=!0,!1)}function Lx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dx(e,t,n,r){if(t===null||typeof t>"u"||Lx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var gu=/[\-:]([a-z])/g;function yu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gu,yu);$e[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gu,yu);$e[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gu,yu);$e[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function xu(e,t,n,r){var i=$e.hasOwnProperty(t)?$e[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dx(t,n,i,r)&&(n=null),r||i===null?Rx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mn=Ix.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,no=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),vu=Symbol.for("react.strict_mode"),Bl=Symbol.for("react.profiler"),em=Symbol.for("react.provider"),tm=Symbol.for("react.context"),wu=Symbol.for("react.forward_ref"),$l=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),Su=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),nm=Symbol.for("react.offscreen"),rh=Symbol.iterator;function Ai(e){return e===null||typeof e!="object"?null:(e=rh&&e[rh]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Za;function Bi(e){if(Za===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Za=t&&t[1]||""}return`
`+Za+e}var Ja=!1;function qa(e,t){if(!e||Ja)return"";Ja=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ja=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bi(e):""}function Fx(e){switch(e.tag){case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 2:case 15:return e=qa(e.type,!1),e;case 11:return e=qa(e.type.render,!1),e;case 1:return e=qa(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Rr:return"Portal";case Bl:return"Profiler";case vu:return"StrictMode";case $l:return"Suspense";case Wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tm:return(e.displayName||"Context")+".Consumer";case em:return(e._context.displayName||"Context")+".Provider";case wu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Su:return t=e.displayName||null,t!==null?t:Gl(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return Gl(e(t))}catch{}}return null}function _x(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(t);case 8:return t===vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ux(e){var t=rm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ro(e){e._valueTracker||(e._valueTracker=Ux(e))}function im(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=rm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yl(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ih(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sm(e,t){t=t.checked,t!=null&&xu(e,"checked",t,!1)}function Hl(e,t){sm(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Kl(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Kl(e,t,n){(t!=="number"||Oo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $i=Array.isArray;function Zr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if($i(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function om(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ah(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function am(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?am(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var io,lm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(io=io||document.createElement("div"),io.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=io.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ls(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vx=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(e){Vx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hi[t]=Hi[e]})});function cm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hi.hasOwnProperty(e)&&Hi[e]?(""+t).trim():t+"px"}function um(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ox=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(e,t){if(t){if(Ox[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Jl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=null;function ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ec=null,Jr=null,qr=null;function lh(e){if(e=Ds(e)){if(typeof ec!="function")throw Error(I(280));var t=e.stateNode;t&&(t=ka(t),ec(e.stateNode,e.type,t))}}function dm(e){Jr?qr?qr.push(e):qr=[e]:Jr=e}function hm(){if(Jr){var e=Jr,t=qr;if(qr=Jr=null,lh(e),t)for(e=0;e<t.length;e++)lh(t[e])}}function fm(e,t){return e(t)}function pm(){}var el=!1;function mm(e,t,n){if(el)return e(t,n);el=!0;try{return fm(e,t,n)}finally{el=!1,(Jr!==null||qr!==null)&&(pm(),hm())}}function cs(e,t){var n=e.stateNode;if(n===null)return null;var r=ka(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var tc=!1;if(cn)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){tc=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{tc=!1}function zx(e,t,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ki=!1,zo=null,Bo=!1,nc=null,Bx={onError:function(e){Ki=!0,zo=e}};function $x(e,t,n,r,i,s,o,l,c){Ki=!1,zo=null,zx.apply(Bx,arguments)}function Wx(e,t,n,r,i,s,o,l,c){if($x.apply(this,arguments),Ki){if(Ki){var u=zo;Ki=!1,zo=null}else throw Error(I(198));Bo||(Bo=!0,nc=u)}}function br(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ch(e){if(br(e)!==e)throw Error(I(188))}function Gx(e){var t=e.alternate;if(!t){if(t=br(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ch(i),e;if(s===r)return ch(i),t;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function ym(e){return e=Gx(e),e!==null?xm(e):null}function xm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xm(e);if(t!==null)return t;e=e.sibling}return null}var vm=yt.unstable_scheduleCallback,uh=yt.unstable_cancelCallback,Yx=yt.unstable_shouldYield,Hx=yt.unstable_requestPaint,Ne=yt.unstable_now,Kx=yt.unstable_getCurrentPriorityLevel,ju=yt.unstable_ImmediatePriority,wm=yt.unstable_UserBlockingPriority,$o=yt.unstable_NormalPriority,Qx=yt.unstable_LowPriority,Sm=yt.unstable_IdlePriority,xa=null,Kt=null;function Xx(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(xa,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:qx,Zx=Math.log,Jx=Math.LN2;function qx(e){return e>>>=0,e===0?32:31-(Zx(e)/Jx|0)|0}var so=64,oo=4194304;function Wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Wi(l):(s&=o,s!==0&&(r=Wi(s)))}else o=n&~i,o!==0?r=Wi(o):s!==0&&(r=Wi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),i=1<<n,r|=e[n],t&=~i;return r}function ev(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-zt(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=ev(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function rc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function km(){var e=so;return so<<=1,!(so&4194240)&&(so=64),e}function tl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function nv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-zt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function bu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ne=0;function jm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bm,Nu,Nm,Cm,Tm,ic=!1,ao=[],Pn=null,En=null,Mn=null,us=new Map,ds=new Map,jn=[],rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dh(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(t.pointerId)}}function Li(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ds(t),t!==null&&Nu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function iv(e,t,n,r,i){switch(t){case"focusin":return Pn=Li(Pn,e,t,n,r,i),!0;case"dragenter":return En=Li(En,e,t,n,r,i),!0;case"mouseover":return Mn=Li(Mn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return us.set(s,Li(us.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ds.set(s,Li(ds.get(s)||null,e,t,n,r,i)),!0}return!1}function Pm(e){var t=ar(e.target);if(t!==null){var n=br(t);if(n!==null){if(t=n.tag,t===13){if(t=gm(n),t!==null){e.blockedOn=t,Tm(e.priority,function(){Nm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ql=r,n.target.dispatchEvent(r),ql=null}else return t=Ds(n),t!==null&&Nu(t),e.blockedOn=n,!1;t.shift()}return!0}function hh(e,t,n){Co(e)&&n.delete(t)}function sv(){ic=!1,Pn!==null&&Co(Pn)&&(Pn=null),En!==null&&Co(En)&&(En=null),Mn!==null&&Co(Mn)&&(Mn=null),us.forEach(hh),ds.forEach(hh)}function Di(e,t){e.blockedOn===t&&(e.blockedOn=null,ic||(ic=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,sv)))}function hs(e){function t(i){return Di(i,e)}if(0<ao.length){Di(ao[0],e);for(var n=1;n<ao.length;n++){var r=ao[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pn!==null&&Di(Pn,e),En!==null&&Di(En,e),Mn!==null&&Di(Mn,e),us.forEach(t),ds.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)Pm(n),n.blockedOn===null&&jn.shift()}var ei=mn.ReactCurrentBatchConfig,Go=!0;function ov(e,t,n,r){var i=ne,s=ei.transition;ei.transition=null;try{ne=1,Cu(e,t,n,r)}finally{ne=i,ei.transition=s}}function av(e,t,n,r){var i=ne,s=ei.transition;ei.transition=null;try{ne=4,Cu(e,t,n,r)}finally{ne=i,ei.transition=s}}function Cu(e,t,n,r){if(Go){var i=sc(e,t,n,r);if(i===null)dl(e,t,r,Yo,n),dh(e,r);else if(iv(i,e,t,n,r))r.stopPropagation();else if(dh(e,r),t&4&&-1<rv.indexOf(e)){for(;i!==null;){var s=Ds(i);if(s!==null&&bm(s),s=sc(e,t,n,r),s===null&&dl(e,t,r,Yo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else dl(e,t,r,null,n)}}var Yo=null;function sc(e,t,n,r){if(Yo=null,e=ku(r),e=ar(e),e!==null)if(t=br(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yo=e,null}function Em(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kx()){case ju:return 1;case wm:return 4;case $o:case Qx:return 16;case Sm:return 536870912;default:return 16}default:return 16}}var Nn=null,Tu=null,To=null;function Mm(){if(To)return To;var e,t=Tu,n=t.length,r,i="value"in Nn?Nn.value:Nn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return To=i.slice(e,1<r?1-r:void 0)}function Po(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lo(){return!0}function fh(){return!1}function vt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lo:fh,this.isPropagationStopped=fh,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=vt(mi),Ls=ve({},mi,{view:0,detail:0}),lv=vt(Ls),nl,rl,Fi,va=ve({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(nl=e.screenX-Fi.screenX,rl=e.screenY-Fi.screenY):rl=nl=0,Fi=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:rl}}),ph=vt(va),cv=ve({},va,{dataTransfer:0}),uv=vt(cv),dv=ve({},Ls,{relatedTarget:0}),il=vt(dv),hv=ve({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),fv=vt(hv),pv=ve({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mv=vt(pv),gv=ve({},mi,{data:0}),mh=vt(gv),yv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vv[e])?!!t[e]:!1}function Eu(){return wv}var Sv=ve({},Ls,{key:function(e){if(e.key){var t=yv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Po(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(e){return e.type==="keypress"?Po(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Po(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kv=vt(Sv),jv=ve({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gh=vt(jv),bv=ve({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),Nv=vt(bv),Cv=ve({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tv=vt(Cv),Pv=ve({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=vt(Pv),Mv=[9,13,27,32],Mu=cn&&"CompositionEvent"in window,Qi=null;cn&&"documentMode"in document&&(Qi=document.documentMode);var Iv=cn&&"TextEvent"in window&&!Qi,Im=cn&&(!Mu||Qi&&8<Qi&&11>=Qi),yh=String.fromCharCode(32),xh=!1;function Am(e,t){switch(e){case"keyup":return Mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Av(e,t){switch(e){case"compositionend":return Rm(t);case"keypress":return t.which!==32?null:(xh=!0,yh);case"textInput":return e=t.data,e===yh&&xh?null:e;default:return null}}function Rv(e,t){if(Dr)return e==="compositionend"||!Mu&&Am(e,t)?(e=Mm(),To=Tu=Nn=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Im&&t.locale!=="ko"?null:t.data;default:return null}}var Lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lv[e.type]:t==="textarea"}function Lm(e,t,n,r){dm(r),t=Ho(t,"onChange"),0<t.length&&(n=new Pu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xi=null,fs=null;function Dv(e){Gm(e,0)}function wa(e){var t=Ur(e);if(im(t))return e}function Fv(e,t){if(e==="change")return t}var Dm=!1;if(cn){var sl;if(cn){var ol="oninput"in document;if(!ol){var wh=document.createElement("div");wh.setAttribute("oninput","return;"),ol=typeof wh.oninput=="function"}sl=ol}else sl=!1;Dm=sl&&(!document.documentMode||9<document.documentMode)}function Sh(){Xi&&(Xi.detachEvent("onpropertychange",Fm),fs=Xi=null)}function Fm(e){if(e.propertyName==="value"&&wa(fs)){var t=[];Lm(t,fs,e,ku(e)),mm(Dv,t)}}function _v(e,t,n){e==="focusin"?(Sh(),Xi=t,fs=n,Xi.attachEvent("onpropertychange",Fm)):e==="focusout"&&Sh()}function Uv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wa(fs)}function Vv(e,t){if(e==="click")return wa(t)}function Ov(e,t){if(e==="input"||e==="change")return wa(t)}function zv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:zv;function ps(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zl.call(t,i)||!$t(e[i],t[i]))return!1}return!0}function kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jh(e,t){var n=kh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kh(n)}}function _m(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_m(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Um(){for(var e=window,t=Oo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oo(e.document)}return t}function Iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bv(e){var t=Um(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_m(n.ownerDocument.documentElement,n)){if(r!==null&&Iu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=jh(n,s);var o=jh(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $v=cn&&"documentMode"in document&&11>=document.documentMode,Fr=null,oc=null,Zi=null,ac=!1;function bh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ac||Fr==null||Fr!==Oo(r)||(r=Fr,"selectionStart"in r&&Iu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zi&&ps(Zi,r)||(Zi=r,r=Ho(oc,"onSelect"),0<r.length&&(t=new Pu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fr)))}function co(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},al={},Vm={};cn&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Sa(e){if(al[e])return al[e];if(!_r[e])return e;var t=_r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vm)return al[e]=t[n];return e}var Om=Sa("animationend"),zm=Sa("animationiteration"),Bm=Sa("animationstart"),$m=Sa("transitionend"),Wm=new Map,Nh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){Wm.set(e,t),jr(t,[e])}for(var ll=0;ll<Nh.length;ll++){var cl=Nh[ll],Wv=cl.toLowerCase(),Gv=cl[0].toUpperCase()+cl.slice(1);zn(Wv,"on"+Gv)}zn(Om,"onAnimationEnd");zn(zm,"onAnimationIteration");zn(Bm,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn($m,"onTransitionEnd");si("onMouseEnter",["mouseout","mouseover"]);si("onMouseLeave",["mouseout","mouseover"]);si("onPointerEnter",["pointerout","pointerover"]);si("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function Ch(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wx(r,t,void 0,e),e.currentTarget=null}function Gm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Ch(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Ch(i,l,u),s=c}}}if(Bo)throw e=nc,Bo=!1,nc=null,e}function ue(e,t){var n=t[hc];n===void 0&&(n=t[hc]=new Set);var r=e+"__bubble";n.has(r)||(Ym(t,e,2,!1),n.add(r))}function ul(e,t,n){var r=0;t&&(r|=4),Ym(n,e,r,t)}var uo="_reactListening"+Math.random().toString(36).slice(2);function ms(e){if(!e[uo]){e[uo]=!0,qp.forEach(function(n){n!=="selectionchange"&&(Yv.has(n)||ul(n,!1,e),ul(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uo]||(t[uo]=!0,ul("selectionchange",!1,t))}}function Ym(e,t,n,r){switch(Em(t)){case 1:var i=ov;break;case 4:i=av;break;default:i=Cu}n=i.bind(null,t,n,e),i=void 0,!tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function dl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ar(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}mm(function(){var u=s,d=ku(n),h=[];e:{var f=Wm.get(e);if(f!==void 0){var y=Pu,v=e;switch(e){case"keypress":if(Po(n)===0)break e;case"keydown":case"keyup":y=kv;break;case"focusin":v="focus",y=il;break;case"focusout":v="blur",y=il;break;case"beforeblur":case"afterblur":y=il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=uv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Nv;break;case Om:case zm:case Bm:y=fv;break;case $m:y=Tv;break;case"scroll":y=lv;break;case"wheel":y=Ev;break;case"copy":case"cut":case"paste":y=mv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gh}var w=(t&4)!==0,k=!w&&e==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,g;m!==null;){g=m;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,p!==null&&(j=cs(m,p),j!=null&&w.push(gs(m,j,g)))),k)break;m=m.return}0<w.length&&(f=new y(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&n!==ql&&(v=n.relatedTarget||n.fromElement)&&(ar(v)||v[un]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?ar(v):null,v!==null&&(k=br(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=ph,j="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=gh,j="onPointerLeave",p="onPointerEnter",m="pointer"),k=y==null?f:Ur(y),g=v==null?f:Ur(v),f=new w(j,m+"leave",y,n,d),f.target=k,f.relatedTarget=g,j=null,ar(d)===u&&(w=new w(p,m+"enter",v,n,d),w.target=g,w.relatedTarget=k,j=w),k=j,y&&v)t:{for(w=y,p=v,m=0,g=w;g;g=Ir(g))m++;for(g=0,j=p;j;j=Ir(j))g++;for(;0<m-g;)w=Ir(w),m--;for(;0<g-m;)p=Ir(p),g--;for(;m--;){if(w===p||p!==null&&w===p.alternate)break t;w=Ir(w),p=Ir(p)}w=null}else w=null;y!==null&&Th(h,f,y,w,!1),v!==null&&k!==null&&Th(h,k,v,w,!0)}}e:{if(f=u?Ur(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var b=Fv;else if(vh(f))if(Dm)b=Ov;else{b=Uv;var T=_v}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Vv);if(b&&(b=b(e,u))){Lm(h,b,n,d);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Kl(f,"number",f.value)}switch(T=u?Ur(u):window,e){case"focusin":(vh(T)||T.contentEditable==="true")&&(Fr=T,oc=u,Zi=null);break;case"focusout":Zi=oc=Fr=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,bh(h,n,d);break;case"selectionchange":if($v)break;case"keydown":case"keyup":bh(h,n,d)}var M;if(Mu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Dr?Am(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Im&&n.locale!=="ko"&&(Dr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Dr&&(M=Mm()):(Nn=d,Tu="value"in Nn?Nn.value:Nn.textContent,Dr=!0)),T=Ho(u,C),0<T.length&&(C=new mh(C,e,null,n,d),h.push({event:C,listeners:T}),M?C.data=M:(M=Rm(n),M!==null&&(C.data=M)))),(M=Iv?Av(e,n):Rv(e,n))&&(u=Ho(u,"onBeforeInput"),0<u.length&&(d=new mh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=M))}Gm(h,t)})}function gs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ho(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cs(e,n),s!=null&&r.unshift(gs(e,s,i)),s=cs(e,t),s!=null&&r.push(gs(e,s,i))),e=e.return}return r}function Ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Th(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=cs(n,s),c!=null&&o.unshift(gs(n,c,l))):i||(c=cs(n,s),c!=null&&o.push(gs(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Hv=/\r\n?/g,Kv=/\u0000|\uFFFD/g;function Ph(e){return(typeof e=="string"?e:""+e).replace(Hv,`
`).replace(Kv,"")}function ho(e,t,n){if(t=Ph(t),Ph(e)!==t&&n)throw Error(I(425))}function Ko(){}var lc=null,cc=null;function uc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dc=typeof setTimeout=="function"?setTimeout:void 0,Qv=typeof clearTimeout=="function"?clearTimeout:void 0,Eh=typeof Promise=="function"?Promise:void 0,Xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Eh<"u"?function(e){return Eh.resolve(null).then(e).catch(Zv)}:dc;function Zv(e){setTimeout(function(){throw e})}function hl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),hs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hs(t)}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),Yt="__reactFiber$"+gi,ys="__reactProps$"+gi,un="__reactContainer$"+gi,hc="__reactEvents$"+gi,Jv="__reactListeners$"+gi,qv="__reactHandles$"+gi;function ar(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[un]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mh(e);e!==null;){if(n=e[Yt])return n;e=Mh(e)}return t}e=n,n=e.parentNode}return null}function Ds(e){return e=e[Yt]||e[un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function ka(e){return e[ys]||null}var fc=[],Vr=-1;function Bn(e){return{current:e}}function de(e){0>Vr||(e.current=fc[Vr],fc[Vr]=null,Vr--)}function le(e,t){Vr++,fc[Vr]=e.current,e.current=t}var Un={},Xe=Bn(Un),lt=Bn(!1),yr=Un;function oi(e,t){var n=e.type.contextTypes;if(!n)return Un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ct(e){return e=e.childContextTypes,e!=null}function Qo(){de(lt),de(Xe)}function Ih(e,t,n){if(Xe.current!==Un)throw Error(I(168));le(Xe,t),le(lt,n)}function Hm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,_x(e)||"Unknown",i));return ve({},n,r)}function Xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Un,yr=Xe.current,le(Xe,e),le(lt,lt.current),!0}function Ah(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Hm(e,t,yr),r.__reactInternalMemoizedMergedChildContext=e,de(lt),de(Xe),le(Xe,e)):de(lt),le(lt,n)}var rn=null,ja=!1,fl=!1;function Km(e){rn===null?rn=[e]:rn.push(e)}function ew(e){ja=!0,Km(e)}function $n(){if(!fl&&rn!==null){fl=!0;var e=0,t=ne;try{var n=rn;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,ja=!1}catch(i){throw rn!==null&&(rn=rn.slice(e+1)),vm(ju,$n),i}finally{ne=t,fl=!1}}return null}var Or=[],zr=0,Zo=null,Jo=0,Tt=[],Pt=0,xr=null,sn=1,on="";function Zn(e,t){Or[zr++]=Jo,Or[zr++]=Zo,Zo=e,Jo=t}function Qm(e,t,n){Tt[Pt++]=sn,Tt[Pt++]=on,Tt[Pt++]=xr,xr=e;var r=sn;e=on;var i=32-zt(r)-1;r&=~(1<<i),n+=1;var s=32-zt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,sn=1<<32-zt(t)+i|n<<i|r,on=s+e}else sn=1<<s|n<<i|r,on=e}function Au(e){e.return!==null&&(Zn(e,1),Qm(e,1,0))}function Ru(e){for(;e===Zo;)Zo=Or[--zr],Or[zr]=null,Jo=Or[--zr],Or[zr]=null;for(;e===xr;)xr=Tt[--Pt],Tt[Pt]=null,on=Tt[--Pt],Tt[Pt]=null,sn=Tt[--Pt],Tt[Pt]=null}var gt=null,mt=null,he=!1,Ot=null;function Xm(e,t){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,mt=In(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xr!==null?{id:sn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,mt=null,!0):!1;default:return!1}}function pc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mc(e){if(he){var t=mt;if(t){var n=t;if(!Rh(e,t)){if(pc(e))throw Error(I(418));t=In(n.nextSibling);var r=gt;t&&Rh(e,t)?Xm(r,n):(e.flags=e.flags&-4097|2,he=!1,gt=e)}}else{if(pc(e))throw Error(I(418));e.flags=e.flags&-4097|2,he=!1,gt=e}}}function Lh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function fo(e){if(e!==gt)return!1;if(!he)return Lh(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uc(e.type,e.memoizedProps)),t&&(t=mt)){if(pc(e))throw Zm(),Error(I(418));for(;t;)Xm(e,t),t=In(t.nextSibling)}if(Lh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=In(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=gt?In(e.stateNode.nextSibling):null;return!0}function Zm(){for(var e=mt;e;)e=In(e.nextSibling)}function ai(){mt=gt=null,he=!1}function Lu(e){Ot===null?Ot=[e]:Ot.push(e)}var tw=mn.ReactCurrentBatchConfig;function _i(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function po(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dh(e){var t=e._init;return t(e._payload)}function Jm(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=Dn(p,m),p.index=0,p.sibling=null,p}function s(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,j){return m===null||m.tag!==6?(m=wl(g,p.mode,j),m.return=p,m):(m=i(m,g),m.return=p,m)}function c(p,m,g,j){var b=g.type;return b===Lr?d(p,m,g.props.children,j,g.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sn&&Dh(b)===m.type)?(j=i(m,g.props),j.ref=_i(p,m,g),j.return=p,j):(j=Do(g.type,g.key,g.props,null,p.mode,j),j.ref=_i(p,m,g),j.return=p,j)}function u(p,m,g,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Sl(g,p.mode,j),m.return=p,m):(m=i(m,g.children||[]),m.return=p,m)}function d(p,m,g,j,b){return m===null||m.tag!==7?(m=fr(g,p.mode,j,b),m.return=p,m):(m=i(m,g),m.return=p,m)}function h(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wl(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case no:return g=Do(m.type,m.key,m.props,null,p.mode,g),g.ref=_i(p,null,m),g.return=p,g;case Rr:return m=Sl(m,p.mode,g),m.return=p,m;case Sn:var j=m._init;return h(p,j(m._payload),g)}if($i(m)||Ai(m))return m=fr(m,p.mode,g,null),m.return=p,m;po(p,m)}return null}function f(p,m,g,j){var b=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:l(p,m,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case no:return g.key===b?c(p,m,g,j):null;case Rr:return g.key===b?u(p,m,g,j):null;case Sn:return b=g._init,f(p,m,b(g._payload),j)}if($i(g)||Ai(g))return b!==null?null:d(p,m,g,j,null);po(p,g)}return null}function y(p,m,g,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(g)||null,l(m,p,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case no:return p=p.get(j.key===null?g:j.key)||null,c(m,p,j,b);case Rr:return p=p.get(j.key===null?g:j.key)||null,u(m,p,j,b);case Sn:var T=j._init;return y(p,m,g,T(j._payload),b)}if($i(j)||Ai(j))return p=p.get(g)||null,d(m,p,j,b,null);po(m,j)}return null}function v(p,m,g,j){for(var b=null,T=null,M=m,C=m=0,$=null;M!==null&&C<g.length;C++){M.index>C?($=M,M=null):$=M.sibling;var W=f(p,M,g[C],j);if(W===null){M===null&&(M=$);break}e&&M&&W.alternate===null&&t(p,M),m=s(W,m,C),T===null?b=W:T.sibling=W,T=W,M=$}if(C===g.length)return n(p,M),he&&Zn(p,C),b;if(M===null){for(;C<g.length;C++)M=h(p,g[C],j),M!==null&&(m=s(M,m,C),T===null?b=M:T.sibling=M,T=M);return he&&Zn(p,C),b}for(M=r(p,M);C<g.length;C++)$=y(M,p,C,g[C],j),$!==null&&(e&&$.alternate!==null&&M.delete($.key===null?C:$.key),m=s($,m,C),T===null?b=$:T.sibling=$,T=$);return e&&M.forEach(function(ie){return t(p,ie)}),he&&Zn(p,C),b}function w(p,m,g,j){var b=Ai(g);if(typeof b!="function")throw Error(I(150));if(g=b.call(g),g==null)throw Error(I(151));for(var T=b=null,M=m,C=m=0,$=null,W=g.next();M!==null&&!W.done;C++,W=g.next()){M.index>C?($=M,M=null):$=M.sibling;var ie=f(p,M,W.value,j);if(ie===null){M===null&&(M=$);break}e&&M&&ie.alternate===null&&t(p,M),m=s(ie,m,C),T===null?b=ie:T.sibling=ie,T=ie,M=$}if(W.done)return n(p,M),he&&Zn(p,C),b;if(M===null){for(;!W.done;C++,W=g.next())W=h(p,W.value,j),W!==null&&(m=s(W,m,C),T===null?b=W:T.sibling=W,T=W);return he&&Zn(p,C),b}for(M=r(p,M);!W.done;C++,W=g.next())W=y(M,p,C,W.value,j),W!==null&&(e&&W.alternate!==null&&M.delete(W.key===null?C:W.key),m=s(W,m,C),T===null?b=W:T.sibling=W,T=W);return e&&M.forEach(function(ke){return t(p,ke)}),he&&Zn(p,C),b}function k(p,m,g,j){if(typeof g=="object"&&g!==null&&g.type===Lr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case no:e:{for(var b=g.key,T=m;T!==null;){if(T.key===b){if(b=g.type,b===Lr){if(T.tag===7){n(p,T.sibling),m=i(T,g.props.children),m.return=p,p=m;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sn&&Dh(b)===T.type){n(p,T.sibling),m=i(T,g.props),m.ref=_i(p,T,g),m.return=p,p=m;break e}n(p,T);break}else t(p,T);T=T.sibling}g.type===Lr?(m=fr(g.props.children,p.mode,j,g.key),m.return=p,p=m):(j=Do(g.type,g.key,g.props,null,p.mode,j),j.ref=_i(p,m,g),j.return=p,p=j)}return o(p);case Rr:e:{for(T=g.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(p,m.sibling),m=i(m,g.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=Sl(g,p.mode,j),m.return=p,p=m}return o(p);case Sn:return T=g._init,k(p,m,T(g._payload),j)}if($i(g))return v(p,m,g,j);if(Ai(g))return w(p,m,g,j);po(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,g),m.return=p,p=m):(n(p,m),m=wl(g,p.mode,j),m.return=p,p=m),o(p)):n(p,m)}return k}var li=Jm(!0),qm=Jm(!1),qo=Bn(null),ea=null,Br=null,Du=null;function Fu(){Du=Br=ea=null}function _u(e){var t=qo.current;de(qo),e._currentValue=t}function gc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ti(e,t){ea=e,Du=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Du!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(ea===null)throw Error(I(308));Br=e,ea.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var lr=null;function Uu(e){lr===null?lr=[e]:lr.push(e)}function eg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Uu(t)):(n.next=i.next,i.next=n),t.interleaved=n,dn(e,r)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kn=!1;function Vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,dn(e,n)}return i=r.interleaved,i===null?(t.next=t,Uu(r)):(t.next=i.next,i.next=t),r.interleaved=t,dn(e,n)}function Eo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bu(e,n)}}function Fh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ta(e,t,n,r){var i=e.updateQueue;kn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,d=u=c=null,l=s;do{var f=l.lane,y=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(f=t,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=ve({},h,f);break e;case 2:kn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);wr|=o,e.lanes=o,e.memoizedState=h}}function _h(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var Fs={},Qt=Bn(Fs),xs=Bn(Fs),vs=Bn(Fs);function cr(e){if(e===Fs)throw Error(I(174));return e}function Ou(e,t){switch(le(vs,t),le(xs,e),le(Qt,Fs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xl(t,e)}de(Qt),le(Qt,t)}function ci(){de(Qt),de(xs),de(vs)}function ng(e){cr(vs.current);var t=cr(Qt.current),n=Xl(t,e.type);t!==n&&(le(xs,e),le(Qt,n))}function zu(e){xs.current===e&&(de(Qt),de(xs))}var ge=Bn(0);function na(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pl=[];function Bu(){for(var e=0;e<pl.length;e++)pl[e]._workInProgressVersionPrimary=null;pl.length=0}var Mo=mn.ReactCurrentDispatcher,ml=mn.ReactCurrentBatchConfig,vr=0,xe=null,Me=null,Fe=null,ra=!1,Ji=!1,ws=0,nw=0;function Ge(){throw Error(I(321))}function $u(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Wu(e,t,n,r,i,s){if(vr=s,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mo.current=e===null||e.memoizedState===null?ow:aw,e=n(r,i),Ji){s=0;do{if(Ji=!1,ws=0,25<=s)throw Error(I(301));s+=1,Fe=Me=null,t.updateQueue=null,Mo.current=lw,e=n(r,i)}while(Ji)}if(Mo.current=ia,t=Me!==null&&Me.next!==null,vr=0,Fe=Me=xe=null,ra=!1,t)throw Error(I(300));return e}function Gu(){var e=ws!==0;return ws=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?xe.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Rt(){if(Me===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Fe===null?xe.memoizedState:Fe.next;if(t!==null)Fe=t,Me=e;else{if(e===null)throw Error(I(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Fe===null?xe.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Ss(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=Rt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((vr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,xe.lanes|=d,wr|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,$t(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,xe.lanes|=s,wr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yl(e){var t=Rt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);$t(s,t.memoizedState)||(ot=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function rg(){}function ig(e,t){var n=xe,r=Rt(),i=t(),s=!$t(r.memoizedState,i);if(s&&(r.memoizedState=i,ot=!0),r=r.queue,Yu(ag.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,ks(9,og.bind(null,n,r,i,t),void 0,null),_e===null)throw Error(I(349));vr&30||sg(n,t,i)}return i}function sg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function og(e,t,n,r){t.value=n,t.getSnapshot=r,lg(t)&&cg(e)}function ag(e,t,n){return n(function(){lg(t)&&cg(e)})}function lg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function cg(e){var t=dn(e,1);t!==null&&Bt(t,e,1,-1)}function Uh(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:e},t.queue=e,e=e.dispatch=sw.bind(null,xe,e),[t.memoizedState,e]}function ks(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ug(){return Rt().memoizedState}function Io(e,t,n,r){var i=Gt();xe.flags|=e,i.memoizedState=ks(1|t,n,void 0,r===void 0?null:r)}function ba(e,t,n,r){var i=Rt();r=r===void 0?null:r;var s=void 0;if(Me!==null){var o=Me.memoizedState;if(s=o.destroy,r!==null&&$u(r,o.deps)){i.memoizedState=ks(t,n,s,r);return}}xe.flags|=e,i.memoizedState=ks(1|t,n,s,r)}function Vh(e,t){return Io(8390656,8,e,t)}function Yu(e,t){return ba(2048,8,e,t)}function dg(e,t){return ba(4,2,e,t)}function hg(e,t){return ba(4,4,e,t)}function fg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pg(e,t,n){return n=n!=null?n.concat([e]):null,ba(4,4,fg.bind(null,t,e),n)}function Hu(){}function mg(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$u(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gg(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$u(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yg(e,t,n){return vr&21?($t(n,t)||(n=km(),xe.lanes|=n,wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n)}function rw(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=ml.transition;ml.transition={};try{e(!1),t()}finally{ne=n,ml.transition=r}}function xg(){return Rt().memoizedState}function iw(e,t,n){var r=Ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vg(e))wg(t,n);else if(n=eg(e,t,n,r),n!==null){var i=et();Bt(n,e,r,i),Sg(n,t,r)}}function sw(e,t,n){var r=Ln(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vg(e))wg(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,$t(l,o)){var c=t.interleaved;c===null?(i.next=i,Uu(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=eg(e,t,i,r),n!==null&&(i=et(),Bt(n,e,r,i),Sg(n,t,r))}}function vg(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function wg(e,t){Ji=ra=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bu(e,n)}}var ia={readContext:At,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},ow={readContext:At,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Vh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Io(4194308,4,fg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=iw.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Uh,useDebugValue:Hu,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Uh(!1),t=e[0];return e=rw.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,i=Gt();if(he){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),_e===null)throw Error(I(349));vr&30||sg(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Vh(ag.bind(null,r,s,e),[e]),r.flags|=2048,ks(9,og.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Gt(),t=_e.identifierPrefix;if(he){var n=on,r=sn;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ws++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aw={readContext:At,useCallback:mg,useContext:At,useEffect:Yu,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:gl,useRef:ug,useState:function(){return gl(Ss)},useDebugValue:Hu,useDeferredValue:function(e){var t=Rt();return yg(t,Me.memoizedState,e)},useTransition:function(){var e=gl(Ss)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:rg,useSyncExternalStore:ig,useId:xg,unstable_isNewReconciler:!1},lw={readContext:At,useCallback:mg,useContext:At,useEffect:Yu,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:yl,useRef:ug,useState:function(){return yl(Ss)},useDebugValue:Hu,useDeferredValue:function(e){var t=Rt();return Me===null?t.memoizedState=e:yg(t,Me.memoizedState,e)},useTransition:function(){var e=yl(Ss)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:rg,useSyncExternalStore:ig,useId:xg,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Na={isMounted:function(e){return(e=e._reactInternals)?br(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),i=Ln(e),s=ln(r,i);s.payload=t,n!=null&&(s.callback=n),t=An(e,s,i),t!==null&&(Bt(t,e,i,r),Eo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),i=Ln(e),s=ln(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=An(e,s,i),t!==null&&(Bt(t,e,i,r),Eo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=Ln(e),i=ln(n,r);i.tag=2,t!=null&&(i.callback=t),t=An(e,i,r),t!==null&&(Bt(t,e,r,n),Eo(t,e,r))}};function Oh(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ps(n,r)||!ps(i,s):!0}function kg(e,t,n){var r=!1,i=Un,s=t.contextType;return typeof s=="object"&&s!==null?s=At(s):(i=ct(t)?yr:Xe.current,r=t.contextTypes,s=(r=r!=null)?oi(e,i):Un),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Na,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function zh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Na.enqueueReplaceState(t,t.state,null)}function xc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Vu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=At(s):(s=ct(t)?yr:Xe.current,i.context=oi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Na.enqueueReplaceState(i,i.state,null),ta(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ui(e,t){try{var n="",r=t;do n+=Fx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function xl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cw=typeof WeakMap=="function"?WeakMap:Map;function jg(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oa||(oa=!0,Ec=r),vc(e,t)},n}function bg(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){vc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vc(e,t),typeof r!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Bh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cw;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jw.bind(null,e,t,n),t.then(e,e))}function $h(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wh(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var uw=mn.ReactCurrentOwner,ot=!1;function Je(e,t,n,r){t.child=e===null?qm(t,null,n,r):li(t,e.child,n,r)}function Gh(e,t,n,r,i){n=n.render;var s=t.ref;return ti(t,i),r=Wu(e,t,n,r,s,i),n=Gu(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hn(e,t,i)):(he&&n&&Au(t),t.flags|=1,Je(e,t,r,i),t.child)}function Yh(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!td(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ng(e,t,s,r,i)):(e=Do(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ps,n(o,r)&&e.ref===t.ref)return hn(e,t,i)}return t.flags|=1,e=Dn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ng(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ps(s,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,hn(e,t,i)}return wc(e,t,n,r,i)}function Cg(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Wr,ft),ft|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Wr,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,le(Wr,ft),ft|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,le(Wr,ft),ft|=r;return Je(e,t,i,n),t.child}function Tg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wc(e,t,n,r,i){var s=ct(n)?yr:Xe.current;return s=oi(t,s),ti(t,i),n=Wu(e,t,n,r,s,i),r=Gu(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hn(e,t,i)):(he&&r&&Au(t),t.flags|=1,Je(e,t,n,i),t.child)}function Hh(e,t,n,r,i){if(ct(n)){var s=!0;Xo(t)}else s=!1;if(ti(t,i),t.stateNode===null)Ao(e,t),kg(t,n,r),xc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=ct(n)?yr:Xe.current,u=oi(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&zh(t,o,r,u),kn=!1;var f=t.memoizedState;o.state=f,ta(t,r,o,i),c=t.memoizedState,l!==r||f!==c||lt.current||kn?(typeof d=="function"&&(yc(t,n,d,r),c=t.memoizedState),(l=kn||Oh(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,tg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ut(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=At(c):(c=ct(n)?yr:Xe.current,c=oi(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&zh(t,o,r,c),kn=!1,f=t.memoizedState,o.state=f,ta(t,r,o,i);var v=t.memoizedState;l!==h||f!==v||lt.current||kn?(typeof y=="function"&&(yc(t,n,y,r),v=t.memoizedState),(u=kn||Oh(t,n,u,r,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Sc(e,t,n,r,s,i)}function Sc(e,t,n,r,i,s){Tg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Ah(t,n,!1),hn(e,t,s);r=t.stateNode,uw.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=li(t,e.child,null,s),t.child=li(t,null,l,s)):Je(e,t,l,s),t.memoizedState=r.state,i&&Ah(t,n,!0),t.child}function Pg(e){var t=e.stateNode;t.pendingContext?Ih(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ih(e,t.context,!1),Ou(e,t.containerInfo)}function Kh(e,t,n,r,i){return ai(),Lu(i),t.flags|=256,Je(e,t,n,r),t.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function jc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eg(e,t,n){var r=t.pendingProps,i=ge.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),le(ge,i&1),e===null)return mc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pa(o,r,0,null),e=fr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=jc(n),t.memoizedState=kc,e):Ku(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return dw(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Dn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Dn(l,s):(s=fr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?jc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=kc,r}return s=e.child,e=s.sibling,r=Dn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ku(e,t){return t=Pa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mo(e,t,n,r){return r!==null&&Lu(r),li(t,e.child,null,n),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dw(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=xl(Error(I(422))),mo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Pa({mode:"visible",children:r.children},i,0,null),s=fr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&li(t,e.child,null,o),t.child.memoizedState=jc(o),t.memoizedState=kc,s);if(!(t.mode&1))return mo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(I(419)),r=xl(s,r,void 0),mo(e,t,o,r)}if(l=(o&e.childLanes)!==0,ot||l){if(r=_e,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,dn(e,i),Bt(r,e,i,-1))}return ed(),r=xl(Error(I(421))),mo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bw.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,mt=In(i.nextSibling),gt=t,he=!0,Ot=null,e!==null&&(Tt[Pt++]=sn,Tt[Pt++]=on,Tt[Pt++]=xr,sn=e.id,on=e.overflow,xr=t),t=Ku(t,r.children),t.flags|=4096,t)}function Qh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gc(e.return,t,n)}function vl(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Mg(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Je(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qh(e,n,t);else if(e.tag===19)Qh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&na(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),vl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&na(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}vl(t,!0,n,null,s);break;case"together":vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hw(e,t,n){switch(t.tag){case 3:Pg(t),ai();break;case 5:ng(t);break;case 1:ct(t.type)&&Xo(t);break;case 4:Ou(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;le(qo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?Eg(e,t,n):(le(ge,ge.current&1),e=hn(e,t,n),e!==null?e.sibling:null);le(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Mg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Cg(e,t,n)}return hn(e,t,n)}var Ig,bc,Ag,Rg;Ig=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bc=function(){};Ag=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,cr(Qt.current);var s=null;switch(n){case"input":i=Yl(e,i),r=Yl(e,r),s=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),s=[];break;case"textarea":i=Ql(e,i),r=Ql(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ko)}Zl(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(as.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(as.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ue("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Rg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ui(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fw(e,t,n){var r=t.pendingProps;switch(Ru(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ct(t.type)&&Qo(),Ye(t),null;case 3:return r=t.stateNode,ci(),de(lt),de(Xe),Bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Ac(Ot),Ot=null))),bc(e,t),Ye(t),null;case 5:zu(t);var i=cr(vs.current);if(n=t.type,e!==null&&t.stateNode!=null)Ag(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ye(t),null}if(e=cr(Qt.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yt]=t,r[ys]=s,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<Gi.length;i++)ue(Gi[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":ih(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":oh(r,s),ue("invalid",r)}Zl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ho(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ho(r.textContent,l,e),i=["children",""+l]):as.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":ro(r),sh(r,s,!0);break;case"textarea":ro(r),ah(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ko)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=am(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Yt]=t,e[ys]=r,Ig(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jl(n,r),n){case"dialog":ue("cancel",e),ue("close",e),i=r;break;case"iframe":case"object":case"embed":ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gi.length;i++)ue(Gi[i],e);i=r;break;case"source":ue("error",e),i=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=r;break;case"details":ue("toggle",e),i=r;break;case"input":ih(e,r),i=Yl(e,r),ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),ue("invalid",e);break;case"textarea":oh(e,r),i=Ql(e,r),ue("invalid",e);break;default:i=r}Zl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?um(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lm(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ls(e,c):typeof c=="number"&&ls(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(as.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ue("scroll",e):c!=null&&xu(e,s,c,o))}switch(n){case"input":ro(e),sh(e,r,!1);break;case"textarea":ro(e),ah(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Zr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Zr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ko)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)Rg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=cr(vs.current),cr(Qt.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(s=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:ho(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ho(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return Ye(t),null;case 13:if(de(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&mt!==null&&t.mode&1&&!(t.flags&128))Zm(),ai(),t.flags|=98560,s=!1;else if(s=fo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(I(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[Yt]=t}else ai(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),s=!1}else Ot!==null&&(Ac(Ot),Ot=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ie===0&&(Ie=3):ed())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return ci(),bc(e,t),e===null&&ms(t.stateNode.containerInfo),Ye(t),null;case 10:return _u(t.type._context),Ye(t),null;case 17:return ct(t.type)&&Qo(),Ye(t),null;case 19:if(de(ge),s=t.memoizedState,s===null)return Ye(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ui(s,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=na(e),o!==null){for(t.flags|=128,Ui(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(ge,ge.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ne()>di&&(t.flags|=128,r=!0,Ui(s,!1),t.lanes=4194304)}else{if(!r)if(e=na(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ui(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!he)return Ye(t),null}else 2*Ne()-s.renderingStartTime>di&&n!==1073741824&&(t.flags|=128,r=!0,Ui(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ne(),t.sibling=null,n=ge.current,le(ge,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return qu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function pw(e,t){switch(Ru(t),t.tag){case 1:return ct(t.type)&&Qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ci(),de(lt),de(Xe),Bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zu(t),null;case 13:if(de(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(ge),null;case 4:return ci(),null;case 10:return _u(t.type._context),null;case 22:case 23:return qu(),null;case 24:return null;default:return null}}var go=!1,Ke=!1,mw=typeof WeakSet=="function"?WeakSet:Set,F=null;function $r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Nc(e,t,n){try{n()}catch(r){Se(e,t,r)}}var Xh=!1;function gw(e,t){if(lc=Go,e=Um(),Iu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(cc={focusedElem:e,selectionRange:n},Go=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ut(t.type,w),k);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(j){Se(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return v=Xh,Xh=!1,v}function qi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nc(t,n,s)}i=i.next}while(i!==r)}}function Ca(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lg(e){var t=e.alternate;t!==null&&(e.alternate=null,Lg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[ys],delete t[hc],delete t[Jv],delete t[qv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dg(e){return e.tag===5||e.tag===3||e.tag===4}function Zh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ko));else if(r!==4&&(e=e.child,e!==null))for(Tc(e,t,n),e=e.sibling;e!==null;)Tc(e,t,n),e=e.sibling}function Pc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pc(e,t,n),e=e.sibling;e!==null;)Pc(e,t,n),e=e.sibling}var Oe=null,Vt=!1;function xn(e,t,n){for(n=n.child;n!==null;)Fg(e,t,n),n=n.sibling}function Fg(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(xa,n)}catch{}switch(n.tag){case 5:Ke||$r(n,t);case 6:var r=Oe,i=Vt;Oe=null,xn(e,t,n),Oe=r,Vt=i,Oe!==null&&(Vt?(e=Oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(Vt?(e=Oe,n=n.stateNode,e.nodeType===8?hl(e.parentNode,n):e.nodeType===1&&hl(e,n),hs(e)):hl(Oe,n.stateNode));break;case 4:r=Oe,i=Vt,Oe=n.stateNode.containerInfo,Vt=!0,xn(e,t,n),Oe=r,Vt=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nc(n,t,o),i=i.next}while(i!==r)}xn(e,t,n);break;case 1:if(!Ke&&($r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,xn(e,t,n),Ke=r):xn(e,t,n);break;default:xn(e,t,n)}}function Jh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mw),t.forEach(function(r){var i=Nw.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Oe=l.stateNode,Vt=!1;break e;case 3:Oe=l.stateNode.containerInfo,Vt=!0;break e;case 4:Oe=l.stateNode.containerInfo,Vt=!0;break e}l=l.return}if(Oe===null)throw Error(I(160));Fg(s,o,i),Oe=null,Vt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Se(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_g(t,e),t=t.sibling}function _g(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Wt(e),r&4){try{qi(3,e,e.return),Ca(3,e)}catch(w){Se(e,e.return,w)}try{qi(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:Ft(t,e),Wt(e),r&512&&n!==null&&$r(n,n.return);break;case 5:if(Ft(t,e),Wt(e),r&512&&n!==null&&$r(n,n.return),e.flags&32){var i=e.stateNode;try{ls(i,"")}catch(w){Se(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&sm(i,s),Jl(l,o);var u=Jl(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?um(i,h):d==="dangerouslySetInnerHTML"?lm(i,h):d==="children"?ls(i,h):xu(i,d,h,u)}switch(l){case"input":Hl(i,s);break;case"textarea":om(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Zr(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zr(i,!!s.multiple,s.defaultValue,!0):Zr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ys]=s}catch(w){Se(e,e.return,w)}}break;case 6:if(Ft(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Se(e,e.return,w)}}break;case 3:if(Ft(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hs(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:Ft(t,e),Wt(e);break;case 13:Ft(t,e),Wt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zu=Ne())),r&4&&Jh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(u=Ke)||d,Ft(t,e),Ke=u):Ft(t,e),Wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(h=F=d;F!==null;){switch(f=F,y=f.child,f.tag){case 0:case 11:case 14:case 15:qi(4,f,f.return);break;case 1:$r(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:$r(f,f.return);break;case 22:if(f.memoizedState!==null){ef(h);continue}}y!==null?(y.return=f,F=y):ef(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cm("display",o))}catch(w){Se(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Se(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ft(t,e),Wt(e),r&4&&Jh(e);break;case 21:break;default:Ft(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dg(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ls(i,""),r.flags&=-33);var s=Zh(e);Pc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Zh(e);Tc(e,l,o);break;default:throw Error(I(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yw(e,t,n){F=e,Ug(e)}function Ug(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||go;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ke;l=go;var u=Ke;if(go=o,(Ke=c)&&!u)for(F=i;F!==null;)o=F,c=o.child,o.tag===22&&o.memoizedState!==null?tf(i):c!==null?(c.return=o,F=c):tf(i);for(;s!==null;)F=s,Ug(s),s=s.sibling;F=i,go=l,Ke=u}qh(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):qh(e)}}function qh(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Ca(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ut(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&_h(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_h(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&hs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ke||t.flags&512&&Cc(t)}catch(f){Se(t,t.return,f)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function ef(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function tf(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ca(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Se(t,i,c)}}var s=t.return;try{Cc(t)}catch(c){Se(t,s,c)}break;case 5:var o=t.return;try{Cc(t)}catch(c){Se(t,o,c)}}}catch(c){Se(t,t.return,c)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var xw=Math.ceil,sa=mn.ReactCurrentDispatcher,Qu=mn.ReactCurrentOwner,Mt=mn.ReactCurrentBatchConfig,ee=0,_e=null,Pe=null,Be=0,ft=0,Wr=Bn(0),Ie=0,js=null,wr=0,Ta=0,Xu=0,es=null,st=null,Zu=0,di=1/0,nn=null,oa=!1,Ec=null,Rn=null,yo=!1,Cn=null,aa=0,ts=0,Mc=null,Ro=-1,Lo=0;function et(){return ee&6?Ne():Ro!==-1?Ro:Ro=Ne()}function Ln(e){return e.mode&1?ee&2&&Be!==0?Be&-Be:tw.transition!==null?(Lo===0&&(Lo=km()),Lo):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Em(e.type)),e):1}function Bt(e,t,n,r){if(50<ts)throw ts=0,Mc=null,Error(I(185));Rs(e,n,r),(!(ee&2)||e!==_e)&&(e===_e&&(!(ee&2)&&(Ta|=n),Ie===4&&bn(e,Be)),ut(e,r),n===1&&ee===0&&!(t.mode&1)&&(di=Ne()+500,ja&&$n()))}function ut(e,t){var n=e.callbackNode;tv(e,t);var r=Wo(e,e===_e?Be:0);if(r===0)n!==null&&uh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uh(n),t===1)e.tag===0?ew(nf.bind(null,e)):Km(nf.bind(null,e)),Xv(function(){!(ee&6)&&$n()}),n=null;else{switch(jm(r)){case 1:n=ju;break;case 4:n=wm;break;case 16:n=$o;break;case 536870912:n=Sm;break;default:n=$o}n=Yg(n,Vg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vg(e,t){if(Ro=-1,Lo=0,ee&6)throw Error(I(327));var n=e.callbackNode;if(ni()&&e.callbackNode!==n)return null;var r=Wo(e,e===_e?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=la(e,r);else{t=r;var i=ee;ee|=2;var s=zg();(_e!==e||Be!==t)&&(nn=null,di=Ne()+500,hr(e,t));do try{Sw();break}catch(l){Og(e,l)}while(1);Fu(),sa.current=s,ee=i,Pe!==null?t=0:(_e=null,Be=0,t=Ie)}if(t!==0){if(t===2&&(i=rc(e),i!==0&&(r=i,t=Ic(e,i))),t===1)throw n=js,hr(e,0),bn(e,r),ut(e,Ne()),n;if(t===6)bn(e,r);else{if(i=e.current.alternate,!(r&30)&&!vw(i)&&(t=la(e,r),t===2&&(s=rc(e),s!==0&&(r=s,t=Ic(e,s))),t===1))throw n=js,hr(e,0),bn(e,r),ut(e,Ne()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:Jn(e,st,nn);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=Zu+500-Ne(),10<t)){if(Wo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dc(Jn.bind(null,e,st,nn),t);break}Jn(e,st,nn);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-zt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xw(r/1960))-r,10<r){e.timeoutHandle=dc(Jn.bind(null,e,st,nn),r);break}Jn(e,st,nn);break;case 5:Jn(e,st,nn);break;default:throw Error(I(329))}}}return ut(e,Ne()),e.callbackNode===n?Vg.bind(null,e):null}function Ic(e,t){var n=es;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=la(e,t),e!==2&&(t=st,st=n,t!==null&&Ac(t)),e}function Ac(e){st===null?st=e:st.push.apply(st,e)}function vw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$t(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~Xu,t&=~Ta,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function nf(e){if(ee&6)throw Error(I(327));ni();var t=Wo(e,0);if(!(t&1))return ut(e,Ne()),null;var n=la(e,t);if(e.tag!==0&&n===2){var r=rc(e);r!==0&&(t=r,n=Ic(e,r))}if(n===1)throw n=js,hr(e,0),bn(e,t),ut(e,Ne()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,st,nn),ut(e,Ne()),null}function Ju(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(di=Ne()+500,ja&&$n())}}function Sr(e){Cn!==null&&Cn.tag===0&&!(ee&6)&&ni();var t=ee;ee|=1;var n=Mt.transition,r=ne;try{if(Mt.transition=null,ne=1,e)return e()}finally{ne=r,Mt.transition=n,ee=t,!(ee&6)&&$n()}}function qu(){ft=Wr.current,de(Wr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qv(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Ru(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qo();break;case 3:ci(),de(lt),de(Xe),Bu();break;case 5:zu(r);break;case 4:ci();break;case 13:de(ge);break;case 19:de(ge);break;case 10:_u(r.type._context);break;case 22:case 23:qu()}n=n.return}if(_e=e,Pe=e=Dn(e.current,null),Be=ft=t,Ie=0,js=null,Xu=Ta=wr=0,st=es=null,lr!==null){for(t=0;t<lr.length;t++)if(n=lr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}lr=null}return e}function Og(e,t){do{var n=Pe;try{if(Fu(),Mo.current=ia,ra){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ra=!1}if(vr=0,Fe=Me=xe=null,Ji=!1,ws=0,Qu.current=null,n===null||n.return===null){Ie=1,js=t,Pe=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Be,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=$h(o);if(y!==null){y.flags&=-257,Wh(y,o,l,s,t),y.mode&1&&Bh(s,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){Bh(s,u,t),ed();break e}c=Error(I(426))}}else if(he&&l.mode&1){var k=$h(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Wh(k,o,l,s,t),Lu(ui(c,l));break e}}s=c=ui(c,l),Ie!==4&&(Ie=2),es===null?es=[s]:es.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=jg(s,c,t);Fh(s,p);break e;case 1:l=c;var m=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Rn===null||!Rn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=bg(s,l,t);Fh(s,j);break e}}s=s.return}while(s!==null)}$g(n)}catch(b){t=b,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(1)}function zg(){var e=sa.current;return sa.current=ia,e===null?ia:e}function ed(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),_e===null||!(wr&268435455)&&!(Ta&268435455)||bn(_e,Be)}function la(e,t){var n=ee;ee|=2;var r=zg();(_e!==e||Be!==t)&&(nn=null,hr(e,t));do try{ww();break}catch(i){Og(e,i)}while(1);if(Fu(),ee=n,sa.current=r,Pe!==null)throw Error(I(261));return _e=null,Be=0,Ie}function ww(){for(;Pe!==null;)Bg(Pe)}function Sw(){for(;Pe!==null&&!Yx();)Bg(Pe)}function Bg(e){var t=Gg(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?$g(e):Pe=t,Qu.current=null}function $g(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pw(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Pe=null;return}}else if(n=fw(n,t,ft),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ie===0&&(Ie=5)}function Jn(e,t,n){var r=ne,i=Mt.transition;try{Mt.transition=null,ne=1,kw(e,t,n,r)}finally{Mt.transition=i,ne=r}return null}function kw(e,t,n,r){do ni();while(Cn!==null);if(ee&6)throw Error(I(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(nv(e,s),e===_e&&(Pe=_e=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yo||(yo=!0,Yg($o,function(){return ni(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mt.transition,Mt.transition=null;var o=ne;ne=1;var l=ee;ee|=4,Qu.current=null,gw(e,n),_g(n,e),Bv(cc),Go=!!lc,cc=lc=null,e.current=n,yw(n),Hx(),ee=l,ne=o,Mt.transition=s}else e.current=n;if(yo&&(yo=!1,Cn=e,aa=i),s=e.pendingLanes,s===0&&(Rn=null),Xx(n.stateNode),ut(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oa)throw oa=!1,e=Ec,Ec=null,e;return aa&1&&e.tag!==0&&ni(),s=e.pendingLanes,s&1?e===Mc?ts++:(ts=0,Mc=e):ts=0,$n(),null}function ni(){if(Cn!==null){var e=jm(aa),t=Mt.transition,n=ne;try{if(Mt.transition=null,ne=16>e?16:e,Cn===null)var r=!1;else{if(e=Cn,Cn=null,aa=0,ee&6)throw Error(I(331));var i=ee;for(ee|=4,F=e.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(F=u;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:qi(8,d,s)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var f=d.sibling,y=d.return;if(Lg(d),d===u){F=null;break}if(f!==null){f.return=y,F=f;break}F=y}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qi(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,F=p;break e}F=s.return}}var m=e.current;for(F=m;F!==null;){o=F;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,F=g;else e:for(o=m;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ca(9,l)}}catch(b){Se(l,l.return,b)}if(l===o){F=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,F=j;break e}F=l.return}}if(ee=i,$n(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(xa,e)}catch{}r=!0}return r}finally{ne=n,Mt.transition=t}}return!1}function rf(e,t,n){t=ui(n,t),t=jg(e,t,1),e=An(e,t,1),t=et(),e!==null&&(Rs(e,1,t),ut(e,t))}function Se(e,t,n){if(e.tag===3)rf(e,e,n);else for(;t!==null;){if(t.tag===3){rf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rn===null||!Rn.has(r))){e=ui(n,e),e=bg(t,e,1),t=An(t,e,1),e=et(),t!==null&&(Rs(t,1,e),ut(t,e));break}}t=t.return}}function jw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Be&n)===n&&(Ie===4||Ie===3&&(Be&130023424)===Be&&500>Ne()-Zu?hr(e,0):Xu|=n),ut(e,t)}function Wg(e,t){t===0&&(e.mode&1?(t=oo,oo<<=1,!(oo&130023424)&&(oo=4194304)):t=1);var n=et();e=dn(e,t),e!==null&&(Rs(e,t,n),ut(e,n))}function bw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wg(e,n)}function Nw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Wg(e,n)}var Gg;Gg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ot=!1,hw(e,t,n);ot=!!(e.flags&131072)}else ot=!1,he&&t.flags&1048576&&Qm(t,Jo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ao(e,t),e=t.pendingProps;var i=oi(t,Xe.current);ti(t,n),i=Wu(null,t,r,e,i,n);var s=Gu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(r)?(s=!0,Xo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vu(t),i.updater=Na,t.stateNode=i,i._reactInternals=t,xc(t,r,e,n),t=Sc(null,t,r,!0,s,n)):(t.tag=0,he&&s&&Au(t),Je(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ao(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Tw(r),e=Ut(r,e),i){case 0:t=wc(null,t,r,e,n);break e;case 1:t=Hh(null,t,r,e,n);break e;case 11:t=Gh(null,t,r,e,n);break e;case 14:t=Yh(null,t,r,Ut(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),wc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),Hh(e,t,r,i,n);case 3:e:{if(Pg(t),e===null)throw Error(I(387));r=t.pendingProps,s=t.memoizedState,i=s.element,tg(e,t),ta(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ui(Error(I(423)),t),t=Kh(e,t,r,n,i);break e}else if(r!==i){i=ui(Error(I(424)),t),t=Kh(e,t,r,n,i);break e}else for(mt=In(t.stateNode.containerInfo.firstChild),gt=t,he=!0,Ot=null,n=qm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ai(),r===i){t=hn(e,t,n);break e}Je(e,t,r,n)}t=t.child}return t;case 5:return ng(t),e===null&&mc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,uc(r,i)?o=null:s!==null&&uc(r,s)&&(t.flags|=32),Tg(e,t),Je(e,t,o,n),t.child;case 6:return e===null&&mc(t),null;case 13:return Eg(e,t,n);case 4:return Ou(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=li(t,null,r,n):Je(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),Gh(e,t,r,i,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,le(qo,r._currentValue),r._currentValue=o,s!==null)if($t(s.value,o)){if(s.children===i.children&&!lt.current){t=hn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ln(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),gc(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),gc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Je(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ti(t,n),i=At(i),r=r(i),t.flags|=1,Je(e,t,r,n),t.child;case 14:return r=t.type,i=Ut(r,t.pendingProps),i=Ut(r.type,i),Yh(e,t,r,i,n);case 15:return Ng(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),Ao(e,t),t.tag=1,ct(r)?(e=!0,Xo(t)):e=!1,ti(t,n),kg(t,r,i),xc(t,r,i,n),Sc(null,t,r,!0,e,n);case 19:return Mg(e,t,n);case 22:return Cg(e,t,n)}throw Error(I(156,t.tag))};function Yg(e,t){return vm(e,t)}function Cw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,r){return new Cw(e,t,n,r)}function td(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tw(e){if(typeof e=="function")return td(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wu)return 11;if(e===Su)return 14}return 2}function Dn(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Do(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")td(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Lr:return fr(n.children,i,s,t);case vu:o=8,i|=8;break;case Bl:return e=Et(12,n,t,i|2),e.elementType=Bl,e.lanes=s,e;case $l:return e=Et(13,n,t,i),e.elementType=$l,e.lanes=s,e;case Wl:return e=Et(19,n,t,i),e.elementType=Wl,e.lanes=s,e;case nm:return Pa(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case em:o=10;break e;case tm:o=9;break e;case wu:o=11;break e;case Su:o=14;break e;case Sn:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Et(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function fr(e,t,n,r){return e=Et(7,e,r,t),e.lanes=n,e}function Pa(e,t,n,r){return e=Et(22,e,r,t),e.elementType=nm,e.lanes=n,e.stateNode={isHidden:!1},e}function wl(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function Sl(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pw(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nd(e,t,n,r,i,s,o,l,c){return e=new Pw(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Et(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vu(s),e}function Ew(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hg(e){if(!e)return Un;e=e._reactInternals;e:{if(br(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(ct(n))return Hm(e,n,t)}return t}function Kg(e,t,n,r,i,s,o,l,c){return e=nd(n,r,!0,e,i,s,o,l,c),e.context=Hg(null),n=e.current,r=et(),i=Ln(n),s=ln(r,i),s.callback=t??null,An(n,s,i),e.current.lanes=i,Rs(e,i,r),ut(e,r),e}function Ea(e,t,n,r){var i=t.current,s=et(),o=Ln(i);return n=Hg(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=An(i,t,o),e!==null&&(Bt(e,i,o,s),Eo(e,i,o)),o}function ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rd(e,t){sf(e,t),(e=e.alternate)&&sf(e,t)}function Mw(){return null}var Qg=typeof reportError=="function"?reportError:function(e){console.error(e)};function id(e){this._internalRoot=e}Ma.prototype.render=id.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ea(e,t,null,null)};Ma.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){Ea(null,e,null,null)}),t[un]=null}};function Ma(e){this._internalRoot=e}Ma.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&Pm(e)}};function sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function of(){}function Iw(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ca(o);s.call(u)}}var o=Kg(t,r,e,0,null,!1,!1,"",of);return e._reactRootContainer=o,e[un]=o.current,ms(e.nodeType===8?e.parentNode:e),Sr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ca(c);l.call(u)}}var c=nd(e,0,!1,null,null,!1,!1,"",of);return e._reactRootContainer=c,e[un]=c.current,ms(e.nodeType===8?e.parentNode:e),Sr(function(){Ea(t,c,n,r)}),c}function Aa(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=ca(o);l.call(c)}}Ea(t,o,e,i)}else o=Iw(n,t,e,i,r);return ca(o)}bm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wi(t.pendingLanes);n!==0&&(bu(t,n|1),ut(t,Ne()),!(ee&6)&&(di=Ne()+500,$n()))}break;case 13:Sr(function(){var r=dn(e,1);if(r!==null){var i=et();Bt(r,e,1,i)}}),rd(e,1)}};Nu=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=et();Bt(t,e,134217728,n)}rd(e,134217728)}};Nm=function(e){if(e.tag===13){var t=Ln(e),n=dn(e,t);if(n!==null){var r=et();Bt(n,e,t,r)}rd(e,t)}};Cm=function(){return ne};Tm=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};ec=function(e,t,n){switch(t){case"input":if(Hl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ka(r);if(!i)throw Error(I(90));im(r),Hl(r,i)}}}break;case"textarea":om(e,n);break;case"select":t=n.value,t!=null&&Zr(e,!!n.multiple,t,!1)}};fm=Ju;pm=Sr;var Aw={usingClientEntryPoint:!1,Events:[Ds,Ur,ka,dm,hm,Ju]},Vi={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rw={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ym(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||Mw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{xa=xo.inject(Rw),Kt=xo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aw;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sd(t))throw Error(I(200));return Ew(e,t,null,n)};xt.createRoot=function(e,t){if(!sd(e))throw Error(I(299));var n=!1,r="",i=Qg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nd(e,1,!1,null,null,n,!1,r,i),e[un]=t.current,ms(e.nodeType===8?e.parentNode:e),new id(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=ym(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Sr(e)};xt.hydrate=function(e,t,n){if(!Ia(t))throw Error(I(200));return Aa(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!sd(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Qg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Kg(t,null,e,1,n??null,i,!1,s,o),e[un]=t.current,ms(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ma(t)};xt.render=function(e,t,n){if(!Ia(t))throw Error(I(200));return Aa(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!Ia(e))throw Error(I(40));return e._reactRootContainer?(Sr(function(){Aa(null,null,e,!1,function(){e._reactRootContainer=null,e[un]=null})}),!0):!1};xt.unstable_batchedUpdates=Ju;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ia(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Aa(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Xg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xg)}catch(e){console.error(e)}}Xg(),Xp.exports=xt;var Lw=Xp.exports,af=Lw;Ol.createRoot=af.createRoot,Ol.hydrateRoot=af.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(this,arguments)}var Tn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tn||(Tn={}));const lf="popstate";function Dw(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return Rc("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jg(i)}return _w(t,n,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fw(){return Math.random().toString(36).substr(2,8)}function cf(e,t){return{usr:e.state,key:e.key,idx:t}}function Rc(e,t,n,r){return n===void 0&&(n=null),bs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yi(t):t,{state:n,key:t&&t.key||r||Fw()})}function Jg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function yi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function _w(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Tn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(bs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Tn.Pop;let k=d(),p=k==null?null:k-u;u=k,c&&c({action:l,location:w.location,delta:p})}function f(k,p){l=Tn.Push;let m=Rc(w.location,k,p);n&&n(m,k),u=d()+1;let g=cf(m,u),j=w.createHref(m);try{o.pushState(g,"",j)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(j)}s&&c&&c({action:l,location:w.location,delta:1})}function y(k,p){l=Tn.Replace;let m=Rc(w.location,k,p);n&&n(m,k),u=d();let g=cf(m,u),j=w.createHref(m);o.replaceState(g,"",j),s&&c&&c({action:l,location:w.location,delta:0})}function v(k){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof k=="string"?k:Jg(k);return m=m.replace(/ $/,"%20"),Ae(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let w={get action(){return l},get location(){return e(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(lf,h),c=k,()=>{i.removeEventListener(lf,h),c=null}},createHref(k){return t(i,k)},createURL:v,encodeLocation(k){let p=v(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:y,go(k){return o.go(k)}};return w}var uf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uf||(uf={}));function Uw(e,t,n){return n===void 0&&(n="/"),Vw(e,t,n,!1)}function Vw(e,t,n,r){let i=typeof t=="string"?yi(t):t,s=ty(i.pathname||"/",n);if(s==null)return null;let o=qg(e);Ow(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Zw(s);l=Qw(o[c],u,r)}return l}function qg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ae(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=pr([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qg(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Hw(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of ey(s.path))i(s,o,c)}),t}function ey(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ey(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ow(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Kw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zw=/^:[\w-]+$/,Bw=3,$w=2,Ww=1,Gw=10,Yw=-2,df=e=>e==="*";function Hw(e,t){let n=e.split("/"),r=n.length;return n.some(df)&&(r+=Yw),t&&(r+=$w),n.filter(i=>!df(i)).reduce((i,s)=>i+(zw.test(s)?Bw:s===""?Ww:Gw),r)}function Kw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Qw(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=hf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=hf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:pr([s,h.pathname]),pathnameBase:r1(pr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=pr([s,h.pathnameBase]))}return o}function hf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Xw(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let w=l[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[h];return y&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Xw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Zw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ty(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Jw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?yi(e):e;return{pathname:n?n.startsWith("/")?n:qw(n,t):t,search:i1(r),hash:s1(i)}}function qw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function t1(e,t){let n=e1(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function n1(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=yi(e):(i=bs({},e),Ae(!i.pathname||!i.pathname.includes("?"),kl("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),kl("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),kl("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Jw(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const pr=e=>e.join("/").replace(/\/\/+/g,"/"),r1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function o1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ny=["post","put","patch","delete"];new Set(ny);const a1=["get",...ny];new Set(a1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ns.apply(this,arguments)}const od=x.createContext(null),l1=x.createContext(null),Ra=x.createContext(null),La=x.createContext(null),xi=x.createContext({outlet:null,matches:[],isDataRoute:!1}),ry=x.createContext(null);function Da(){return x.useContext(La)!=null}function vi(){return Da()||Ae(!1),x.useContext(La).location}function iy(e){x.useContext(Ra).static||x.useLayoutEffect(e)}function Wn(){let{isDataRoute:e}=x.useContext(xi);return e?S1():c1()}function c1(){Da()||Ae(!1);let e=x.useContext(od),{basename:t,future:n,navigator:r}=x.useContext(Ra),{matches:i}=x.useContext(xi),{pathname:s}=vi(),o=JSON.stringify(t1(i,n.v7_relativeSplatPath)),l=x.useRef(!1);return iy(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=n1(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:pr([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,s,e])}function u1(e,t){return d1(e,t)}function d1(e,t,n,r){Da()||Ae(!1);let{navigator:i}=x.useContext(Ra),{matches:s}=x.useContext(xi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=vi(),d;if(t){var h;let k=typeof t=="string"?yi(t):t;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||Ae(!1),d=k}else d=u;let f=d.pathname||"/",y=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=Uw(e,{pathname:y}),w=g1(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:pr([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:pr([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return t&&w?x.createElement(La.Provider,{value:{location:Ns({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Tn.Pop}},w):w}function h1(){let e=w1(),t=o1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,s)}const f1=x.createElement(h1,null);class p1 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(xi.Provider,{value:this.props.routeContext},x.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m1(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(od);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(xi.Provider,{value:t},r)}function g1(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ae(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:y}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let y,v=!1,w=null,k=null;n&&(y=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||f1,c&&(u<0&&f===0?(k1("route-fallback",!1),v=!0,k=null):u===f&&(v=!0,k=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),m=()=>{let g;return y?g=w:v?g=k:h.route.Component?g=x.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,x.createElement(m1,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(p1,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var sy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sy||{}),ua=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ua||{});function y1(e){let t=x.useContext(od);return t||Ae(!1),t}function x1(e){let t=x.useContext(l1);return t||Ae(!1),t}function v1(e){let t=x.useContext(xi);return t||Ae(!1),t}function oy(e){let t=v1(),n=t.matches[t.matches.length-1];return n.route.id||Ae(!1),n.route.id}function w1(){var e;let t=x.useContext(ry),n=x1(ua.UseRouteError),r=oy(ua.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function S1(){let{router:e}=y1(sy.UseNavigateStable),t=oy(ua.UseNavigateStable),n=x.useRef(!1);return iy(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ns({fromRouteId:t},s)))},[e,t])}const ff={};function k1(e,t,n){!t&&!ff[e]&&(ff[e]=!0)}function j1(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function vn(e){Ae(!1)}function b1(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Tn.Pop,navigator:s,static:o=!1,future:l}=e;Da()&&Ae(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:Ns({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=yi(r));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:v="default"}=r,w=x.useMemo(()=>{let k=ty(d,c);return k==null?null:{location:{pathname:k,search:h,hash:f,state:y,key:v},navigationType:i}},[c,d,h,f,y,v,i]);return w==null?null:x.createElement(Ra.Provider,{value:u},x.createElement(La.Provider,{children:n,value:w}))}function N1(e){let{children:t,location:n}=e;return u1(Lc(t),n)}new Promise(()=>{});function Lc(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let s=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Lc(r.props.children,s));return}r.type!==vn&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lc(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const C1="6";try{window.__reactRouterVersion=C1}catch{}const T1="startTransition",pf=jx[T1];function P1(e){let{basename:t,children:n,future:r,window:i}=e,s=x.useRef();s.current==null&&(s.current=Dw({window:i,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=x.useCallback(h=>{u&&pf?pf(()=>c(h)):c(h)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>j1(r),[r]),x.createElement(b1,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var mf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mf||(mf={}));var gf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gf||(gf={}));var E1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const M1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I1=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...c},u)=>x.createElement("svg",{ref:u,...E1,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${M1(e)}`,...c},[...t.map(([d,h])=>x.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var te=I1;const kr=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),yf=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),A1=te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),da=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),R1=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),L1=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ay=te("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),D1=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),F1=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ly=te("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),_1=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Gr=te("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),U1=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),V1=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Fn=te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),ri=te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),O1=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),cy=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),z1=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Dc=te("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),B1=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),$1=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),W1=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Fa=te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),uy=te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),xf=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),dy=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Fc=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),G1=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Y1=te("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),H1=te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ht=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vf=te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),hy=({size:e=16,className:t=""})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",className:t,"aria-hidden":!0,children:a.jsx("path",{d:"M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.51 5.51 0 0 1 12 7.5zm0 2A3.5 3.5 0 1 0 15.5 13 3.5 3.5 0 0 0 12 9.5zm5.25-3.25a1.25 1.25 0 1 1-1.25 1.25 1.25 1.25 0 0 1 1.25-1.25z"})}),fy=({size:e=16,className:t=""})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",className:t,"aria-hidden":!0,children:a.jsx("path",{d:"M3 3h3.7l5.2 7.2L18.3 3H21l-7.3 9.8L21 21h-3.7l-5.4-7.5L6 21H3l7.7-10.2L3 3z"})}),py=({size:e=16,className:t=""})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",className:t,"aria-hidden":!0,children:a.jsx("path",{d:"M22 12a10 10 0 1 0-11.6 9.9v-7h-2.2V12h2.2V9.8c0-2.2 1.3-3.5 3.4-3.5.98 0 2 .18 2 .18v2.2h-1.1c-1.1 0-1.5.68-1.5 1.4V12h2.6l-.42 2.9h-2.2v7A10 10 0 0 0 22 12z"})}),my=({size:e=16,className:t=""})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",className:t,"aria-hidden":!0,children:a.jsx("path",{d:"M21 8.5a6.5 6.5 0 0 1-4.7-2v9.1A6.6 6.6 0 1 1 9 9.1v2.4a3.8 3.8 0 1 0 2.7 3.7V2h2.6a6.5 6.5 0 0 0 4.7 4.1z"})}),gy=({size:e=16,className:t=""})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",className:t,"aria-hidden":!0,children:a.jsx("path",{d:"M12.18 24h-.01C8.6 23.98 5.85 22.8 4 20.5 2.3 18.44 1.5 15.59 1.5 12.06V0h3.38v12.06c0 3.21.7 5.7 2.09 7.46 1.39 1.75 3.6 2.63 6.65 2.63s5.26-.88 6.65-2.63c1.39-1.75 2.09-4.24 2.09-7.46V0h3.38v12.06c0 3.53-.85 6.38-2.5 8.43-1.85 2.3-4.6 3.48-8.12 3.5z"})}),yy=({size:e=16,className:t=""})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",className:t,"aria-hidden":!0,children:a.jsx("path",{d:"M23.5 6.19a3.02 3.02 0 0 0-2.12-2.13C19.5 3.55 12 3.55 12 3.55s-7.5 0-9.38.5A3.02 3.02 0 0 0 .5 6.19C0 8.07 0 12 0 12s0 3.93.5 5.81a3.02 3.02 0 0 0 2.12 2.13c1.88.5 9.38.5 9.38.5s7.5 0 9.38-.5a3.02 3.02 0 0 0 2.12-2.13C24 15.93 24 12 24 12s0-3.93-.5-5.81zM9.55 15.57V8.43L15.82 12l-6.27 3.57z"})}),K1=()=>{const e=Wn(),t=vi();return t.pathname==="/"||t.pathname.includes("/profile")?a.jsx("div",{className:"fixed bottom-0 left-0 w-[40%] bg-black/95 backdrop-blur-md z-50",children:a.jsx("div",{className:"px-6 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>e("/"),className:"flex items-center hover:opacity-80 transition-opacity duration-300",title:"Go to Home",children:a.jsx("img",{src:"/logo.png",alt:"Stefna",className:"h-8 w-auto"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("a",{href:"https://www.instagram.com/stefnaxyz/",target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Instagram","aria-label":"Instagram",children:a.jsx(hy,{size:16,className:"text-white"})}),a.jsx("a",{href:"https://x.com/StefnaXYZ",target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"X","aria-label":"X",children:a.jsx(fy,{size:16,className:"text-white"})}),a.jsx("a",{href:"https://www.facebook.com/Stefnaxyz",target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Facebook","aria-label":"Facebook",children:a.jsx(py,{size:16,className:"text-white"})}),a.jsx("a",{href:"https://www.tiktok.com/@stefnaxyz",target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"TikTok","aria-label":"TikTok",children:a.jsx(my,{size:16,className:"text-white"})}),a.jsx("a",{href:"https://www.threads.net/@stefnaxyz",target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Threads","aria-label":"Threads",children:a.jsx(gy,{size:16,className:"text-white"})}),a.jsx("a",{href:"https://www.youtube.com/channel/UCNBAWuWc8luYN8F0dIXX0RA",target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"YouTube","aria-label":"YouTube",children:a.jsx(yy,{size:16,className:"text-white"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>e("/privacy"),className:"w-7 h-7 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300 relative group",title:"Privacy Policy",children:[a.jsx(uy,{size:18,className:"text-white"}),a.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap",children:["Privacy Policy",a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-3 border-r-3 border-t-3 border-transparent border-t-black/90"})]})]}),a.jsxs("button",{onClick:()=>e("/terms"),className:"w-7 h-7 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300 relative group",title:"Terms of Service",children:[a.jsx(Gr,{size:18,className:"text-white"}),a.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap",children:["Terms of Service",a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-3 border-r-3 border-t-3 border-transparent border-t-black/90"})]})]}),a.jsxs("button",{onClick:()=>e("/cookies"),className:"w-7 h-7 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300 relative group",title:"Cookies Policy",children:[a.jsx(ly,{size:18,className:"text-white"}),a.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap",children:["Cookies Policy",a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-3 border-r-3 border-t-3 border-transparent border-t-black/90"})]})]})]})]})})}):null},ad=x.createContext({});function ld(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const cd=typeof window<"u",xy=cd?x.useLayoutEffect:x.useEffect,_a=x.createContext(null);function ud(e,t){e.indexOf(t)===-1&&e.push(t)}function dd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const fn=(e,t,n)=>n>t?t:n<e?e:n;let hd=()=>{};const pn={},vy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function wy(e){return typeof e=="object"&&e!==null}const Sy=e=>/^0[^.\s]+$/u.test(e);function fd(e){let t;return()=>(t===void 0&&(t=e()),t)}const It=e=>e,Q1=(e,t)=>n=>t(e(n)),_s=(...e)=>e.reduce(Q1),Cs=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class pd{constructor(){this.subscriptions=[]}add(t){return ud(this.subscriptions,t),()=>dd(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xt=e=>e*1e3,Zt=e=>e/1e3;function ky(e,t){return t?e*(1e3/t):0}const jy=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,X1=1e-7,Z1=12;function J1(e,t,n,r,i){let s,o,l=0;do o=t+(n-t)/2,s=jy(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>X1&&++l<Z1);return o}function Us(e,t,n,r){if(e===t&&n===r)return It;const i=s=>J1(s,0,1,e,n);return s=>s===0||s===1?s:jy(i(s),t,r)}const by=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ny=e=>t=>1-e(1-t),Cy=Us(.33,1.53,.69,.99),md=Ny(Cy),Ty=by(md),Py=e=>(e*=2)<1?.5*md(e):.5*(2-Math.pow(2,-10*(e-1))),gd=e=>1-Math.sin(Math.acos(e)),Ey=Ny(gd),My=by(gd),q1=Us(.42,0,1,1),e2=Us(0,0,.58,1),Iy=Us(.42,0,.58,1),t2=e=>Array.isArray(e)&&typeof e[0]!="number",Ay=e=>Array.isArray(e)&&typeof e[0]=="number",n2={linear:It,easeIn:q1,easeInOut:Iy,easeOut:e2,circIn:gd,circInOut:My,circOut:Ey,backIn:md,backInOut:Ty,backOut:Cy,anticipate:Py},r2=e=>typeof e=="string",wf=e=>{if(Ay(e)){hd(e.length===4);const[t,n,r,i]=e;return Us(t,n,r,i)}else if(r2(e))return n2[e];return e},vo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Sf={value:null,addProjectionMetrics:null};function i2(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,y=!1)=>{const w=y&&i?n:r;return f&&o.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),t&&Sf.value&&Sf.value.frameloop[t].push(c),c=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const s2=40;function Ry(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=vo.reduce((g,j)=>(g[j]=i2(s,t?j:void 0),g),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:y,postRender:v}=o,w=()=>{const g=pn.useManualTiming?i.timestamp:performance.now();n=!1,pn.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,s2),1)),i.timestamp=g,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(w))},k=()=>{n=!0,r=!0,i.isProcessing||e(w)};return{schedule:vo.reduce((g,j)=>{const b=o[j];return g[j]=(T,M=!1,C=!1)=>(n||k(),b.schedule(T,M,C)),g},{}),cancel:g=>{for(let j=0;j<vo.length;j++)o[vo[j]].cancel(g)},state:i,steps:o}}const{schedule:fe,cancel:Vn,state:ze,steps:jl}=Ry(typeof requestAnimationFrame<"u"?requestAnimationFrame:It,!0);let Fo;function o2(){Fo=void 0}const at={now:()=>(Fo===void 0&&at.set(ze.isProcessing||pn.useManualTiming?ze.timestamp:performance.now()),Fo),set:e=>{Fo=e,queueMicrotask(o2)}},Ly=e=>t=>typeof t=="string"&&t.startsWith(e),yd=Ly("--"),a2=Ly("var(--"),xd=e=>a2(e)?l2.test(e.split("/*")[0].trim()):!1,l2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ts={...wi,transform:e=>fn(0,1,e)},wo={...wi,default:1},ns=e=>Math.round(e*1e5)/1e5,vd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function c2(e){return e==null}const u2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wd=(e,t)=>n=>!!(typeof n=="string"&&u2.test(n)&&n.startsWith(e)||t&&!c2(n)&&Object.prototype.hasOwnProperty.call(n,t)),Dy=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(vd);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},d2=e=>fn(0,255,e),bl={...wi,transform:e=>Math.round(d2(e))},ur={test:wd("rgb","red"),parse:Dy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+bl.transform(e)+", "+bl.transform(t)+", "+bl.transform(n)+", "+ns(Ts.transform(r))+")"};function h2(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _c={test:wd("#"),parse:h2,transform:ur.transform},Vs=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wn=Vs("deg"),Jt=Vs("%"),H=Vs("px"),f2=Vs("vh"),p2=Vs("vw"),kf=(()=>({...Jt,parse:e=>Jt.parse(e)/100,transform:e=>Jt.transform(e*100)}))(),Yr={test:wd("hsl","hue"),parse:Dy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Jt.transform(ns(t))+", "+Jt.transform(ns(n))+", "+ns(Ts.transform(r))+")"},Te={test:e=>ur.test(e)||_c.test(e)||Yr.test(e),parse:e=>ur.test(e)?ur.parse(e):Yr.test(e)?Yr.parse(e):_c.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ur.transform(e):Yr.transform(e),getAnimatableNone:e=>{const t=Te.parse(e);return t.alpha=0,Te.transform(t)}},m2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function g2(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(vd))==null?void 0:t.length)||0)+(((n=e.match(m2))==null?void 0:n.length)||0)>0}const Fy="number",_y="color",y2="var",x2="var(",jf="${}",v2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ps(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(v2,c=>(Te.test(c)?(r.color.push(s),i.push(_y),n.push(Te.parse(c))):c.startsWith(x2)?(r.var.push(s),i.push(y2),n.push(c)):(r.number.push(s),i.push(Fy),n.push(parseFloat(c))),++s,jf)).split(jf);return{values:n,split:l,indexes:r,types:i}}function Uy(e){return Ps(e).values}function Vy(e){const{split:t,types:n}=Ps(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const l=n[o];l===Fy?s+=ns(i[o]):l===_y?s+=Te.transform(i[o]):s+=i[o]}return s}}const w2=e=>typeof e=="number"?0:Te.test(e)?Te.getAnimatableNone(e):e;function S2(e){const t=Uy(e);return Vy(e)(t.map(w2))}const On={test:g2,parse:Uy,createTransformer:Vy,getAnimatableNone:S2};function Nl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function k2({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=Nl(c,l,e+1/3),s=Nl(c,l,e),o=Nl(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ha(e,t){return n=>n>0?t:e}const ye=(e,t,n)=>e+(t-e)*n,Cl=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},j2=[_c,ur,Yr],b2=e=>j2.find(t=>t.test(e));function bf(e){const t=b2(e);if(!t)return!1;let n=t.parse(e);return t===Yr&&(n=k2(n)),n}const Nf=(e,t)=>{const n=bf(e),r=bf(t);if(!n||!r)return ha(e,t);const i={...n};return s=>(i.red=Cl(n.red,r.red,s),i.green=Cl(n.green,r.green,s),i.blue=Cl(n.blue,r.blue,s),i.alpha=ye(n.alpha,r.alpha,s),ur.transform(i))},Uc=new Set(["none","hidden"]);function N2(e,t){return Uc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function C2(e,t){return n=>ye(e,t,n)}function Sd(e){return typeof e=="number"?C2:typeof e=="string"?xd(e)?ha:Te.test(e)?Nf:E2:Array.isArray(e)?Oy:typeof e=="object"?Te.test(e)?Nf:T2:ha}function Oy(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>Sd(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function T2(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Sd(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function P2(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],l=e.values[o]??0;n[i]=l,r[s]++}return n}const E2=(e,t)=>{const n=On.createTransformer(t),r=Ps(e),i=Ps(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Uc.has(e)&&!i.values.length||Uc.has(t)&&!r.values.length?N2(e,t):_s(Oy(P2(r,i),i.values),n):ha(e,t)};function zy(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ye(e,t,n):Sd(e)(e,t)}const M2=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>fe.update(t,n),stop:()=>Vn(t),now:()=>ze.isProcessing?ze.timestamp:at.now()}},By=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fa=2e4;function kd(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<fa;)t+=n,r=e.next(t);return t>=fa?1/0:t}function I2(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(kd(r),fa);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Zt(i)}}const A2=5;function $y(e,t,n){const r=Math.max(t-A2,0);return ky(n-e(r),t-r)}const we={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tl=.001;function R2({duration:e=we.duration,bounce:t=we.bounce,velocity:n=we.velocity,mass:r=we.mass}){let i,s,o=1-t;o=fn(we.minDamping,we.maxDamping,o),e=fn(we.minDuration,we.maxDuration,Zt(e)),o<1?(i=u=>{const d=u*o,h=d*e,f=d-n,y=Vc(u,o),v=Math.exp(-h);return Tl-f/y*v},s=u=>{const h=u*o*e,f=h*n+n,y=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-h),w=Vc(Math.pow(u,2),o);return(-i(u)+Tl>0?-1:1)*((f-y)*v)/w}):(i=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Tl+d*h},s=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=D2(i,s,l);if(e=Xt(e),isNaN(c))return{stiffness:we.stiffness,damping:we.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const L2=12;function D2(e,t,n){let r=n;for(let i=1;i<L2;i++)r=r-e(r)/t(r);return r}function Vc(e,t){return e*Math.sqrt(1-t*t)}const F2=["duration","bounce"],_2=["stiffness","damping","mass"];function Cf(e,t){return t.some(n=>e[n]!==void 0)}function U2(e){let t={velocity:we.velocity,stiffness:we.stiffness,damping:we.damping,mass:we.mass,isResolvedFromDuration:!1,...e};if(!Cf(e,_2)&&Cf(e,F2))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*fn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:we.mass,stiffness:i,damping:s}}else{const n=R2(e);t={...t,...n,mass:we.mass},t.isResolvedFromDuration=!0}return t}function pa(e=we.visualDuration,t=we.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:y}=U2({...n,velocity:-Zt(n.velocity||0)}),v=f||0,w=u/(2*Math.sqrt(c*d)),k=o-s,p=Zt(Math.sqrt(c/d)),m=Math.abs(k)<5;r||(r=m?we.restSpeed.granular:we.restSpeed.default),i||(i=m?we.restDelta.granular:we.restDelta.default);let g;if(w<1){const b=Vc(p,w);g=T=>{const M=Math.exp(-w*p*T);return o-M*((v+w*p*k)/b*Math.sin(b*T)+k*Math.cos(b*T))}}else if(w===1)g=b=>o-Math.exp(-p*b)*(k+(v+p*k)*b);else{const b=p*Math.sqrt(w*w-1);g=T=>{const M=Math.exp(-w*p*T),C=Math.min(b*T,300);return o-M*((v+w*p*k)*Math.sinh(C)+b*k*Math.cosh(C))/b}}const j={calculatedDuration:y&&h||null,next:b=>{const T=g(b);if(y)l.done=b>=h;else{let M=b===0?v:0;w<1&&(M=b===0?Xt(v):$y(g,b,T));const C=Math.abs(M)<=r,$=Math.abs(o-T)<=i;l.done=C&&$}return l.value=l.done?o:T,l},toString:()=>{const b=Math.min(kd(j),fa),T=By(M=>j.next(b*M).value,b,30);return b+"ms "+T},toTransition:()=>{}};return j}pa.applyToOptions=e=>{const t=I2(e,100,pa);return e.ease=t.ease,e.duration=Xt(t.duration),e.type="keyframes",e};function Oc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},y=C=>l!==void 0&&C<l||c!==void 0&&C>c,v=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let w=n*t;const k=h+w,p=o===void 0?k:o(k);p!==k&&(w=p-h);const m=C=>-w*Math.exp(-C/r),g=C=>p+m(C),j=C=>{const $=m(C),W=g(C);f.done=Math.abs($)<=u,f.value=f.done?p:W};let b,T;const M=C=>{y(f.value)&&(b=C,T=pa({keyframes:[f.value,v(f.value)],velocity:$y(g,C,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:C=>{let $=!1;return!T&&b===void 0&&($=!0,j(C),M(C)),b!==void 0&&C>=b?T.next(C-b):(!$&&j(C),f)}}}function V2(e,t,n){const r=[],i=n||pn.mix||zy,s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||It:t;l=_s(c,l)}r.push(l)}return r}function O2(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(hd(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=V2(t,r,i),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Cs(e[h],e[h+1],d);return l[h](f)};return n?d=>u(fn(e[0],e[s-1],d)):u}function z2(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Cs(0,t,r);e.push(ye(n,1,i))}}function B2(e){const t=[0];return z2(t,e.length-1),t}function $2(e,t){return e.map(n=>n*t)}function W2(e,t){return e.map(()=>t||Iy).splice(0,e.length-1)}function rs({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=t2(r)?r.map(wf):wf(r),s={done:!1,value:t[0]},o=$2(n&&n.length===t.length?n:B2(t),e),l=O2(o,t,{ease:Array.isArray(i)?i:W2(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const G2=e=>e!==null;function jd(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(G2),l=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const Y2={decay:Oc,inertia:Oc,tween:rs,keyframes:rs,spring:pa};function Wy(e){typeof e.type=="string"&&(e.type=Y2[e.type])}class bd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const H2=e=>e/100;class Nd extends bd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==at.now()&&this.tick(at.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Wy(t);const{type:n=rs,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:l}=t;const c=n||rs;c!==rs&&typeof l[0]!="number"&&(this.mixKeyframes=_s(H2,zy(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=kd(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let g=this.currentTime,j=r;if(h){const C=Math.min(this.currentTime,i)/l;let $=Math.floor(C),W=C%1;!W&&C>=1&&(W=1),W===1&&$--,$=Math.min($,h+1),!!($%2)&&(f==="reverse"?(W=1-W,y&&(W-=y/l)):f==="mirror"&&(j=o)),g=fn(0,1,W)*l}const b=m?{done:!1,value:d[0]}:j.next(g);s&&(b.value=s(b.value));let{done:T}=b;!m&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return M&&v!==Oc&&(b.value=jd(d,this.options,k,this.speed)),w&&w(b.value),M&&this.finish(),b}then(t,n){return this.finished.then(t,n)}get duration(){return Zt(this.calculatedDuration)}get time(){return Zt(this.currentTime)}set time(t){var n;t=Xt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(at.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Zt(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=M2,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(at.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function K2(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const dr=e=>e*180/Math.PI,zc=e=>{const t=dr(Math.atan2(e[1],e[0]));return Bc(t)},Q2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:zc,rotateZ:zc,skewX:e=>dr(Math.atan(e[1])),skewY:e=>dr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Bc=e=>(e=e%360,e<0&&(e+=360),e),Tf=zc,Pf=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ef=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),X2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Pf,scaleY:Ef,scale:e=>(Pf(e)+Ef(e))/2,rotateX:e=>Bc(dr(Math.atan2(e[6],e[5]))),rotateY:e=>Bc(dr(Math.atan2(-e[2],e[0]))),rotateZ:Tf,rotate:Tf,skewX:e=>dr(Math.atan(e[4])),skewY:e=>dr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function $c(e){return e.includes("scale")?1:0}function Wc(e,t){if(!e||e==="none")return $c(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=X2,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Q2,i=l}if(!i)return $c(t);const s=r[t],o=i[1].split(",").map(J2);return typeof s=="function"?s(o):o[s]}const Z2=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Wc(n,t)};function J2(e){return parseFloat(e.trim())}const Si=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ki=(()=>new Set(Si))(),Mf=e=>e===wi||e===H,q2=new Set(["x","y","z"]),eS=Si.filter(e=>!q2.has(e));function tS(e){const t=[];return eS.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const mr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Wc(t,"x"),y:(e,{transform:t})=>Wc(t,"y")};mr.translateX=mr.x;mr.translateY=mr.y;const gr=new Set;let Gc=!1,Yc=!1,Hc=!1;function Gy(){if(Yc){const e=Array.from(gr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=tS(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yc=!1,Gc=!1,gr.forEach(e=>e.complete(Hc)),gr.clear()}function Yy(){gr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Yc=!0)})}function nS(){Hc=!0,Yy(),Gy(),Hc=!1}class Cd{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(gr.add(this),Gc||(Gc=!0,fe.read(Yy),fe.resolveKeyframes(Gy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}K2(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),gr.delete(this)}cancel(){this.state==="scheduled"&&(gr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rS=e=>e.startsWith("--");function iS(e,t,n){rS(t)?e.style.setProperty(t,n):e.style[t]=n}const sS=fd(()=>window.ScrollTimeline!==void 0),oS={};function aS(e,t){const n=fd(e);return()=>oS[t]??n()}const Hy=aS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,If={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yi([0,.65,.55,1]),circOut:Yi([.55,0,1,.45]),backIn:Yi([.31,.01,.66,-.59]),backOut:Yi([.33,1.53,.69,.99])};function Ky(e,t){if(e)return typeof e=="function"?Hy()?By(e,t):"ease-out":Ay(e)?Yi(e):Array.isArray(e)?e.map(n=>Ky(n,t)||If.easeOut):If[e]}function lS(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=Ky(l,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function Qy(e){return typeof e=="function"&&"applyToOptions"in e}function cS({type:e,...t}){return Qy(e)&&Hy()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class uS extends bd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,hd(typeof t.type!="string");const u=cS(t);this.animation=lS(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=jd(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):iS(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Zt(Number(t))}get time(){return Zt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Xt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&sS()?(this.animation.timeline=t,It):n(this)}}const Xy={anticipate:Py,backInOut:Ty,circInOut:My};function dS(e){return e in Xy}function hS(e){typeof e.ease=="string"&&dS(e.ease)&&(e.ease=Xy[e.ease])}const Af=10;class fS extends uS{constructor(t){hS(t),Wy(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Nd({...o,autoplay:!1}),c=Xt(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-Af).value,l.sample(c).value,Af),l.stop()}}const Rf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(On.test(e)||e==="0")&&!e.startsWith("url("));function pS(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function mS(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=Rf(i,t),l=Rf(s,t);return!o||!l?!1:pS(e)||(n==="spring"||Qy(n))&&r}function Kc(e){e.duration=0,e.type}const gS=new Set(["opacity","clipPath","filter","transform"]),yS=fd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xS(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return yS()&&n&&gS.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const vS=40;class wS extends bd{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var w,k;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=at.now();const f={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:d,...h},y=(d==null?void 0:d.KeyframeResolver)||Cd;this.keyframeResolver=new y(l,(w,k,p)=>this.onKeyframesResolved(w,k,f,!p),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=at.now(),mS(t,s,o,l)||((pn.instantAnimations||!c)&&(d==null||d(jd(t,r,n))),t[0]=t[t.length-1],Kc(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>vS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},y=!u&&xS(f)?new fS({...f,element:f.motionValue.owner.current}):new Nd(f);y.finished.then(()=>this.notifyFinished()).catch(It),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),nS()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const SS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kS(e){const t=SS.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Zy(e,t,n=1){const[r,i]=kS(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return vy(o)?parseFloat(o):o}return xd(i)?Zy(i,t,n+1):i}function Td(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Jy=new Set(["width","height","top","left","right","bottom",...Si]),jS={test:e=>e==="auto",parse:e=>e},qy=e=>t=>t.test(e),e0=[wi,H,Jt,wn,p2,f2,jS],Lf=e=>e0.find(qy(e));function bS(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Sy(e):!0}const NS=new Set(["brightness","contrast","saturate","opacity"]);function CS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(vd)||[];if(!r)return e;const i=n.replace(r,"");let s=NS.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const TS=/\b([a-z-]*)\(.*?\)/gu,Qc={...On,getAnimatableNone:e=>{const t=e.match(TS);return t?t.map(CS).join(" "):e}},Df={...wi,transform:Math.round},PS={rotate:wn,rotateX:wn,rotateY:wn,rotateZ:wn,scale:wo,scaleX:wo,scaleY:wo,scaleZ:wo,skew:wn,skewX:wn,skewY:wn,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:Ts,originX:kf,originY:kf,originZ:H},Pd={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,backgroundPositionX:H,backgroundPositionY:H,...PS,zIndex:Df,fillOpacity:Ts,strokeOpacity:Ts,numOctaves:Df},ES={...Pd,color:Te,backgroundColor:Te,outlineColor:Te,fill:Te,stroke:Te,borderColor:Te,borderTopColor:Te,borderRightColor:Te,borderBottomColor:Te,borderLeftColor:Te,filter:Qc,WebkitFilter:Qc},t0=e=>ES[e];function n0(e,t){let n=t0(e);return n!==Qc&&(n=On),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const MS=new Set(["auto","none","0"]);function IS(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!MS.has(s)&&Ps(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=n0(n,i)}class AS extends Cd{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),xd(u))){const d=Zy(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Jy.has(r)||t.length!==2)return;const[i,s]=t,o=Lf(i),l=Lf(s);if(o!==l)if(Mf(o)&&Mf(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else mr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||bS(t[i]))&&r.push(i);r.length&&IS(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=mr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function RS(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const r0=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function i0(e){return wy(e)&&"offsetHeight"in e}const Ff=30,LS=e=>!isNaN(parseFloat(e));class DS{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=at.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=at.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=LS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new pd);const r=this.events[t].add(n);return t==="change"?()=>{r(),fe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=at.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ff)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ff);return ky(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hi(e,t){return new DS(e,t)}const{schedule:Ed,cancel:fN}=Ry(queueMicrotask,!1),_t={x:!1,y:!1};function s0(){return _t.x||_t.y}function FS(e){return e==="x"||e==="y"?_t[e]?null:(_t[e]=!0,()=>{_t[e]=!1}):_t.x||_t.y?null:(_t.x=_t.y=!0,()=>{_t.x=_t.y=!1})}function o0(e,t){const n=RS(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function _f(e){return!(e.pointerType==="touch"||s0())}function _S(e,t,n={}){const[r,i,s]=o0(e,n),o=l=>{if(!_f(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{_f(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const a0=(e,t)=>t?e===t?!0:a0(e,t.parentElement):!1,Md=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,US=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VS(e){return US.has(e.tagName)||e.tabIndex!==-1}const _o=new WeakSet;function Uf(e){return t=>{t.key==="Enter"&&e(t)}}function Pl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const OS=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Uf(()=>{if(_o.has(n))return;Pl(n,"down");const i=Uf(()=>{Pl(n,"up")}),s=()=>Pl(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Vf(e){return Md(e)&&!s0()}function zS(e,t,n={}){const[r,i,s]=o0(e,n),o=l=>{const c=l.currentTarget;if(!Vf(l))return;_o.add(c);const u=t(c,l),d=(y,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),_o.has(c)&&_o.delete(c),Vf(y)&&typeof u=="function"&&u(y,{success:v})},h=y=>{d(y,c===window||c===document||n.useGlobalTarget||a0(c,y.target))},f=y=>{d(y,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),i0(l)&&(l.addEventListener("focus",u=>OS(u,i)),!VS(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function l0(e){return wy(e)&&"ownerSVGElement"in e}function BS(e){return l0(e)&&e.tagName==="svg"}const Qe=e=>!!(e&&e.getVelocity),$S=[...e0,Te,On],WS=e=>$S.find(qy(e)),Id=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class GS extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=i0(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YS({children:e,isPresent:t,anchorX:n,root:r}){const i=x.useId(),s=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=x.useContext(Id);return x.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:f}=o.current;if(t||!s.current||!c||!u)return;const y=n==="left"?`left: ${h}`:`right: ${f}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");l&&(v.nonce=l);const w=r??document.head;return w.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${y}px !important;
            top: ${d}px !important;
          }
        `),()=>{w.contains(v)&&w.removeChild(v)}},[t]),a.jsx(GS,{isPresent:t,childRef:s,sizeRef:o,children:x.cloneElement(e,{ref:s})})}const HS=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l,root:c})=>{const u=ld(KS),d=x.useId();let h=!0,f=x.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:y=>{u.set(y,!0);for(const v of u.values())if(!v)return;r&&r()},register:y=>(u.set(y,!1),()=>u.delete(y))}),[n,u,r]);return s&&h&&(f={...f}),x.useMemo(()=>{u.forEach((y,v)=>u.set(v,!1))},[n]),x.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(YS,{isPresent:n,anchorX:l,root:c,children:e})),a.jsx(_a.Provider,{value:f,children:e})};function KS(){return new Map}function c0(e=!0){const t=x.useContext(_a);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=x.useId();x.useEffect(()=>{if(e)return i(s)},[e]);const o=x.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const So=e=>e.key||"";function Of(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const QS=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=c0(o),h=x.useMemo(()=>Of(e),[e]),f=o&&!u?[]:h.map(So),y=x.useRef(!0),v=x.useRef(h),w=ld(()=>new Map),[k,p]=x.useState(h),[m,g]=x.useState(h);xy(()=>{y.current=!1,v.current=h;for(let T=0;T<m.length;T++){const M=So(m[T]);f.includes(M)?w.delete(M):w.get(M)!==!0&&w.set(M,!1)}},[m,f.length,f.join("-")]);const j=[];if(h!==k){let T=[...h];for(let M=0;M<m.length;M++){const C=m[M],$=So(C);f.includes($)||(T.splice(M,0,C),j.push(C))}return s==="wait"&&j.length&&(T=j),g(Of(T)),p(h),null}const{forceRender:b}=x.useContext(ad);return a.jsx(a.Fragment,{children:m.map(T=>{const M=So(T),C=o&&!u?!1:h===m||f.includes(M),$=()=>{if(w.has(M))w.set(M,!0);else return;let W=!0;w.forEach(ie=>{ie||(W=!1)}),W&&(b==null||b(),g(v.current),o&&(d==null||d()),r&&r())};return a.jsx(HS,{isPresent:C,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:C?void 0:$,anchorX:l,children:T},M)})})},u0=x.createContext({strict:!1}),zf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fi={};for(const e in zf)fi[e]={isEnabled:t=>zf[e].some(n=>!!t[n])};function XS(e){for(const t in e)fi[t]={...fi[t],...e[t]}}const ZS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ma(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ZS.has(e)}let d0=e=>!ma(e);function JS(e){typeof e=="function"&&(d0=t=>t.startsWith("on")?!ma(t):e(t))}try{JS(require("@emotion/is-prop-valid").default)}catch{}function qS(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(d0(i)||n===!0&&ma(i)||!t&&!ma(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Ua=x.createContext({});function Va(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Es(e){return typeof e=="string"||Array.isArray(e)}const Ad=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rd=["initial",...Ad];function Oa(e){return Va(e.animate)||Rd.some(t=>Es(e[t]))}function h0(e){return!!(Oa(e)||e.variants)}function ek(e,t){if(Oa(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Es(n)?n:void 0,animate:Es(r)?r:void 0}}return e.inherit!==!1?t:{}}function tk(e){const{initial:t,animate:n}=ek(e,x.useContext(Ua));return x.useMemo(()=>({initial:t,animate:n}),[Bf(t),Bf(n)])}function Bf(e){return Array.isArray(e)?e.join(" "):e}const Ms={};function nk(e){for(const t in e)Ms[t]=e[t],yd(t)&&(Ms[t].isCSSVariable=!0)}function f0(e,{layout:t,layoutId:n}){return ki.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ms[e]||e==="opacity")}const rk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ik=Si.length;function sk(e,t,n){let r="",i=!0;for(let s=0;s<ik;s++){const o=Si[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=r0(l,Pd[o]);if(!c){i=!1;const d=rk[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Ld(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(ki.has(c)){o=!0;continue}else if(yd(c)){i[c]=u;continue}else{const d=r0(u,Pd[c]);c.startsWith("origin")?(l=!0,s[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=sk(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const Dd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function p0(e,t,n){for(const r in t)!Qe(t[r])&&!f0(r,n)&&(e[r]=t[r])}function ok({transformTemplate:e},t){return x.useMemo(()=>{const n=Dd();return Ld(n,t,e),Object.assign({},n.vars,n.style)},[t])}function ak(e,t){const n=e.style||{},r={};return p0(r,n,e),Object.assign(r,ok(e,t)),r}function lk(e,t){const n={},r=ak(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ck={offset:"stroke-dashoffset",array:"stroke-dasharray"},uk={offset:"strokeDashoffset",array:"strokeDasharray"};function dk(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?ck:uk;e[s.offset]=H.transform(-r);const o=H.transform(t),l=H.transform(n);e[s.array]=`${o} ${l}`}function m0(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,u,d){if(Ld(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&dk(h,i,s,o,!1)}const g0=()=>({...Dd(),attrs:{}}),y0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function hk(e,t,n,r){const i=x.useMemo(()=>{const s=g0();return m0(s,t,y0(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};p0(s,e.style,e),i.style={...s,...i.style}}return i}const fk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fd(e){return typeof e!="string"||e.includes("-")?!1:!!(fk.indexOf(e)>-1||/[A-Z]/u.test(e))}function pk(e,t,n,{latestValues:r},i,s=!1){const l=(Fd(e)?hk:lk)(t,r,i,e),c=qS(t,typeof e=="string",s),u=e!==x.Fragment?{...c,...l,ref:n}:{},{children:d}=t,h=x.useMemo(()=>Qe(d)?d.get():d,[d]);return x.createElement(e,{...u,children:h})}function $f(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function _d(e,t,n,r){if(typeof t=="function"){const[i,s]=$f(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=$f(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function Uo(e){return Qe(e)?e.get():e}function mk({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:gk(n,r,i,e),renderState:t()}}function gk(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=Uo(s[f]);let{initial:o,animate:l}=e;const c=Oa(e),u=h0(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Va(h)){const f=Array.isArray(h)?h:[h];for(let y=0;y<f.length;y++){const v=_d(e,f[y]);if(v){const{transitionEnd:w,transition:k,...p}=v;for(const m in p){let g=p[m];if(Array.isArray(g)){const j=d?g.length-1:0;g=g[j]}g!==null&&(i[m]=g)}for(const m in w)i[m]=w[m]}}}return i}const x0=e=>(t,n)=>{const r=x.useContext(Ua),i=x.useContext(_a),s=()=>mk(e,t,r,i);return n?s():ld(s)};function Ud(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(Qe(r[o])||t.style&&Qe(t.style[o])||f0(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const yk=x0({scrapeMotionValuesFromProps:Ud,createRenderState:Dd});function v0(e,t,n){const r=Ud(e,t,n);for(const i in e)if(Qe(e[i])||Qe(t[i])){const s=Si.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const xk=x0({scrapeMotionValuesFromProps:v0,createRenderState:g0}),vk=Symbol.for("motionComponentSymbol");function Hr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wk(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Hr(n)&&(n.current=r))},[t])}const Vd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Sk="framerAppearId",w0="data-"+Vd(Sk),S0=x.createContext({});function kk(e,t,n,r,i){var w,k;const{visualElement:s}=x.useContext(Ua),o=x.useContext(u0),l=x.useContext(_a),c=x.useContext(Id).reducedMotion,u=x.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=x.useContext(S0);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&jk(u.current,n,i,h);const f=x.useRef(!1);x.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const y=n[w0],v=x.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,y)));return xy(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,y)}),v.current=!1),d.enteringChildren=void 0)}),d}function jk(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:k0(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Hr(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function k0(e){if(e)return e.options.allowProjection!==!1?e.projection:k0(e.parent)}function El(e,{forwardMotionProps:t=!1}={},n,r){n&&XS(n);const i=Fd(e)?xk:yk;function s(l,c){let u;const d={...x.useContext(Id),...l,layoutId:bk(l)},{isStatic:h}=d,f=tk(l),y=i(l,h);if(!h&&cd){Nk();const v=Ck(d);u=v.MeasureLayout,f.visualElement=kk(e,y,d,r,v.ProjectionNode)}return a.jsxs(Ua.Provider,{value:f,children:[u&&f.visualElement?a.jsx(u,{visualElement:f.visualElement,...d}):null,pk(e,l,wk(y,f.visualElement,c),y,h,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=x.forwardRef(s);return o[vk]=e,o}function bk({layoutId:e}){const t=x.useContext(ad).id;return t&&e!==void 0?t+"-"+e:e}function Nk(e,t){x.useContext(u0).strict}function Ck(e){const{drag:t,layout:n}=fi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Tk(e,t){if(typeof Proxy>"u")return El;const n=new Map,r=(s,o)=>El(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,El(o,void 0,e,t)),n.get(o))})}function j0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Pk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ek(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ml(e){return e===void 0||e===1}function Xc({scale:e,scaleX:t,scaleY:n}){return!Ml(e)||!Ml(t)||!Ml(n)}function qn(e){return Xc(e)||b0(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function b0(e){return Wf(e.x)||Wf(e.y)}function Wf(e){return e&&e!=="0%"}function ga(e,t,n){const r=e-n,i=t*r;return n+i}function Gf(e,t,n,r,i){return i!==void 0&&(e=ga(e,i,r)),ga(e,n,r)+t}function Zc(e,t=0,n=1,r,i){e.min=Gf(e.min,t,n,r,i),e.max=Gf(e.max,t,n,r,i)}function N0(e,{x:t,y:n}){Zc(e.x,t.translate,t.scale,t.originPoint),Zc(e.y,n.translate,n.scale,n.originPoint)}const Yf=.999999999999,Hf=1.0000000000001;function Mk(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qr(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,N0(e,o)),r&&qn(s.latestValues)&&Qr(e,s.latestValues))}t.x<Hf&&t.x>Yf&&(t.x=1),t.y<Hf&&t.y>Yf&&(t.y=1)}function Kr(e,t){e.min=e.min+t,e.max=e.max+t}function Kf(e,t,n,r,i=.5){const s=ye(e.min,e.max,i);Zc(e,t,n,s,r)}function Qr(e,t){Kf(e.x,t.x,t.scaleX,t.scale,t.originX),Kf(e.y,t.y,t.scaleY,t.scale,t.originY)}function C0(e,t){return j0(Ek(e.getBoundingClientRect(),t))}function Ik(e,t,n){const r=C0(e,n),{scroll:i}=t;return i&&(Kr(r.x,i.offset.x),Kr(r.y,i.offset.y)),r}const Qf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xr=()=>({x:Qf(),y:Qf()}),Xf=()=>({min:0,max:0}),be=()=>({x:Xf(),y:Xf()}),Jc={current:null},T0={current:!1};function Ak(){if(T0.current=!0,!!cd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jc.current=e.matches;e.addEventListener("change",t),t()}else Jc.current=!1}const Rk=new WeakMap;function Lk(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Qe(i))e.addValue(r,i);else if(Qe(s))e.addValue(r,hi(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,hi(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Zf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dk{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=at.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,fe.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Oa(n),this.isVariantNode=h0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const y=h[f];c[f]!==void 0&&Qe(y)&&y.set(c[f])}}mount(t){var n;this.current=t,Rk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),T0.current||Ak(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jc.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Vn(this.notifyUpdate),Vn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ki.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&fe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in fi){const n=fi[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Zf.length;r++){const i=Zf[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Lk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=hi(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(vy(r)||Sy(r))?r=parseFloat(r):!WS(r)&&On.test(n)&&(r=n0(t,n)),this.setBaseTarget(t,Qe(r)?r.get():r)),Qe(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=_d(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Qe(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new pd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Ed.render(this.render)}}class P0 extends Dk{constructor(){super(...arguments),this.KeyframeResolver=AS}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Qe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function E0(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function Fk(e){return window.getComputedStyle(e)}class _k extends P0{constructor(){super(...arguments),this.type="html",this.renderInstance=E0}readValueFromInstance(t,n){var r;if(ki.has(n))return(r=this.projection)!=null&&r.isProjecting?$c(n):Z2(t,n);{const i=Fk(t),s=(yd(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return C0(t,n)}build(t,n,r){Ld(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Ud(t,n,r)}}const M0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uk(e,t,n,r){E0(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(M0.has(i)?i:Vd(i),t.attrs[i])}class Vk extends P0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=be}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ki.has(n)){const r=t0(n);return r&&r.default||0}return n=M0.has(n)?n:Vd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return v0(t,n,r)}build(t,n,r){m0(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Uk(t,n,r,i)}mount(t){this.isSVGTag=y0(t.tagName),super.mount(t)}}const Ok=(e,t)=>Fd(e)?new Vk(t):new _k(t,{allowProjection:e!==x.Fragment});function ii(e,t,n){const r=e.getProps();return _d(r,t,n!==void 0?n:r.custom,e)}const qc=e=>Array.isArray(e);function zk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,hi(n))}function Bk(e){return qc(e)?e[e.length-1]||0:e}function $k(e,t){const n=ii(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=Bk(s[o]);zk(e,o,l)}}function Wk(e){return!!(Qe(e)&&e.add)}function eu(e,t){const n=e.getValue("willChange");if(Wk(n))return n.add(t);if(!n&&pn.WillChange){const r=new pn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function I0(e){return e.props[w0]}const Gk=e=>e!==null;function Yk(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Gk),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Hk={type:"spring",stiffness:500,damping:25,restSpeed:10},Kk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Qk={type:"keyframes",duration:.8},Xk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zk=(e,{keyframes:t})=>t.length>2?Qk:ki.has(e)?e.startsWith("scale")?Kk(t[1]):Hk:Xk;function Jk({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Od=(e,t,n,r={},i,s)=>o=>{const l=Td(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xt(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};Jk(l)||Object.assign(d,Zk(e,d)),d.duration&&(d.duration=Xt(d.duration)),d.repeatDelay&&(d.repeatDelay=Xt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Kc(d),d.delay===0&&(h=!0)),(pn.instantAnimations||pn.skipAnimations)&&(h=!0,Kc(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!s&&t.get()!==void 0){const f=Yk(d.keyframes,l);if(f!==void 0){fe.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Nd(d):new wS(d)};function qk({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function A0(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&qk(u,d))continue;const y={delay:n,...Td(s||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const p=I0(e);if(p){const m=window.MotionHandoffAnimation(p,d,fe);m!==null&&(y.startTime=m,w=!0)}}eu(e,d),h.start(Od(d,h,f,e.shouldReduceMotion&&Jy.has(d)?{type:!1}:y,e,w));const k=h.animation;k&&c.push(k)}return o&&Promise.all(c).then(()=>{fe.update(()=>{o&&$k(e,o)})}),c}function R0(e,t,n,r=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:l-s*r}function tu(e,t,n={}){var c;const r=ii(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(A0(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return ej(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function ej(e,t,n=0,r=0,i=0,s=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(tu(c,t,{...o,delay:n+(typeof r=="function"?0:r)+R0(e.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function tj(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>tu(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=tu(e,t,n);else{const i=typeof t=="function"?ii(e,t,n.custom):t;r=Promise.all(A0(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function L0(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const nj=Rd.length;function D0(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?D0(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<nj;n++){const r=Rd[n],i=e.props[r];(Es(i)||i===!1)&&(t[r]=i)}return t}const rj=[...Ad].reverse(),ij=Ad.length;function sj(e){return t=>Promise.all(t.map(({animation:n,options:r})=>tj(e,n,r)))}function oj(e){let t=sj(e),n=Jf(),r=!0;const i=c=>(u,d)=>{var f;const h=ii(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:y,transitionEnd:v,...w}=h;u={...u,...w,...v}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,d=D0(e.parent)||{},h=[],f=new Set;let y={},v=1/0;for(let k=0;k<ij;k++){const p=rj[k],m=n[p],g=u[p]!==void 0?u[p]:d[p],j=Es(g),b=p===c?m.isActive:null;b===!1&&(v=k);let T=g===d[p]&&g!==u[p]&&j;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),m.protectedKeys={...y},!m.isActive&&b===null||!g&&!m.prevProp||Va(g)||typeof g=="boolean")continue;const M=aj(m.prevProp,g);let C=M||p===c&&m.isActive&&!T&&j||k>v&&j,$=!1;const W=Array.isArray(g)?g:[g];let ie=W.reduce(i(p),{});b===!1&&(ie={});const{prevResolvedValues:ke={}}=m,Ee={...ke,...ie},Lt=V=>{C=!0,f.has(V)&&($=!0,f.delete(V)),m.needsAnimating[V]=!0;const E=e.getValue(V);E&&(E.liveStyle=!1)};for(const V in Ee){const E=ie[V],A=ke[V];if(y.hasOwnProperty(V))continue;let L=!1;qc(E)&&qc(A)?L=!L0(E,A):L=E!==A,L?E!=null?Lt(V):f.add(V):E!==void 0&&f.has(V)?Lt(V):m.protectedKeys[V]=!0}m.prevProp=g,m.prevResolvedValues=ie,m.isActive&&(y={...y,...ie}),r&&e.blockInitialAnimation&&(C=!1);const rt=T&&M;C&&(!rt||$)&&h.push(...W.map(V=>{const E={type:p};if(typeof V=="string"&&r&&!rt&&e.manuallyAnimateOnMount&&e.parent){const{parent:A}=e,L=ii(A,V);if(A.enteringChildren&&L){const{delayChildren:K}=L.transition||{};E.delay=R0(A.enteringChildren,e,K)}}return{animation:V,options:E}}))}if(f.size){const k={};if(typeof u.initial!="boolean"){const p=ii(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(k.transition=p.transition)}f.forEach(p=>{const m=e.getBaseTarget(p),g=e.getValue(p);g&&(g.liveStyle=!0),k[p]=m??null}),h.push({animation:k})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var y;return(y=f.animationState)==null?void 0:y.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Jf(),r=!0}}}function aj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!L0(t,e):!1}function Xn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jf(){return{animate:Xn(!0),whileInView:Xn(),whileHover:Xn(),whileTap:Xn(),whileDrag:Xn(),whileFocus:Xn(),exit:Xn()}}class Gn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lj extends Gn{constructor(t){super(t),t.animationState||(t.animationState=oj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Va(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let cj=0;class uj extends Gn{constructor(){super(...arguments),this.id=cj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dj={animation:{Feature:lj},exit:{Feature:uj}};function Is(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Os(e){return{point:{x:e.pageX,y:e.pageY}}}const hj=e=>t=>Md(t)&&e(t,Os(t));function is(e,t,n,r){return Is(e,t,hj(n),r)}const F0=1e-4,fj=1-F0,pj=1+F0,_0=.01,mj=0-_0,gj=0+_0;function qe(e){return e.max-e.min}function yj(e,t,n){return Math.abs(e-t)<=n}function qf(e,t,n,r=.5){e.origin=r,e.originPoint=ye(t.min,t.max,e.origin),e.scale=qe(n)/qe(t),e.translate=ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=fj&&e.scale<=pj||isNaN(e.scale))&&(e.scale=1),(e.translate>=mj&&e.translate<=gj||isNaN(e.translate))&&(e.translate=0)}function ss(e,t,n,r){qf(e.x,t.x,n.x,r?r.originX:void 0),qf(e.y,t.y,n.y,r?r.originY:void 0)}function ep(e,t,n){e.min=n.min+t.min,e.max=e.min+qe(t)}function xj(e,t,n){ep(e.x,t.x,n.x),ep(e.y,t.y,n.y)}function tp(e,t,n){e.min=t.min-n.min,e.max=e.min+qe(t)}function os(e,t,n){tp(e.x,t.x,n.x),tp(e.y,t.y,n.y)}function Ct(e){return[e("x"),e("y")]}const U0=({current:e})=>e?e.ownerDocument.defaultView:null,np=(e,t)=>Math.abs(e-t);function vj(e,t){const n=np(e.x,t.x),r=np(e.y,t.y);return Math.sqrt(n**2+r**2)}class V0{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Al(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=vj(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!v)return;const{point:w}=f,{timestamp:k}=ze;this.history.push({...w,timestamp:k});const{onStart:p,onMove:m}=this.handlers;y||(p&&p(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,f)},this.handlePointerMove=(f,y)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Il(y,this.transformPagePoint),fe.update(this.updatePoint,!0)},this.handlePointerUp=(f,y)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Al(f.type==="pointercancel"?this.lastMoveEventInfo:Il(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,p),w&&w(f,p)},!Md(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=Os(t),c=Il(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=ze;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,Al(c,this.history)),this.removeListeners=_s(is(this.contextWindow,"pointermove",this.handlePointerMove),is(this.contextWindow,"pointerup",this.handlePointerUp),is(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vn(this.updatePoint)}}function Il(e,t){return t?{point:t(e.point)}:e}function rp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Al({point:e},t){return{point:e,delta:rp(e,O0(t)),offset:rp(e,wj(t)),velocity:Sj(t,.1)}}function wj(e){return e[0]}function O0(e){return e[e.length-1]}function Sj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=O0(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Xt(t)));)n--;if(!r)return{x:0,y:0};const s=Zt(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function kj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ye(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ye(n,e,r.max):Math.min(e,n)),e}function ip(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function jj(e,{top:t,left:n,bottom:r,right:i}){return{x:ip(e.x,n,i),y:ip(e.y,t,r)}}function sp(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function bj(e,t){return{x:sp(e.x,t.x),y:sp(e.y,t.y)}}function Nj(e,t){let n=.5;const r=qe(e),i=qe(t);return i>r?n=Cs(t.min,t.max-r,e.min):r>i&&(n=Cs(e.min,e.max-i,t.min)),fn(0,1,n)}function Cj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const nu=.35;function Tj(e=nu){return e===!1?e=0:e===!0&&(e=nu),{x:op(e,"left","right"),y:op(e,"top","bottom")}}function op(e,t,n){return{min:ap(e,t),max:ap(e,n)}}function ap(e,t){return typeof e=="number"?e:e[t]||0}const Pj=new WeakMap;class Ej{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Os(h).point)},o=(h,f)=>{const{drag:y,dragPropagation:v,onDragStart:w}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FS(y),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ct(p=>{let m=this.getAxisMotionValue(p).get()||0;if(Jt.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const j=g.layout.layoutBox[p];j&&(m=qe(j)*(parseFloat(m)/100))}}this.originPoint[p]=m}),w&&fe.postRender(()=>w(h,f)),eu(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:w,onDrag:k}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:p}=f;if(v&&this.currentDirection===null){this.currentDirection=Mj(p),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,p),this.updateAxis("y",f.point,p),this.visualElement.render(),k&&k(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ct(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new V0(t,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:U0(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&fe.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!ko(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=kj(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Hr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=jj(r.layoutBox,t):this.constraints=!1,this.elastic=Tj(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ct(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Cj(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Hr(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Ik(r,i.root,this.visualElement.getTransformPagePoint());let o=bj(i.layout.layoutBox,s);if(n){const l=n(Pk(o));this.hasMutatedConstraints=!!l,l&&(o=j0(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ct(d=>{if(!ko(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,y=i?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return eu(this.visualElement,t),r.start(Od(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ct(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ct(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ct(n=>{const{drag:r}=this.getProps();if(!ko(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(t[n]-ye(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hr(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ct(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=Nj({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ct(o=>{if(!ko(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ye(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Pj.set(this.visualElement,this);const t=this.visualElement.current,n=is(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Hr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),fe.read(r);const o=Is(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ct(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=nu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function ko(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Mj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ij extends Gn{constructor(t){super(t),this.removeGroupControls=It,this.removeListeners=It,this.controls=new Ej(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||It}unmount(){this.removeGroupControls(),this.removeListeners()}}const lp=e=>(t,n)=>{e&&fe.postRender(()=>e(t,n))};class Aj extends Gn{constructor(){super(...arguments),this.removePointerDownListener=It}onPointerDown(t){this.session=new V0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:U0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:lp(t),onStart:lp(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&fe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=is(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Oi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(H.test(e))e=parseFloat(e);else return e;const n=cp(e,t.target.x),r=cp(e,t.target.y);return`${n}% ${r}%`}},Rj={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=On.parse(e);if(i.length>5)return r;const s=On.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=ye(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let Rl=!1;class Lj extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;nk(Dj),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Rl&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Vo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Rl=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||fe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ed.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;Rl=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function z0(e){const[t,n]=c0(),r=x.useContext(ad);return a.jsx(Lj,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(S0),isPresent:t,safeToRemove:n})}const Dj={borderRadius:{...Oi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oi,borderTopRightRadius:Oi,borderBottomLeftRadius:Oi,borderBottomRightRadius:Oi,boxShadow:Rj};function Fj(e,t,n){const r=Qe(e)?e:hi(e);return r.start(Od("",r,t,n)),r.animation}const _j=(e,t)=>e.depth-t.depth;class Uj{constructor(){this.children=[],this.isDirty=!1}add(t){ud(this.children,t),this.isDirty=!0}remove(t){dd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_j),this.isDirty=!1,this.children.forEach(t)}}function Vj(e,t){const n=at.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Vn(r),e(s-t))};return fe.setup(r,!0),()=>Vn(r)}const B0=["TopLeft","TopRight","BottomLeft","BottomRight"],Oj=B0.length,up=e=>typeof e=="string"?parseFloat(e):e,dp=e=>typeof e=="number"||H.test(e);function zj(e,t,n,r,i,s){i?(e.opacity=ye(0,n.opacity??1,Bj(r)),e.opacityExit=ye(t.opacity??1,0,$j(r))):s&&(e.opacity=ye(t.opacity??1,n.opacity??1,r));for(let o=0;o<Oj;o++){const l=`border${B0[o]}Radius`;let c=hp(t,l),u=hp(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||dp(c)===dp(u)?(e[l]=Math.max(ye(up(c),up(u),r),0),(Jt.test(u)||Jt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ye(t.rotate||0,n.rotate||0,r))}function hp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Bj=$0(0,.5,Ey),$j=$0(.5,.95,It);function $0(e,t,n){return r=>r<e?0:r>t?1:n(Cs(e,t,r))}function fp(e,t){e.min=t.min,e.max=t.max}function Nt(e,t){fp(e.x,t.x),fp(e.y,t.y)}function pp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function mp(e,t,n,r,i){return e-=t,e=ga(e,1/n,r),i!==void 0&&(e=ga(e,1/i,r)),e}function Wj(e,t=0,n=1,r=.5,i,s=e,o=e){if(Jt.test(t)&&(t=parseFloat(t),t=ye(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ye(s.min,s.max,r);e===s&&(l-=t),e.min=mp(e.min,t,n,l,i),e.max=mp(e.max,t,n,l,i)}function gp(e,t,[n,r,i],s,o){Wj(e,t[n],t[r],t[i],t.scale,s,o)}const Gj=["x","scaleX","originX"],Yj=["y","scaleY","originY"];function yp(e,t,n,r){gp(e.x,t,Gj,n?n.x:void 0,r?r.x:void 0),gp(e.y,t,Yj,n?n.y:void 0,r?r.y:void 0)}function xp(e){return e.translate===0&&e.scale===1}function W0(e){return xp(e.x)&&xp(e.y)}function vp(e,t){return e.min===t.min&&e.max===t.max}function Hj(e,t){return vp(e.x,t.x)&&vp(e.y,t.y)}function wp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function G0(e,t){return wp(e.x,t.x)&&wp(e.y,t.y)}function Sp(e){return qe(e.x)/qe(e.y)}function kp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Kj{constructor(){this.members=[]}add(t){ud(this.members,t),t.scheduleRender()}remove(t){if(dd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qj(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:y,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Ll=["","X","Y","Z"],Xj=1e3;let Zj=0;function Dl(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Y0(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=I0(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",fe,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Y0(r)}function H0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Zj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eb),this.nodes.forEach(ib),this.nodes.forEach(sb),this.nodes.forEach(tb)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uj)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pd),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=l0(o)&&!BS(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;fe.read(()=>{h=window.innerWidth}),e(o,()=>{const y=window.innerWidth;y!==h&&(h=y,this.root.updateBlockedByResize=!0,d&&d(),d=Vj(f,250),Vo.hasAnimatedSinceResize&&(Vo.hasAnimatedSinceResize=!1,this.nodes.forEach(Np)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||ub,{onLayoutAnimationStart:w,onLayoutAnimationComplete:k}=u.getProps(),p=!this.targetLayout||!G0(this.targetLayout,y),m=!h&&f;if(this.options.layoutRoot||this.resumeFrom||m||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...Td(v,"layout"),onPlay:w,onComplete:k};(u.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(d,m)}else h||Np(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ob),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Y0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rb),this.nodes.forEach(Jj),this.nodes.forEach(qj)):this.nodes.forEach(bp),this.clearAllSnapshots();const l=at.now();ze.delta=fn(0,1e3/60,l-ze.timestamp),ze.timestamp=l,ze.isProcessing=!0,jl.update.process(ze),jl.preRender.process(ze),jl.render.process(ze),ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ed.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nb),this.sharedNodes.forEach(ab)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qe(this.snapshot.measuredBox.x)&&!qe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!W0(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||qn(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),db(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return be();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(hb))){const{scroll:d}=this.root;d&&(Kr(l.x,d.offset.x),Kr(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=be();if(Nt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Nt(l,o),Kr(l.x,h.offset.x),Kr(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=be();Nt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),qn(d.latestValues)&&Qr(c,d.latestValues)}return qn(this.latestValues)&&Qr(c,this.latestValues),c}removeTransform(o){const l=be();Nt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!qn(u.latestValues))continue;Xc(u.latestValues)&&u.updateSnapshot();const d=be(),h=u.measurePageBox();Nt(d,h),yp(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return qn(this.latestValues)&&yp(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=ze.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),os(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nt(this.target,this.layout.layoutBox),N0(this.target,this.targetDelta)):Nt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),os(this.relativeTargetOrigin,this.target,y.target),Nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xc(this.parent.latestValues)||b0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ze.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Nt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Mk(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=be());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pp(this.prevProjectionDelta.x,this.projectionDelta.x),pp(this.prevProjectionDelta.y,this.projectionDelta.y)),ss(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!kp(this.projectionDelta.x,this.prevProjectionDelta.x)||!kp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xr(),this.projectionDelta=Xr(),this.projectionDeltaWithTransform=Xr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Xr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=be(),y=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,k=this.getStack(),p=!k||k.members.length<=1,m=!!(w&&!p&&this.options.crossfade===!0&&!this.path.some(cb));this.animationProgress=0;let g;this.mixTargetDelta=j=>{const b=j/1e3;Cp(h.x,o.x,b),Cp(h.y,o.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(os(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lb(this.relativeTarget,this.relativeTargetOrigin,f,b),g&&Hj(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=be()),Nt(g,this.relativeTarget)),w&&(this.animationValues=d,zj(d,u,this.latestValues,b,m,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fe.update(()=>{Vo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hi(0)),this.currentAnimation=Fj(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&K0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||be();const h=qe(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=qe(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Nt(l,c),Qr(l,d),ss(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Kj),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Dl("z",o,u,this.animationValues);for(let d=0;d<Ll.length;d++)Dl(`rotate${Ll[d]}`,o,u,this.animationValues),Dl(`skew${Ll[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Uo(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Uo(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!qn(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Qj(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Ms){if(d[v]===void 0)continue;const{correct:w,applyTo:k,isCSSVariable:p}=Ms[v],m=h==="none"?d[v]:w(d[v],u);if(k){const g=k.length;for(let j=0;j<g;j++)o[k[j]]=m}else p?this.options.visualElement.renderState.vars[v]=m:o[v]=m}this.options.layoutId&&(o.pointerEvents=u===this?Uo(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(jp),this.root.sharedNodes.clear()}}}function Jj(e){e.updateLayout()}function qj(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Ct(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],y=qe(f);f.min=r[h].min,f.max=f.min+y}):K0(s,t.layoutBox,r)&&Ct(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],y=qe(r[h]);f.max=f.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+y)});const l=Xr();ss(l,r,t.layoutBox);const c=Xr();o?ss(c,e.applyTransform(i,!0),t.measuredBox):ss(c,r,t.layoutBox);const u=!W0(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:y}=h;if(f&&y){const v=be();os(v,t.layoutBox,f.layoutBox);const w=be();os(w,r,y.layoutBox),G0(v,w)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function eb(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tb(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nb(e){e.clearSnapshot()}function jp(e){e.clearMeasurements()}function bp(e){e.isLayoutDirty=!1}function rb(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Np(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ib(e){e.resolveTargetDelta()}function sb(e){e.calcProjection()}function ob(e){e.resetSkewAndRotation()}function ab(e){e.removeLeadSnapshot()}function Cp(e,t,n){e.translate=ye(t.translate,0,n),e.scale=ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Tp(e,t,n,r){e.min=ye(t.min,n.min,r),e.max=ye(t.max,n.max,r)}function lb(e,t,n,r){Tp(e.x,t.x,n.x,r),Tp(e.y,t.y,n.y,r)}function cb(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ub={duration:.45,ease:[.4,0,.1,1]},Pp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ep=Pp("applewebkit/")&&!Pp("chrome/")?Math.round:It;function Mp(e){e.min=Ep(e.min),e.max=Ep(e.max)}function db(e){Mp(e.x),Mp(e.y)}function K0(e,t,n){return e==="position"||e==="preserve-aspect"&&!yj(Sp(t),Sp(n),.2)}function hb(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const fb=H0({attachResizeListener:(e,t)=>Is(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fl={current:void 0},Q0=H0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fl.current){const e=new fb({});e.mount(window),e.setOptions({layoutScroll:!0}),Fl.current=e}return Fl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pb={pan:{Feature:Aj},drag:{Feature:Ij,ProjectionNode:Q0,MeasureLayout:z0}};function Ip(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&fe.postRender(()=>s(t,Os(t)))}class mb extends Gn{mount(){const{current:t}=this.node;t&&(this.unmount=_S(t,(n,r)=>(Ip(this.node,r,"Start"),i=>Ip(this.node,i,"End"))))}unmount(){}}class gb extends Gn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_s(Is(this.node.current,"focus",()=>this.onFocus()),Is(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ap(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&fe.postRender(()=>s(t,Os(t)))}class yb extends Gn{mount(){const{current:t}=this.node;t&&(this.unmount=zS(t,(n,r)=>(Ap(this.node,r,"Start"),(i,{success:s})=>Ap(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ru=new WeakMap,_l=new WeakMap,xb=e=>{const t=ru.get(e.target);t&&t(e)},vb=e=>{e.forEach(xb)};function wb({root:e,...t}){const n=e||document;_l.has(n)||_l.set(n,{});const r=_l.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(vb,{root:e,...t})),r[i]}function Sb(e,t,n){const r=wb(t);return ru.set(e,n),r.observe(e),()=>{ru.delete(e),r.unobserve(e)}}const kb={some:0,all:1};class jb extends Gn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:kb[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return Sb(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(bb(t,n))&&this.startObserver()}unmount(){}}function bb({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Nb={inView:{Feature:jb},tap:{Feature:yb},focus:{Feature:gb},hover:{Feature:mb}},Cb={layout:{ProjectionNode:Q0,MeasureLayout:z0}},Tb={...dj,...Nb,...pb,...Cb},zi=Tk(Tb,Ok),Pb=({isOpen:e,onClose:t,feature:n})=>{const r={remix:{icon:xf,title:"Unlock Remix",description:"Sign up to remix and create your own variations of community creations",benefits:["Try any style","Create variations","Share your remixes"]},save:{icon:Fn,title:"Save Favorites",description:"Sign up to save your favorite creations and build your collection",benefits:["Save favorites","Create collections","Access anytime"]},share:{icon:Fa,title:"Share Creations",description:"Sign up to share your AI creations with the community",benefits:["Share to social","Get feedback","Build audience"]},upload:{icon:R1,title:"Upload Photos",description:"Sign up to upload your own photos and apply AI filters",benefits:["Upload photos","Apply filters","Create art"]},ai:{icon:xf,title:"Access AI Filters",description:"Sign up to unlock powerful AI filters and transformations",benefits:["AI filters","Style mixing","High-res output"]}},i=r[n]||r.remix,s=i.icon,o=()=>{t(),console.log("Redirecting to signup flow...")};return a.jsx(QS,{children:e&&a.jsx(zi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(zi.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-[#222222] border border-white/10 rounded-2xl max-w-md w-full p-6 relative shadow-2xl text-white",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:a.jsx(Ht,{size:24})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center",children:a.jsx(s,{size:32,className:"text-white"})})}),a.jsx("h1",{className:"text-xl font-bold text-white mb-2",children:i.title}),a.jsx("p",{className:"text-white/60",children:i.description})]}),a.jsx("div",{className:"space-y-3 mb-6",children:i.benefits.map((l,c)=>a.jsxs(zi.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:c*.1},className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-white/10 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(O1,{size:12,className:"text-white"})}),a.jsx("span",{className:"text-sm text-white/70",children:l})]},c))}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(zi.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:o,className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-white/90 transition-colors",children:"Sign Up Free"}),a.jsx(zi.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full bg-white/5 text-white font-semibold py-4 rounded-xl hover:bg-white/10 transition-colors border border-white/20",children:"Continue Browsing"})]}),a.jsx("p",{className:"text-center text-xs text-white/40 mt-4",children:"Free to sign up  No credit card required"})]})})})},Eb="modulepreload",Mb=function(e){return"/"+e},Rp={},iu=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Mb(s),s in Rp)return;Rp[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Eb,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function Lp(e){return(e==null?void 0:e.auto)===!0&&(e==null?void 0:e.source)==="preset"}function Dp(e){return!e||e.userInitiated!==!0?(console.warn(" Blocked non-user-initiated generation",JSON.stringify(e)),console.trace("Call stack trace:"),!0):!1}const Ib={inFlight:!1,async run(e){if(this.inFlight)return console.warn(" Generation already in flight, ignoring new request"),null;this.inFlight=!0;try{return await e()}finally{this.inFlight=!1}},isRunning(){return this.inFlight},reset(){this.inFlight=!1}},an=({size:e=16,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[a.jsx("circle",{cx:"7",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"}),a.jsx("circle",{cx:"17",cy:"17",r:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"}),a.jsx("path",{d:"M11 7 L13 17",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M13 7 L11 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("path",{d:"M12 15.5 L13 17 L14 15.5",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 8.5 L11 7 L10 8.5",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:"currentColor"}),a.jsx("circle",{cx:"9",cy:"9",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"15",cy:"15",r:"1",fill:"currentColor"})]}),Ab=({id:e,title:t,prompt:n,gradient:r,icon:i,creatorName:s,isLoggedIn:o,onLike:l,onRemix:c,onShare:u,onShowAuth:d,onFilterCreator:h,onShowMedia:f,isLiked:y=!1,likesCount:v=0,remixesCount:w=0,aspectRatio:k=1})=>{const[p,m]=x.useState(y),[g,j]=x.useState(v),b=async()=>{if(!o){d();return}const $=!p;m($),j($?g+1:g-1),l(e)},T=()=>{if(!o){d();return}c&&c(e)},M=()=>{if(!o){d();return}u&&u(e)},C=()=>k<=.6?"aspect-[9/16]":"aspect-square";return a.jsxs("div",{className:`${C()} relative bg-white/5 rounded-lg overflow-hidden cursor-pointer group transition-all duration-300 hover:bg-white/10 hover:scale-[1.02]`,onClick:$=>{$.stopPropagation(),f==null||f(e,t,n)},children:[a.jsx("div",{className:`w-full h-full bg-gradient-to-br ${r} flex items-center justify-center relative`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-3",children:a.jsx(i,{size:28,className:"text-white"})}),a.jsx("p",{className:"text-white/60 text-sm text-center",children:t})]})}),a.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300",children:[a.jsx("div",{className:"absolute top-3 left-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsx("button",{onClick:$=>{$.stopPropagation(),h==null||h(s)},className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:`View ${s}'s content`,children:a.jsx("span",{className:"text-white text-xs font-medium",children:s.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[u&&a.jsx("button",{onClick:$=>{$.stopPropagation(),M()},className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Share",children:a.jsx(Fa,{size:14,className:"text-white"})}),a.jsx("button",{onClick:$=>{$.stopPropagation(),b()},className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Like",children:a.jsx(Fn,{size:14,className:`${p?"text-red-500 fill-red-500":"text-white"}`})}),c&&a.jsx("button",{onClick:$=>{$.stopPropagation(),T()},className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Remix",children:a.jsx(an,{size:14,className:"text-white"})})]}),a.jsxs("div",{className:"absolute bottom-3 left-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col space-y-1",children:[g>0&&a.jsxs("span",{className:"text-white/80 text-xs bg-black/50 px-2 py-1 rounded-full backdrop-blur-sm",children:[g," ",g===1?"like":"likes"]}),w>0&&a.jsxs("span",{className:"text-white/80 text-xs bg-black/50 px-2 py-1 rounded-full backdrop-blur-sm",children:[w," ",w===1?"remix":"remixes"]})]})]})]})},er=class er{constructor(){me(this,"authState",{isAuthenticated:!1,user:null,token:null});this.loadAuthState()}static getInstance(){return er.instance||(er.instance=new er),er.instance}loadAuthState(){try{const t=localStorage.getItem("auth_token"),n=localStorage.getItem("user_data");if(t&&n)try{const r=JSON.parse(n);this.authState={isAuthenticated:!0,user:r,token:t}}catch(r){console.error("Error parsing user data:",r),this.clearAuthState()}}catch(t){console.error("Error loading auth state:",t),this.clearAuthState()}}getAuthState(){return{...this.authState}}isAuthenticated(){return this.authState.isAuthenticated}getCurrentUser(){return this.authState.user}getToken(){return this.authState.token}setAuthState(t,n){this.authState={isAuthenticated:!0,user:n,token:t},localStorage.setItem("auth_token",t),localStorage.setItem("user_data",JSON.stringify(n))}clearAuthState(){this.authState={isAuthenticated:!1,user:null,token:null},localStorage.removeItem("auth_token"),localStorage.removeItem("user_data")}logout(){try{fetch("/.netlify/functions/logout",{method:"POST"}).catch(()=>{})}finally{this.clearAuthState()}}getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Bearer ${this.authState.token}`}}isTokenValid(){if(!this.authState.token)return!1;try{return this.authState.token.split(".").length===3}catch{return!1}}refreshAuthState(){this.loadAuthState()}};me(er,"instance");let su=er;const ae=su.getInstance(),zd=({isOpen:e,media:t,startIndex:n=0,onClose:r,onLike:i,onRemix:s,onShowAuth:o})=>{var b;const[l,c]=x.useState(n),u=x.useMemo(()=>t[l],[t,l]),[d,h]=x.useState((u==null?void 0:u.likes)??0),[f,y]=x.useState(!1),[v,w]=x.useState((u==null?void 0:u.remixCount)??0);x.useEffect(()=>{c(n)},[n]),x.useEffect(()=>{u&&(h(u.likes??0),w(u.remixCount??0))},[u]);const k=()=>{if(!ae.isAuthenticated()){o?o():window.location.href="/auth";return}i&&(y(!f),h(f?d-1:d+1),i(u))},p=()=>{if(!ae.isAuthenticated()){o?o():window.location.href="/auth";return}s&&(w(v+1),s(u))};if(x.useEffect(()=>{if(!e)return;const T=M=>{M.key==="Escape"&&r(),M.key==="ArrowRight"&&c(C=>(C+1)%t.length),M.key==="ArrowLeft"&&c(C=>(C-1+t.length)%t.length)};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[e,t.length,r]),!e||!u)return null;const m=()=>c(T=>(T-1+t.length)%t.length),g=()=>c(T=>(T+1)%t.length),j=new Date(u.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return a.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-sm",children:[a.jsx("button",{onClick:r,className:"absolute top-4 right-4 w-12 h-12 flex items-center justify-center text-white hover:text-white/80 bg-black/50 rounded-full backdrop-blur-sm z-50","aria-label":"Close viewer",title:"Close",children:a.jsx(Ht,{size:24})}),a.jsxs("div",{className:"h-full w-full flex flex-col",children:[a.jsx("div",{className:"bg-black/80 backdrop-blur-sm p-4",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[a.jsxs("span",{className:"text-white text-sm",children:["User ",((b=u.userId)==null?void 0:b.slice(0,6))||"Unknown"]}),a.jsx("span",{className:"text-white text-sm",children:""}),a.jsx("span",{className:"text-white text-sm",children:j})]})})}),a.jsxs("div",{className:"flex-1 relative flex flex-col items-center justify-start pt-4",children:[t.length>1&&a.jsx("button",{onClick:m,className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center text-white hover:text-white/80","aria-label":"Previous",title:"Previous",children:a.jsx(D1,{size:20})}),a.jsx("div",{className:"max-w-full max-h-full object-contain",children:u.type==="video"?a.jsx("video",{src:u.url,className:"max-w-full max-h-[calc(100vh-200px)] object-contain",controls:!0,autoPlay:!0,muted:!0}):a.jsx("img",{src:u.url,alt:u.prompt,className:"max-w-full max-h-[calc(100vh-200px)] object-contain"})}),t.length>1&&a.jsx("button",{onClick:g,className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center text-white hover:text-white/80","aria-label":"Next",title:"Next",children:a.jsx(F1,{size:20})}),a.jsxs("div",{className:"mt-6 text-center max-w-4xl",children:[a.jsxs("div",{className:"text-white text-sm leading-relaxed group relative mb-4",children:[a.jsx("span",{className:"text-white/60",children:"Prompt: "}),a.jsx("span",{className:"cursor-pointer truncate inline",title:u.prompt,children:u.prompt}),u.prompt.length>60&&a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 p-3 bg-black/90 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-normal max-w-md z-50",children:u.prompt})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-6",children:[a.jsxs("button",{onClick:k,className:"flex flex-col items-center space-y-1 text-white hover:text-white/80 transition-colors",children:[a.jsx(Fn,{size:16,className:`${f?"text-red-500 fill-red-500":"text-white"}`}),a.jsx("span",{className:"text-xs",children:d>0?d:"Like"})]}),a.jsxs("button",{onClick:p,className:"flex flex-col items-center space-y-1 text-white hover:text-white/80 transition-colors",children:[a.jsx(an,{size:16,className:"text-white"}),a.jsx("span",{className:"text-xs",children:v>0?v:"Remix"})]})]})]})]})]})]})},X0=({isOpen:e,onClose:t,onSignup:n})=>a.jsxs("div",{className:`fixed inset-0 z-50 ${e?"":"pointer-events-none"}`,children:[a.jsx("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ${e?"opacity-100":"opacity-0"}`,style:{left:"40vw",width:"60vw"},onClick:t}),a.jsx("div",{className:`absolute bottom-0 transform transition-transform duration-300 ${e?"translate-y-0":"translate-y-full"}`,style:{left:"40vw",width:"60vw",maxWidth:"60vw"},children:a.jsxs("div",{className:"mx-auto max-w-xl w-full bg-[#222222] text-white rounded-t-2xl shadow-2xl border border-white/10 p-5",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold",children:"Create an account to continue"}),a.jsx("p",{className:"text-sm text-white/70 mt-1",children:"You've reached the guest preview limit. Sign up to browse all media."})]}),a.jsx("button",{onClick:t,className:"text-white/60 hover:text-white",children:""})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx("button",{onClick:n,className:"px-4 py-2 bg-white text-black rounded-lg font-medium hover:bg-white/90 transition-colors text-sm shadow-lg",children:"Sign Up"})})]})})]});var De=(e=>(e.REGISTERED="registered",e.VERIFIED="verified",e.CONTRIBUTOR="contributor",e))(De||{});const tr=class tr{constructor(){me(this,"totalTokens",25e7);me(this,"usedTokens",0);me(this,"rateLimitWindow",30);me(this,"dailyResetHour",0);me(this,"tokenLimits",{registered:115,verified:215,contributor:410});me(this,"tokenCosts",{photo:{standard:2,high:2},video:{standard:5,high:5}});me(this,"rateLimitCache",new Map);me(this,"deviceCache",new Map);this.loadTokenUsage(),this.startDailyReset()}static getInstance(){return tr.instance||(tr.instance=new tr),tr.instance}async canGenerate(t,n,r,i="high"){const s=await this.getUserUsage(t),o=this.getTokenCost(r,i);return this.isRateLimited(t)?{canGenerate:!1,reason:"Rate limited. Please wait 30 seconds between generations."}:s.dailyUsage+o>s.dailyLimit?{canGenerate:!1,reason:`Daily limit reached. You have ${s.dailyLimit-s.dailyUsage} tokens remaining.`,remainingTokens:s.dailyLimit-s.dailyUsage}:this.usedTokens+o>this.totalTokens?{canGenerate:!1,reason:"Service temporarily unavailable due to high demand."}:{canGenerate:!0,remainingTokens:s.dailyLimit-s.dailyUsage-o}}async generateContent(t,n,r,i="high",s,o,l){if(!(await this.canGenerate(t,n,r,i)).canGenerate)return{success:!1,tokensUsed:0};const u=this.getTokenCost(r,i),d=this.generateId(),h={id:d,userId:t,type:r,quality:i,tokensUsed:u,timestamp:new Date().toISOString(),prompt:s,ipAddress:o,deviceId:l},f=await this.getUserUsage(t);return f.dailyUsage+=u,f.totalUsage+=u,await this.saveUserUsage(t,f),this.usedTokens+=u,this.setRateLimit(t),this.trackDeviceUsage(l,t),await this.saveGeneration(h),{success:!0,tokensUsed:u,generationId:d}}async getUserUsage(t){const n=localStorage.getItem(`token_usage_${t}`);if(n){const i=JSON.parse(n);return this.shouldResetDaily(i.lastReset)&&(i.dailyUsage=0,i.lastReset=new Date().toISOString(),await this.saveUserUsage(t,i)),i}const r={userId:t,dailyUsage:0,dailyLimit:this.tokenLimits.registered,lastReset:new Date().toISOString(),totalUsage:0,userTier:"registered",isRateLimited:!1,lastGeneration:""};return await this.saveUserUsage(t,r),r}async updateUserTier(t,n){localStorage.removeItem(`token_usage_${t}`);const r={userId:t,dailyUsage:0,dailyLimit:this.tokenLimits[n],lastReset:new Date().toISOString(),totalUsage:0,userTier:n,isRateLimited:!1,lastGeneration:""};await this.saveUserUsage(t,r)}async addBonusTokens(t,n){const r=await this.getUserUsage(t);r.dailyLimit+=n,await this.saveUserUsage(t,r)}async generateReferralCode(t){const n=`STEFNA-${t.slice(-6).toUpperCase()}-${Math.random().toString(36).substr(2,4).toUpperCase()}`,r=JSON.parse(localStorage.getItem("referral_codes")||"{}");return r[n]={userId:t,createdAt:new Date().toISOString(),invites:0,tokensEarned:0},localStorage.setItem("referral_codes",JSON.stringify(r)),n}async processInvite(t,n){const r=JSON.parse(localStorage.getItem("referral_codes")||"{}"),i=r[t];if(!i)return{success:!1,tokensAwarded:0};const s=50;await this.addBonusTokens(i.userId,s);const o=25;return await this.addBonusTokens(n,o),i.invites+=1,i.tokensEarned+=s,r[t]=i,localStorage.setItem("referral_codes",JSON.stringify(r)),{success:!0,tokensAwarded:s+o}}async getReferralStats(t){const n=JSON.parse(localStorage.getItem("referral_codes")||"{}");for(const[i,s]of Object.entries(n))if(s.userId===t)return{invites:s.invites||0,tokensEarned:s.tokensEarned||0,referralCode:i};return{invites:0,tokensEarned:0,referralCode:await this.generateReferralCode(t)}}async checkForAbuse(t,n){return(this.deviceCache.get(t)||[]).length>3?{isAbuse:!0,reason:"Too many accounts from same device"}:Array.from(this.deviceCache.values()).flat().filter(o=>o.includes(n)).length>5?{isAbuse:!0,reason:"Too many accounts from same IP"}:{isAbuse:!1}}getTokenCost(t,n){return this.tokenCosts[t][n]}isRateLimited(t){const n=this.rateLimitCache.get(t);return n?Date.now()-n<this.rateLimitWindow*1e3:!1}setRateLimit(t){this.rateLimitCache.set(t,Date.now())}trackDeviceUsage(t,n){const r=this.deviceCache.get(t)||[];r.includes(n)||(r.push(n),this.deviceCache.set(t,r))}shouldResetDaily(t){const n=new Date(t),r=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate(),this.dailyResetHour);return n<i}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}async saveUserUsage(t,n){localStorage.setItem(`token_usage_${t}`,JSON.stringify(n))}async saveGeneration(t){const n=JSON.parse(localStorage.getItem("token_generations")||"[]");n.push(t),localStorage.setItem("token_generations",JSON.stringify(n))}loadTokenUsage(){const t=localStorage.getItem("total_used_tokens");t&&(this.usedTokens=parseInt(t))}startDailyReset(){setInterval(()=>{const t=new Date;t.getUTCHours()===this.dailyResetHour&&t.getUTCMinutes()===0&&this.resetAllDailyUsage()},6e4)}resetAllDailyUsage(){console.log("Daily token reset completed")}getServiceStats(){const t=this.totalTokens-this.usedTokens,n=this.usedTokens/this.totalTokens*100;return{totalTokens:this.totalTokens,usedTokens:this.usedTokens,remainingTokens:t,usagePercentage:n}}emergencyDisable(){this.totalTokens=0,console.warn("Token service emergency disabled")}emergencyRestore(t){this.totalTokens=t,console.log(`Token service restored with ${t} tokens`)}};me(tr,"instance");let ou=tr;const pt=ou.getInstance(),nr=class nr{constructor(){me(this,"config");this.config=this.loadEnvironmentConfig()}static getInstance(){return nr.instance||(nr.instance=new nr),nr.instance}loadEnvironmentConfig(){return{appEnv:{}.VITE_APP_ENV||"development",debugMode:{}.VITE_DEBUG_MODE==="true",supabaseUrl:{}.VITE_SUPABASE_URL||"",supabaseAnonKey:{}.VITE_SUPABASE_ANON_KEY||""}}getConfig(){return this.config}getAppEnv(){return this.config.appEnv}isDebugMode(){return this.config.debugMode}isProduction(){return this.config.appEnv==="production"}getSupabaseUrl(){return this.config.supabaseUrl}getSupabaseAnonKey(){return this.config.supabaseAnonKey}isConfigured(){const t={}.VITE_AIML_API_KEY;return t?(console.log(" AIML API key found:",t?"Configured":"Missing"),!this.config.supabaseUrl||!this.config.supabaseAnonKey?(console.error("Missing Supabase configuration!"),console.error("Expected: VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY"),console.error("Available VITE_ vars:",Object.keys({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}).filter(n=>n.startsWith("VITE_")).join(", ")),!1):(console.log(" Supabase configuration found"),this.config.appEnv==="development",!0)):(console.error("Missing AIML API key!"),console.error("Expected: VITE_AIML_API_KEY"),console.error("Available VITE_ vars:",Object.keys({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}).filter(n=>n.startsWith("VITE_")).join(", ")),!1)}getConfigStatus(){return{fullyConfigured:this.isConfigured(),supabaseConfigured:!!(this.config.supabaseUrl&&this.config.supabaseAnonKey),aimlConfigured:!!{}.VITE_AIML_API_KEY}}};me(nr,"instance");let au=nr;const Rb=au.getInstance(),rr=class rr{static getInstance(){return rr.instance||(rr.instance=new rr),rr.instance}constructor(){}async uploadFile(t,n){try{if(t.size>8*1024*1024)throw new Error("File too large. Maximum size is 8MB. Please compress your file or use a smaller one.");return t.size<=300*1024?await this.uploadAsBase64(t,n):await this.uploadWithCompression(t,n)}catch(r){throw console.error("Upload failed:",r),r instanceof Error?r:new Error("Upload failed")}}async uploadToNetlify(t,n){try{n==null||n({progress:0,status:"uploading"});const r=new FormData;r.append("file",t);const i=await fetch("/.netlify/functions/upload",{method:"POST",body:r});if(!i.ok)throw new Error(`Upload failed: ${i.status}`);const s=await i.json();return n==null||n({progress:100,status:"completed"}),{url:s.url,filename:s.filename||t.name,size:t.size,type:t.type}}catch(r){throw n==null||n({progress:0,status:"error",error:r instanceof Error?r.message:"Upload failed"}),r instanceof Error?r:new Error("Upload failed")}}async uploadAsBase64(t,n){return new Promise((r,i)=>{const s=new FileReader;s.onload=()=>{try{const l=s.result;n==null||n({progress:100,status:"completed"}),r({url:l,filename:t.name,size:t.size,type:t.type})}catch(o){n==null||n({progress:0,status:"error",error:o instanceof Error?o.message:"Upload failed"}),i(o)}},s.onerror=()=>{const o=new Error("Failed to read file");n==null||n({progress:0,status:"error",error:o instanceof Error?o.message:"Upload failed"}),i(o)},s.readAsDataURL(t)})}async uploadWithCompression(t,n){try{n==null||n({progress:0,status:"uploading"});const r=await this.compressFile(t);if(n==null||n({progress:50,status:"uploading"}),r.size<=300*1024)return n==null||n({progress:75,status:"uploading"}),await this.uploadAsBase64(r,n);if(r.size>500*1024){const l=await this.aggressiveCompressFile(t);if(l.size<=500*1024)return n==null||n({progress:75,status:"uploading"}),await this.uploadAsBase64(l,n)}const i=new FormData;i.append("file",r);const s=await fetch("/.netlify/functions/upload",{method:"POST",body:i});if(!s.ok)throw new Error(`Upload failed: ${s.status} - ${s.statusText}`);const o=await s.json();return n==null||n({progress:100,status:"completed"}),{url:o.url,filename:o.filename||t.name,size:r.size,type:r.type}}catch(r){throw n==null||n({progress:0,status:"error",error:r instanceof Error?r.message:"Upload failed"}),r instanceof Error?r:new Error("Upload failed")}}async aggressiveCompressFile(t){return new Promise((n,r)=>{if(t.type.startsWith("image/")){const i=document.createElement("canvas"),s=i.getContext("2d"),o=new Image;o.onload=()=>{let{width:c,height:u}=o;c>u?c>800&&(u=u*800/c,c=800):u>800&&(c=c*800/u,u=800),i.width=c,i.height=u,s==null||s.drawImage(o,0,0,c,u),i.toBlob(d=>{if(d){const h=new File([d],t.name,{type:"image/jpeg"});n(h)}else r(new Error("Failed to compress image aggressively"))},"image/jpeg",.6)},o.onerror=()=>r(new Error("Failed to load image")),o.src=URL.createObjectURL(t)}else n(t)})}async compressFile(t){return new Promise((n,r)=>{if(t.type.startsWith("image/")){const i=document.createElement("canvas"),s=i.getContext("2d"),o=new Image;o.onload=()=>{let{width:c,height:u}=o;c>u?c>1024&&(u=u*1024/c,c=1024):u>1024&&(c=c*1024/u,u=1024),i.width=c,i.height=u,s==null||s.drawImage(o,0,0,c,u),i.toBlob(d=>{if(d){const h=new File([d],t.name,{type:"image/jpeg"});n(h)}else r(new Error("Failed to compress image"))},"image/jpeg",.8)},o.onerror=()=>r(new Error("Failed to load image")),o.src=URL.createObjectURL(t)}else n(t)})}isNetlifyEnvironment(){return typeof window<"u"&&window.location.hostname.includes("netlify")}validateFileForI2I(t){return["image/jpeg","image/jpg","image/png","image/webp"].includes(t.type)}validateFileForV2V(t){return["video/mp4","video/webm","video/avi","video/mov"].includes(t.type)}getFileSizeString(t){const n=["Bytes","KB","MB","GB"];if(t===0)return"0 Bytes";const r=Math.floor(Math.log(t)/Math.log(1024));return Math.round(t/Math.pow(1024,r)*100)/100+" "+n[r]}createPreviewUrl(t){return URL.createObjectURL(t)}revokePreviewUrl(t){t.startsWith("blob:")&&URL.revokeObjectURL(t)}};me(rr,"instance");let lu=rr;const jo=lu.getInstance();function Lb(){return ae.getAuthState().token||localStorage.getItem("token")}async function Db(e,t={}){const n=Lb();if(!n)throw new Error("Not logged in");return fetch(e,{...t,headers:{...t.headers||{},Authorization:`Bearer ${n}`}})}const ir=class ir{constructor(){me(this,"generationQueue",new Map);const t={}.VITE_AIML_API_KEY,n=Object.keys({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}).filter(r=>r.startsWith("VITE_")).join(", ");if(console.log(" Environment check:",{VITE_AIML_API_KEY:{}.VITE_AIML_API_KEY?" Found":" Missing",allEnvVars:n}),!t)return console.error("Missing AIML API key!"),console.error("Expected: VITE_AIML_API_KEY"),console.error("Available VITE_ vars:",Object.keys({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}).filter(r=>r.startsWith("VITE_"))),null}static getInstance(){return ir.instance||(ir.instance=new ir),ir.instance}async canGenerate(t){return await pt.canGenerate(t.userId,t.userTier,t.type,t.quality)}async generateContent(t){const n=this.generateId();this.updateGenerationStatus(n,{isGenerating:!0,progress:0,status:"processing"});try{if(!Rb.isConfigured())return{success:!1,error:"AI service not configured. Please contact support."};let r=t.imageUrl,i=t.videoUrl;if(t.imageFile){if(!jo.validateFileForI2I(t.imageFile))return{success:!1,error:"Invalid image file type. Supported: JPEG, PNG, WebP"};this.updateGenerationStatus(n,{progress:10,status:"processing",uploadProgress:{progress:0,status:"uploading"}}),r=(await jo.uploadFile(t.imageFile,d=>{this.updateGenerationStatus(n,{uploadProgress:d,progress:10+d.progress*.3})})).url}if(t.videoFile){if(!jo.validateFileForV2V(t.videoFile))return{success:!1,error:"Invalid video file type. Supported: MP4, WebM, AVI, MOV"};this.updateGenerationStatus(n,{progress:10,status:"processing",uploadProgress:{progress:0,status:"uploading"}}),i=(await jo.uploadFile(t.videoFile,d=>{this.updateGenerationStatus(n,{uploadProgress:d,progress:10+d.progress*.3})})).url}const s=t.modelId||this.selectBestModel(t,r,i);this.updateGenerationStatus(n,{progress:40,status:"processing",modelId:s}),console.log(" AIML: Starting generation (server will choose model)");const o=await this.callAimlApi(t,n,s,r,i),l=pt.getTokenCost(t.type,t.quality),c=await pt.getUserUsage(t.userId);return c.dailyUsage+=l,c.totalUsage+=l,await pt.saveUserUsage(t.userId,c),this.updateGenerationStatus(n,{isGenerating:!1,progress:100,status:"completed",modelId:s}),{success:!0,result:o}}catch(r){return console.error("AI Generation error:",r),this.updateGenerationStatus(n,{isGenerating:!1,status:"error",error:r instanceof Error?r.message:"Unknown error"}),{success:!1,error:"Generation failed"}}}getGenerationStatus(t){return this.generationQueue.get(t)||null}updateGenerationStatus(t,n){const r=this.generationQueue.get(t)||{isGenerating:!1,progress:0,status:"idle"};this.generationQueue.set(t,{...r,...n})}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}async saveToHistory(t,n){try{const r=JSON.parse(localStorage.getItem(`generation_history_${n}`)||"[]");r.unshift({...t,userId:n,savedAt:new Date().toISOString()}),r.length>50&&r.splice(50),localStorage.setItem(`generation_history_${n}`,JSON.stringify(r))}catch(r){console.error("Failed to save to history:",r)}}async getGenerationHistory(t){try{return JSON.parse(localStorage.getItem(`generation_history_${t}`)||"[]")}catch(n){return console.error("Failed to load history:",n),[]}}clearGenerationStatus(t){this.generationQueue.delete(t)}selectBestModel(t,n,r){}async callAimlApi(t,n,r,i,s){var o,l,c,u,d,h;try{console.log("Calling AIML API with:",{prompt:t.prompt,type:t.type,quality:t.quality,style:t.style,imageUrl:i,videoUrl:s});const f={user_id:t.userId,prompt:t.prompt,source_url:i||s,resource_type:t.type==="video"?"video":"image"};i&&(f.strength=.85,f.steps=40,f.guidance_scale=7.5,f.negative_prompt="photorealistic, realistic skin, film grain, frame, border, watermark, text, caption, vignette"),s&&(f.strength=.6);const y=await Db("/.netlify/functions/aimlApi",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!y.ok){const k=await y.json().catch(()=>({error:"Unknown error"}));throw console.error(" AIML API error response:",y.status,y.statusText),console.error(" AIML API error data:",k),console.error(" Original request body was:",JSON.stringify(f,null,2)),(o=k.error)!=null&&o.includes("API key not configured")||(l=k.error)!=null&&l.includes("API key not configured")?new Error("AI service not configured. Please contact support."):(c=k.error)!=null&&c.includes("API request failed")?new Error("AI service temporarily unavailable. Please try again."):new Error(k.error||"AI generation failed")}const v=await y.json();console.log("AIML API response:",v),console.log("Available keys in response:",Object.keys(v)),(u=v.echo)!=null&&u.model&&console.log(` AIML: Server selected model "${v.echo.model}" for generation`),this.updateGenerationStatus(n,{progress:80,status:"processing",modelId:r}),await new Promise(k=>setTimeout(k,2e3));const w=v.result_url||v.image_url||v.video_url||v.url||v.output;if(!w)throw console.error("No URL found in response. Full response:",v),new Error(`No image/video URL returned from AI service. Available keys: ${Object.keys(v).join(", ")}`);return(d=v.saved)!=null&&d.id?console.log(" Media auto-saved by server:",v.saved.id):console.log(" Media not auto-saved by server"),{id:((h=v.saved)==null?void 0:h.id)||this.generateId(),url:w,prompt:t.prompt,type:t.type,quality:t.quality,style:t.style,createdAt:new Date().toISOString(),tokensUsed:pt.getTokenCost(t.type,t.quality),modelId:r,sourceFile:i||s}}catch(f){throw console.error("AIML API call failed:",f),f}}};me(ir,"instance");let cu=ir;const Fb=cu.getInstance(),sr=class sr{constructor(){me(this,"inappropriateKeywords",new Map([["violence",["kill","murder","blood","gore","weapon","gun","bomb","explosion","violence","fight","attack","assault","torture","death","dead"]],["hate_speech",["hate","racist","discrimination","bigot","slur","offensive","discriminatory","prejudice","bias","intolerance"]],["sexual_content",["nude","naked","porn","sexual","explicit","adult","mature","intimate","provocative","suggestive","erotic"]],["drugs",["drug","cocaine","heroin","meth","weed","marijuana","illegal","substance","abuse","overdose","injection"]],["self_harm",["suicide","self-harm","cut","bleed","hurt myself","end life","die","death wish","self injury"]],["harassment",["harass","bully","stalk","threaten","intimidate","abuse","cyberbully","troll","hate speech"]],["copyright",["copyright","trademark","brand","logo","disney","marvel","nintendo","sony","warner","universal"]],["spam",["buy now","click here","free money","get rich","make money fast","lottery","prize","winner","urgent","limited time"]]]));me(this,"suspiciousPatterns",[/\b\d{3}-\d{3}-\d{4}\b/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/,/\bhttps?:\/\/[^\s]+\b/,/\b\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}\b/])}static getInstance(){return sr.instance||(sr.instance=new sr),sr.instance}async checkPrompt(t){const n=t.toLowerCase(),r=[];let i=0,s=0;for(const[d,h]of this.inappropriateKeywords){const f=h.filter(y=>n.includes(y.toLowerCase()));f.length>0&&(r.push(d),i+=f.length*.3,s++)}const o=this.suspiciousPatterns.filter(d=>d.test(t));o.length>0&&(r.push("suspicious_patterns"),i+=o.length*.2,s++);const l=s>0?Math.min(i,1):0,c=l<.5,u=this.getSuggestedAction(l,r);return{isAppropriate:c,confidence:l,flaggedCategories:r,suggestedAction:u,reason:r.length>0?`Content flagged for: ${r.join(", ")}`:void 0}}async checkGeneratedContent(t,n){try{const r=await this.analyzeContent(t,n);return{isAppropriate:r.isAppropriate,confidence:r.confidence,flaggedCategories:r.flaggedCategories,suggestedAction:r.suggestedAction,reason:r.reason}}catch(r){return console.error("Content moderation error:",r),{isAppropriate:!0,confidence:.1,flaggedCategories:[],suggestedAction:"review",reason:"Content analysis failed, manual review recommended"}}}getSuggestedAction(t,n){return t>=.8?"block":t>=.5?"review":"allow"}async reportContent(t){try{const n={...t,id:this.generateReportId(),timestamp:new Date().toISOString(),status:"pending"};return this.saveReport(n),this.notifyModerators(n),{success:!0,reportId:n.id}}catch(n){return console.error("Failed to report content:",n),{success:!1}}}async getReports(t){const n=this.loadReports();return t?n.filter(r=>r.status===t):n}async updateReportStatus(t,n,r){try{const i=this.loadReports(),s=i.findIndex(o=>o.id===t);return s===-1?!1:(i[s].status=n,i[s].moderatorNotes=r,this.saveReports(i),!0)}catch(i){return console.error("Failed to update report status:",i),!1}}generateReportId(){return`report_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}saveReport(t){const n=this.loadReports();n.push(t),localStorage.setItem("content_reports",JSON.stringify(n))}loadReports(){const t=localStorage.getItem("content_reports");return t?JSON.parse(t):[]}saveReports(t){localStorage.setItem("content_reports",JSON.stringify(t))}notifyModerators(t){console.log("New content report:",t)}getModerationStats(){const t=this.loadReports(),n=t.filter(i=>i.status==="pending").length,r=t.filter(i=>i.status==="resolved").length;return{totalReports:t.length,pendingReports:n,resolvedReports:r,blockedContent:t.filter(i=>i.status==="resolved").length}}};me(sr,"instance");let uu=sr;const Fp=uu.getInstance(),or=class or{constructor(){me(this,"mediaStorage",new Map);me(this,"likesIndex",new Map);this.loadFromStorage()}static getInstance(){return or.instance||(or.instance=new or),or.instance}async saveMedia(t,n){const r={...t,id:this.generateId(),timestamp:new Date().toISOString(),likes:0,remixCount:0,isPublic:(n==null?void 0:n.shareToFeed)??t.isPublic,allowRemix:(n==null?void 0:n.allowRemix)??t.allowRemix,expiresAt:t.userId.startsWith("guest-")?new Date(Date.now()+1728e5).toISOString():void 0},i=this.mediaStorage.get(t.userId)||[];return i.unshift(r),this.mediaStorage.set(t.userId,i),await this.saveToStorage(),r}async saveRemix(t,n,r,i,s,o,l,c,u){const d=await this.getMediaById(n),h={userId:t,type:"remix",url:r,prompt:i,style:u,aspectRatio:s,width:o,height:l,originalMediaId:n,tokensUsed:c,isPublic:!0,allowRemix:!0,tags:(d==null?void 0:d.tags)||[],metadata:{quality:"high",generationTime:2e3,modelVersion:"v2.0"},expiresAt:t.startsWith("guest-")?new Date(Date.now()+48*60*60*1e3).toISOString():void 0},f=await this.saveMedia(h);return d&&await this.incrementRemixCount(n),f}async cleanupExpiredGuestMedia(){const t=Date.now();for(const[n,r]of this.mediaStorage.entries()){const i=r.filter(s=>!(s.userId.startsWith("guest-")&&s.expiresAt&&new Date(s.expiresAt).getTime()<t));i.length!==r.length&&this.mediaStorage.set(n,i)}await this.saveToStorage()}async toggleLike(t,n){this.likesIndex.has(t)||this.likesIndex.set(t,[]);const r=this.likesIndex.get(t),i=r.includes(n),s=i?r.filter(o=>o!==n):[...r,n];this.likesIndex.set(t,s);for(const[o,l]of this.mediaStorage.entries()){const c=l.findIndex(u=>u.id===t);c!==-1&&(l[c].likes=s.length)}return await this.saveLikesIndex(),await this.saveToStorage(),{liked:!i,likes:s.length}}async getLikeCount(t){return(this.likesIndex.get(t)||[]).length}async hasUserLiked(t,n){return(this.likesIndex.get(t)||[]).includes(n)}async incrementRemixCount(t){let n=0;for(const[r,i]of this.mediaStorage.entries()){const s=i.findIndex(o=>o.id===t);s!==-1&&(i[s].remixCount=(i[s].remixCount||0)+1,n=i[s].remixCount)}return await this.saveToStorage(),n}async getRemixCount(t){for(const n of this.mediaStorage.values()){const r=n.find(i=>i.id===t);if(r)return r.remixCount||0}return 0}async getActiveGuestMedia(t){await this.cleanupExpiredGuestMedia();const n=this.mediaStorage.get(t)||[],r=Date.now();return n.filter(i=>!i.expiresAt||new Date(i.expiresAt).getTime()>r)}async migrateMedia(t,n){const r=this.mediaStorage.get(t)||[],i=this.mediaStorage.get(n)||[];if(r.length===0)return;const s=r.map(o=>({...o,userId:n,expiresAt:void 0}));this.mediaStorage.set(n,[...s,...i]),this.mediaStorage.delete(t),await this.saveToStorage()}async getUserMedia(t,n){const r=this.mediaStorage.get(t)||[];return n?r.filter(i=>i.type===n):r}async getAllUsers(){return Array.from(this.mediaStorage.keys())}async recoverMedia(t){try{const n=[],r=localStorage.getItem("user_media_storage");if(r){const o=JSON.parse(r),l=new Map(o);for(const[c,u]of l.entries())this.isLikelySameUser(c,t)&&n.push(...u)}const i=localStorage.getItem("user_media_backup");if(i){const o=JSON.parse(i);for(const[l,c]of o.entries())this.isLikelySameUser(l,t)&&n.push(...c)}const s=this.removeDuplicateMedia(n);if(s.length>0){const o=this.mediaStorage.get(t)||[],l=[...s,...o];this.mediaStorage.set(t,l),await this.saveToStorage(),await this.createBackup()}return s}catch(n){return console.error("Failed to recover media:",n),[]}}isLikelySameUser(t,n){return t===n?!0:t.startsWith("guest-")&&n.includes("@")||n.startsWith("guest-")&&t.includes("@")?!1:t.includes("@")&&n.includes("@")?t.toLowerCase()===n.toLowerCase():t.includes("@")?this.hashEmail(t)===n:n.includes("@")?this.hashEmail(n)===t:!1}hashEmail(t){let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return Math.abs(n).toString(36)}removeDuplicateMedia(t){const n=new Set;return t.filter(r=>n.has(r.id)?!1:(n.add(r.id),!0))}async createBackup(){try{const t=Array.from(this.mediaStorage.entries());localStorage.setItem("user_media_backup",JSON.stringify(t))}catch(t){console.error("Failed to create backup:",t)}}async getAllUserMedia(t){let n=this.mediaStorage.get(t)||[];return n.length===0&&(await this.recoverMedia(t)).length>0&&(n=this.mediaStorage.get(t)||[]),n}async getUserRemixes(t){return this.getUserMedia(t,"remix")}async getUserLikedMedia(t){const n=[];for(const r of this.mediaStorage.values())for(const i of r)await this.hasUserLiked(i.id,t)&&n.push(i);return n}async getMediaById(t){for(const n of this.mediaStorage.values()){const r=n.find(i=>i.id===t);if(r)return r}return null}async getUserStats(t){const n=this.mediaStorage.get(t)||[],r=n.filter(u=>u.type!=="remix").length,i=n.filter(u=>u.type==="remix").length,s=n.reduce((u,d)=>u+d.likes,0),o=n.length*10,l=n.reduce((u,d)=>u+d.tokensUsed,0),c=n.length>0?n.filter(u=>u.metadata.quality==="high").length/n.length:0;return{totalCreations:r,totalRemixes:i,totalLikes:s,totalViews:o,tokensUsed:l,averageQuality:c}}async updateMedia(t,n){for(const[r,i]of this.mediaStorage.entries()){const s=i.findIndex(o=>o.id===t);if(s!==-1)return this.mediaStorage.set(r,[...i.slice(0,s),{...i[s],...n},...i.slice(s+1)]),await this.saveToStorage(),!0}return!1}async deleteMedia(t,n){const r=this.mediaStorage.get(t)||[],i=r.filter(s=>s.id!==n);return i.length!==r.length?(this.mediaStorage.set(t,i),this.likesIndex.has(n)&&(this.likesIndex.delete(n),await this.saveLikesIndex()),await this.saveToStorage(),!0):!1}async likeMedia(t){var n;return this.updateMedia(t,{likes:((n=await this.getMediaById(t))==null?void 0:n.likes)||0+1})}async getTrendingMedia(t=20){const n=[];for(const r of this.mediaStorage.values())n.push(...r.filter(i=>i.isPublic));return n.sort((r,i)=>{const s=(r.likes+r.remixCount)*this.getRecencyScore(r.timestamp);return(i.likes+i.remixCount)*this.getRecencyScore(i.timestamp)-s}).slice(0,t)}async searchUserMedia(t,n){const r=this.mediaStorage.get(t)||[],i=n.toLowerCase();return r.filter(s=>{var o;return s.prompt.toLowerCase().includes(i)||s.tags.some(l=>l.toLowerCase().includes(i))||((o=s.style)==null?void 0:o.toLowerCase().includes(i))})}generateMasonryLayout(t,n=3){const r=new Array(n).fill(0),i=Array.from({length:n},()=>[]);return t.forEach(s=>{const o=r.indexOf(Math.min(...r));i[o].push(s),r[o]+=1/s.aspectRatio}),i}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getRecencyScore(t){const n=Date.now(),r=new Date(t).getTime(),i=(n-r)/(1e3*60*60*24);return Math.exp(-i/7)}async saveToStorage(){try{const t=Array.from(this.mediaStorage.entries());localStorage.setItem("user_media_storage",JSON.stringify(t))}catch(t){console.error("Failed to save user media:",t)}}loadFromStorage(){try{const t=localStorage.getItem("user_media_storage");if(t){const r=JSON.parse(t);this.mediaStorage=new Map(r)}const n=localStorage.getItem("user_media_likes");if(n){const r=JSON.parse(n);this.likesIndex=new Map(Object.entries(r))}}catch(t){console.error("Failed to load user media:",t),this.mediaStorage=new Map}}async saveLikesIndex(){try{const t={};for(const[n,r]of this.likesIndex.entries())t[n]=r;localStorage.setItem("user_media_likes",JSON.stringify(t))}catch(t){console.error("Failed to save likes index:",t)}}async generateSampleMedia(t){return console.log("generateSampleMedia called for user:",t,"- no sample content generated"),Promise.resolve()}};me(or,"instance");let du=or;const He=du.getInstance();function _b(e={}){let t=e.token||localStorage.getItem("auth_token")||ae.getToken()||"";if(typeof t=="object"&&(console.error(" Token is object, extracting string:",t),t=t.access_token||t.token||t.jwt||""),!t||typeof t!="string")throw console.error(" Auth token missing or invalid:",{type:typeof t,value:t}),new Error("Authentication required - please sign in again");if(!t.includes(".")||t.split(".").length!==3)throw console.error(" Invalid JWT format:",t.substring(0,20)+"..."),new Error("Invalid token format - please sign in again");return console.log(" Auth token ready:",t.substring(0,12)+"..."),{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}async function Z0(e,t={}){const n=_b(t);return fetch(e,{...t,headers:{...n,...t.headers||{}}})}async function Ub(e,t){var o;let n;if(typeof e=="string"){if(!e.startsWith("data:"))throw new Error("Non-file string passed to upload");const l=await fetch(e).then(c=>c.blob());n=new File([l],"upload.png",{type:l.type||"image/png"})}else n=e;const r=await Z0("/.netlify/functions/cloudinary-sign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({folder:t,resource_type:"image"})}).then(l=>l.json()),i=new FormData;i.append("file",n),i.append("api_key",r.api_key),i.append("timestamp",String(r.timestamp)),i.append("signature",r.signature),i.append("folder",t),i.append("resource_type","image");const s=await fetch(`https://api.cloudinary.com/v1_1/${r.cloud_name}/auto/upload`,{method:"POST",body:i}).then(l=>l.json());if(!(s!=null&&s.secure_url))throw console.error("Cloudinary upload failed:",s),new Error(((o=s==null?void 0:s.error)==null?void 0:o.message)||"Cloudinary upload failed");return{secure_url:s.secure_url,width:s.width,height:s.height,public_id:s.public_id}}const _p=e=>{let t;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const f=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,f))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,i,l);return l},Vb=e=>e?_p(e):_p,Ob=e=>e;function zb(e,t=Ob){const n=Ar.useSyncExternalStore(e.subscribe,Ar.useCallback(()=>t(e.getState()),[e,t]),Ar.useCallback(()=>t(e.getInitialState()),[e,t]));return Ar.useDebugValue(n),n}const Up=e=>{const t=Vb(e),n=r=>zb(t,r);return Object.assign(n,t),n},Bb=e=>e?Up(e):Up,$b=Bb(e=>({items:[],add:t=>e(n=>({items:[t,...n.items]})),clear:()=>e({items:[]}),remove:t=>e(n=>({items:n.items.filter(r=>r.id!==t)}))})),Wb=e=>{$b.getState().add(e)};function Ul(e){var t,n,r,i,s,o;return((n=(t=e==null?void 0:e.images)==null?void 0:t[0])==null?void 0:n.url)??((i=(r=e==null?void 0:e.videos)==null?void 0:r[0])==null?void 0:i.url)??((o=(s=e==null?void 0:e.data)==null?void 0:s[0])==null?void 0:o.url)??(e==null?void 0:e.result_url)??null}const Gb=({size:e=24,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[a.jsx("ellipse",{cx:"24",cy:"28",rx:"12",ry:"15",stroke:"#FF6B9D",strokeWidth:"2.5"}),a.jsx("circle",{cx:"24",cy:"28",r:"4.5",fill:"#FFFFFF"}),a.jsx("path",{d:"M15 21 Q24 9, 33 21",stroke:"#00D4FF",strokeWidth:"2",fill:"none"}),a.jsx("circle",{cx:"29",cy:"24",r:"2",fill:"#FFFFFF",opacity:"0.5"})]}),Yb=({size:e=24,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[a.jsx("rect",{x:"10",y:"32",width:"28",height:"6",rx:"3",fill:"#00D4FF"}),a.jsx("rect",{x:"16",y:"24",width:"16",height:"5",rx:"2.5",fill:"#8B5CF6"}),a.jsx("line",{x1:"15",y1:"36",x2:"33",y2:"12",stroke:"#FF6B9D",strokeWidth:"2.5"}),a.jsx("circle",{cx:"39",cy:"34",r:"3",fill:"#3B82F6"})]}),Hb=({size:e=24,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[a.jsx("rect",{x:"10",y:"35",width:"28",height:"5",rx:"2.5",fill:"#8B5CF6"}),a.jsx("path",{d:"M16 28 Q24 18, 32 28",stroke:"#FF6B9D",strokeWidth:"3",fill:"none"}),a.jsx("ellipse",{cx:"24",cy:"28",rx:"3",ry:"1.2",fill:"#FFFFFF",opacity:"0.7"}),a.jsx("rect",{x:"20",y:"38",width:"8",height:"8",rx:"4",fill:"#E5E7EB"})]}),Kb=({size:e=24,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[a.jsx("ellipse",{cx:"24",cy:"29",rx:"10.5",ry:"6",fill:"#3B82F6"}),a.jsx("circle",{cx:"24",cy:"20",r:"7.5",fill:"#8B5CF6"}),a.jsx("ellipse",{cx:"21",cy:"20.5",rx:"1.3",ry:"1.7",fill:"#FFFFFF"}),a.jsx("ellipse",{cx:"27",cy:"20.5",rx:"1.1",ry:"1.4",fill:"#FFFFFF",opacity:"0.6"}),a.jsx("path",{d:"M24 12 Q25.5 9, 28 12",stroke:"#00D4FF",strokeWidth:"1.5",fill:"none"})]}),Qb=({size:e=24,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[a.jsx("circle",{cx:"24",cy:"24",r:"15",stroke:"#E5E7EB",strokeWidth:"3"}),a.jsx("circle",{cx:"24",cy:"24",r:"8",stroke:"#00D4FF",strokeWidth:"3"}),a.jsx("circle",{cx:"24",cy:"24",r:"3.5",fill:"#FFFFFF"}),a.jsx("ellipse",{cx:"32",cy:"32",rx:"3",ry:"1.5",fill:"#3B82F6",opacity:"0.8"})]}),Xb=({size:e=24,className:t=""})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[a.jsx("ellipse",{cx:"24",cy:"34",rx:"12",ry:"6",fill:"#00D4FF",opacity:"0.6"}),a.jsx("ellipse",{cx:"24",cy:"22",rx:"10",ry:"4.8",fill:"#FF6B9D",opacity:"0.5"}),a.jsx("ellipse",{cx:"24",cy:"27",rx:"14",ry:"7",fill:"#8B5CF6",opacity:"0.2"})]}),Zb=()=>{const e=Wn(),t=vi(),[n,r]=x.useState(!1),[i,s]=x.useState(()=>{try{const S=localStorage.getItem("userProfile");if(S){const P=JSON.parse(S);return{shareToFeed:P.shareToFeed??!0,allowRemix:P.allowRemix??!0}}}catch(S){console.error("Failed to load user settings:",S)}return{shareToFeed:!0,allowRemix:!0}}),[o,l]=x.useState("idle"),[c,u]=x.useState(null),[d,h]=x.useState(null),[f,y]=x.useState("prompt"),[v,w]=x.useState(null),[k,p]=x.useState(!1),[m,g]=x.useState(""),[j,b]=x.useState(0),[T,M]=x.useState(50),[C,$]=x.useState(De.REGISTERED),W=()=>{const S=ae.getCurrentUser();return(S==null?void 0:S.id)||null},ie=()=>{const S=ae.getCurrentUser();return(S==null?void 0:S.id)||`guest-${Date.now()}`},[ke]=x.useState(W()),[Ee]=x.useState(ie()),[Lt,rt]=x.useState(new Set);x.useState(!1);const[se,V]=x.useState(null),[E,A]=x.useState(""),[L,K]=x.useState(!1),[Y,Ce]=x.useState(1),Ze=x.useRef(null),wt=x.useRef(null),[dt,qt]=x.useState(!1),[zs,gn]=x.useState(!1),[ji,Bs]=x.useState(0),[za,Ba]=x.useState([]),$s=["Dreamy neon city at midnight","Vintage film look with pastel tones","Cyberpunk portrait with glowing effects","Minimalist studio portrait, soft light","Surreal double exposure with nature","Pop art style with bold colors"];x.useEffect(()=>{let S=!1;const P=()=>{const _=ae.getAuthState(),U=_.isAuthenticated;if(r(U),_.user){const G={registered:De.REGISTERED,pro:De.VERIFIED,verified:De.VERIFIED,contributor:De.CONTRIBUTOR};$(G[_.user.tier]||De.REGISTERED)}!S&&U&&O(),S=U};P();const R=setInterval(P,5e3);return()=>clearInterval(R)},[]),x.useEffect(()=>()=>{v&&clearTimeout(v)},[v]),x.useEffect(()=>{const S=()=>{try{const R=localStorage.getItem("userProfile");if(R){const _=JSON.parse(R);s({shareToFeed:_.shareToFeed??!0,allowRemix:_.allowRemix??!0})}}catch(R){console.error("Failed to load updated user settings:",R)}};window.addEventListener("storage",S);const P=setInterval(S,1e3);return()=>{window.removeEventListener("storage",S),clearInterval(P)}},[]),x.useEffect(()=>{const S=t&&t.state||null;S!=null&&S.remixUrl&&(Gd(S.remixUrl),typeof S.remixPrompt=="string"&&A(S.remixPrompt)),S!=null&&S.editUrl&&(u(S.editUrl),l("upload"),y("prompt"),it(S.editPrompt||""))},[t.state]),x.useEffect(()=>{if(!c&&!L)return;const S=$s[j];let P=0;const R=setInterval(()=>{P<=S.length?(g(S.slice(0,P)),P++):(clearInterval(R),setTimeout(()=>{b(_=>(_+1)%$s.length),g("")},2e3))},100);return()=>clearInterval(R)},[j,c,L]);const[Nr,it]=x.useState(""),[St,Yn]=x.useState(""),[je,Ue]=x.useState(!1),[bi,Cr]=x.useState(null),[Ni,Bd]=x.useState(!1),[Ws,Hn]=x.useState(!1);x.useEffect(()=>{!Ni&&Ws&&Hn(!1)},[Ni,Ws]);const Tr=[{id:"anime-dream",name:"Anime Dream",icon:Gb,description:"Vibrant anime-style artwork",gradient:"linear-gradient(135deg, #FF6B6B 0%, #4ECDC4 50%, #45B7D1 100%)",example:"Dreamy anime characters with vibrant colors",contextExamples:{animal:"anime art style, vibrant colors, detailed line work, soft shading, preserve subject and composition",person:"anime art style, vibrant colors, detailed line work, soft shading, preserve subject and composition",landscape:"anime art style, vibrant colors, detailed line work, soft shading, preserve subject and composition",object:"anime art style, vibrant colors, detailed line work, soft shading, preserve subject and composition",default:"anime art style, vibrant colors, detailed line work, soft shading, preserve subject and composition"}},{id:"cyberpunk",name:"Cyberpunk",icon:Yb,description:"Neon-lit futuristic scenes",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #ff0080 100%)",example:"Neon lights, dark streets, tech aesthetics",contextExamples:{animal:"neon lighting, high-contrast cyberpunk color grading, chrome highlights, retain original subject",person:"neon lighting, high-contrast cyberpunk color grading, chrome highlights, retain original subject",landscape:"neon lighting, high-contrast cyberpunk color grading, chrome highlights, retain original subject",object:"neon lighting, high-contrast cyberpunk color grading, chrome highlights, retain original subject",default:"neon lighting, high-contrast cyberpunk color grading, chrome highlights, retain original subject"}},{id:"oil-painting",name:"Oil Painting",icon:Hb,description:"Classic oil painting texture",gradient:"linear-gradient(135deg, #8B4513 0%, #DAA520 50%, #F4A460 100%)",example:"Rich textures, classical art style",contextExamples:{animal:"oil painting style, thick brush strokes, canvas texture, preserve subject and composition",person:"oil painting style, thick brush strokes, canvas texture, preserve subject and composition",landscape:"oil painting style, thick brush strokes, canvas texture, preserve subject and composition",object:"oil painting style, thick brush strokes, canvas texture, preserve subject and composition",default:"oil painting style, thick brush strokes, canvas texture, preserve subject and composition"}},{id:"studio-ghibli",name:"Studio Ghibli",icon:Kb,description:"Magical Ghibli-inspired art",gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 50%, #89f7fe 100%)",example:"Whimsical, nature-inspired, magical",contextExamples:{animal:"ghibli-inspired soft shading, gentle color palette, clean lines, keep same subject and pose",person:"ghibli-inspired soft shading, gentle color palette, clean lines, keep same subject and pose",landscape:"ghibli-inspired soft shading, gentle color palette, clean lines, keep same subject and pose",object:"ghibli-inspired soft shading, gentle color palette, clean lines, keep same subject and pose",default:"ghibli-inspired soft shading, gentle color palette, clean lines, keep same subject and pose"}},{id:"photorealistic",name:"Photorealistic",icon:Qb,description:"Ultra-realistic photography",gradient:"linear-gradient(135deg, #2C3E50 0%, #34495E 50%, #BDC3C7 100%)",example:"Sharp details, lifelike quality",contextExamples:{animal:"highly detailed photographic style, natural skin/fur texture, realistic lighting, keep original composition",person:"highly detailed photographic style, natural skin/fur texture, realistic lighting, keep original composition",landscape:"highly detailed photographic style, natural skin/fur texture, realistic lighting, keep original composition",object:"highly detailed photographic style, natural skin/fur texture, realistic lighting, keep original composition",default:"highly detailed photographic style, natural skin/fur texture, realistic lighting, keep original composition"}},{id:"watercolor",name:"Watercolor",icon:Xb,description:"Soft watercolor painting",gradient:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%)",example:"Soft blends, artistic brush strokes",contextExamples:{animal:"watercolor painting style, soft blends, flowing colors, gentle brushstrokes, preserve subject and composition",person:"watercolor painting style, soft blends, flowing colors, gentle brushstrokes, preserve subject and composition",landscape:"watercolor painting style, soft blends, flowing colors, gentle brushstrokes, preserve subject and composition",object:"watercolor painting style, soft blends, flowing colors, gentle brushstrokes, preserve subject and composition",default:"watercolor painting style, soft blends, flowing colors, gentle brushstrokes, preserve subject and composition"}}],Pr=S=>new Promise(P=>{try{const R=window.Image,_=new R;_.crossOrigin="anonymous",_.referrerPolicy="no-referrer",_.onload=()=>{try{const U=document.createElement("canvas"),G=U.getContext("2d");if(!G){console.warn("Canvas context not available, using default"),P("default");return}U.width=_.width,U.height=_.height,G.drawImage(_,0,0);const z=G.getImageData(0,0,U.width,U.height).data;let B=0,Q=0,Le=0,re=0;for(let tn=0;tn<z.length;tn+=4)B+=z[tn],Q+=z[tn+1],Le+=z[tn+2],re++;const jt=B/re,bt=Q/re,en=Le/re;bt>jt&&bt>en?P("landscape"):Math.abs(jt-bt)<30&&Math.abs(bt-en)<30?P("person"):jt>en?P("animal"):P("object")}catch(U){console.warn("Canvas analysis failed, using default context:",U),P("default")}},_.onerror=()=>{console.warn("Image load failed, using default context"),P("default")},_.src=S}catch(R){console.warn("Context detection initialization failed, using default:",R),P("default")}}),Ci=(S,P)=>{var _,U;const R=Tr.find(G=>G.id===S);return R?((_=R.contextExamples)==null?void 0:_[P])||((U=R.contextExamples)==null?void 0:U.default)||R.example:"Transform this image into something amazing..."},Gs=()=>{var S;(S=Ze.current)==null||S.click()},Kn=async S=>{var G;const P=(G=S.target.files)==null?void 0:G[0];if(!P)return;if(!P.type.startsWith("image/")&&!P.type.startsWith("video/")){D("Invalid file type","Only images and videos are supported","warning");return}if(P.size>8*1024*1024){D("File too large",`File is ${(P.size/(1024*1024)).toFixed(1)}MB - limit is 8MB. Please compress your file or use a smaller one.`,"warning");return}const R=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],_=["video/mp4","video/webm","video/mov","video/avi"];if(P.type.startsWith("image/")&&!R.includes(P.type)){D("Unsupported image format","Please use JPEG, PNG, GIF, or WebP","warning");return}if(P.type.startsWith("video/")&&!_.includes(P.type)){D("Unsupported video format","Please use MP4, WebM, MOV, or AVI","warning");return}const U=new FileReader;U.onload=async X=>{var B;const z=(B=X.target)==null?void 0:B.result;if(u(z),h(P),l("upload"),y("prompt"),D("File Ready",`${P.name} (${(P.size/1024).toFixed(1)}KB) ready for transformation`,"processing"),P.type.startsWith("image/")){let Q="default";try{Q=await Pr(z);const Le=Ci("oil-painting",Q);it(Le),D("Content Detected",`Detected ${{animal:"animal",person:"person",landscape:"landscape",object:"object",default:"content"}[Q]||"content"} - AI presets will be tailored to your upload!`,"info")}catch(Le){console.warn("Context detection failed, using fallback:",Le),it("Transform this image into something amazing...")}}else P.type.startsWith("video/")&&it("Transform this video with a cinematic style...")},U.readAsDataURL(P)},Ys=async S=>{v&&clearTimeout(v);const P=setTimeout(()=>{Hs(S)},250);w(P)},Hs=async S=>{var R,_,U;const P=Tr.find(G=>G.id===S);if(P){Yn(P.name);let G=P.example;if(c&&d){let X="default";try{X=await Pr(c);const z=Ci(S,X);G=z,it(z),console.log(` Style: ${P.name}, Context: ${X}, Prompt: ${z}, File: ${d.name}`)}catch(z){console.warn("Context detection failed, using fallback:",z),it(P.example)}}else it(P.example);if(f==="aiasabrush"&&(c&&d||o==="remix"&&se)&&G.trim()){if(k){console.log(" Preset already in flight, ignoring click");return}try{p(!0),Ue(!0);const X=o==="remix"?se:c;if(!X){console.error(" No media URL available for preset"),D("No Media","Please upload or select media first","error");return}const z={url:X,width:1024,height:1024,id:`${o}_${Date.now()}`,file:o==="remix"?void 0:d||void 0};console.log(" Triggering preset:",P.name,"for asset:",z.url.substring(0,50)+"..."),console.log(" Asset details:",JSON.stringify(z,null,2));const B=await N(z,P.name);if(console.log(" AIML echo:",B.echo),console.assert(((R=B.echo)==null?void 0:R.mode)==="i2i"&&B.result_url&&B.result_url!==B.source_url,"Preset must return stylized I2I result",{got:B}),!B.result_url||B.result_url===B.source_url)throw new Error("No transformation detected (result equals source). Try higher strength.");const Q=`${B.result_url}${B.result_url.includes("?")?"&":"?"}t=${Date.now()}`,Le={id:`preset_${Date.now()}_${Math.random().toString(36).slice(2)}`,url:Q,type:"photo",kind:"result",prompt:((_=B.echo)==null?void 0:_.presetName)||P.name,meta:B.echo,createdAt:new Date().toISOString()};Wb(Le),console.log(" Added to gallery:",{url:Q.substring(0,50)+"...",type:"photo"}),(U=B.saved)!=null&&U.id?(console.log(" Media auto-saved by server:",B.saved.id),D("Saved","Added to your profile.","success")):(console.log(" Media not auto-saved by server"),D("Warning","Media generated but not saved to profile","warning")),D("Preset Applied!",`${P.name} style applied successfully. Media saved to your profile!`,"success",Q,"image"),console.log(" Preset completed successfully. No further generation should occur."),Ei(null),Pi("all"),u(null),h(null);try{(await fetch("/.netlify/functions/getUserMedia",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("stefna_jwt")||""}`,"Content-Type":"application/json"}})).ok&&(console.log(" Refreshed user media after preset generation"),window.dispatchEvent(new CustomEvent("userMediaUpdated")))}catch(re){console.warn(" Failed to refresh user media:",re)}return}catch(X){console.error(" Preset generation failed:",X),console.error(" Error details:",JSON.stringify(X,Object.getOwnPropertyNames(X)));const z=X instanceof Error?X.message:"Unknown error";z.includes("data URL")||z.includes("non-fetchable")?D("Upload Required","Please save your image to Cloudinary first, then try the preset again.","warning"):z.includes("Provider error 429")||z.includes("rate limit")?D("Provider Busy","AI service is experiencing high demand. Please try again in a moment.","warning"):z.includes("Provider error 5")?D("Provider Busy","AI service temporarily unavailable. Please try again.","warning"):(console.error(" Unhandled preset error:",z),D("Generation Failed",z,"error"));return}finally{p(!1),Ue(!1)}}}},$a=S=>typeof S=="string"&&/^https?:\/\//i.test(S),Er=async S=>{var X;if($a(S.url))return console.log(" Asset already has HTTPS URL:",S.url.slice(0,50)+"..."),{secure_url:S.url,width:S.width||1024,height:S.height||1024,public_id:null};console.log(" Converting data URL to Cloudinary asset...");const R=`users/${((X=ae.getCurrentUser())==null?void 0:X.id)||ke||"unknown"}`;let _=null;const U=3,G=2e3;for(let z=1;z<=U;z++)try{console.log(` Upload attempt ${z}/${U}...`);const B=await Ub(S.file??S.url,R);if(!(B!=null&&B.secure_url))throw new Error("Cloudinary upload failed: no secure_url");return console.log(" Uploaded to Cloudinary:",String(B.secure_url).slice(0,50)+"..."),{secure_url:B.secure_url,width:B.width,height:B.height,public_id:B.public_id}}catch(B){_=B,console.warn(` Upload attempt ${z} failed:`,B),z<U&&(console.log(` Retrying in ${G}ms...`),await new Promise(Q=>setTimeout(Q,G)))}throw console.error(" Cloudinary upload failed after all retries:",_),new Error(`Cloudinary upload failed after ${U} attempts: ${_==null?void 0:_.message}`)},N=async(S,P)=>{var B,Q,Le,re,jt,bt;const R=crypto.randomUUID();console.log(" Starting preset job:",R);const _=await Er(S);console.log(" Using secure URL for I2I:",_.secure_url.slice(0,50)+"...");const{PRESETS:U}=await iu(()=>import("./freeMode-19015f20.js"),[]),G=U[P];if(!G)throw new Error(`Unknown preset: ${P}`);const X=await Z0("/.netlify/functions/aimlApi",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:((B=ae.getCurrentUser())==null?void 0:B.id)||ke,source_url:_.secure_url,width:_.width,height:_.width,prompt:G.prompt,negative_prompt:G.negative,strength:G.strength??.85,steps:40,guidance_scale:7.5,presetName:P,jobId:R,source:"preset"})});if(!X.ok){const en=await X.json().catch(()=>({}));throw new Error(en.message||"Preset failed")}const z=await X.json();if(console.log("Server sent jobId:",(Q=z==null?void 0:z.echo)==null?void 0:Q.jobId),console.log("Client sent jobId:",R),((Le=z==null?void 0:z.echo)==null?void 0:Le.jobId)!==R||((re=z==null?void 0:z.echo)==null?void 0:re.source)!=="preset")throw console.warn(" Ignoring stale/mismatched result",{want:R,got:(jt=z==null?void 0:z.echo)==null?void 0:jt.jobId,wantSource:"preset",gotSource:(bt=z==null?void 0:z.echo)==null?void 0:bt.source}),new Error("Job ID mismatch - ignoring stale result");return console.log(" Job ID confirmed:",R),z},O=async()=>{try{const S=localStorage.getItem("pendingGeneration");if(!S)return;const P=JSON.parse(S);if(Date.now()-P.timestamp>30*60*1e3){localStorage.removeItem("pendingGeneration");return}P.uploadedMedia&&u(P.uploadedMedia),P.sidebarMode&&l(P.sidebarMode),P.remixedMedia&&V(P.remixedMedia),P.remixPrompt&&A(P.remixPrompt),P.selectedVariation&&Ce(P.selectedVariation),P.styleName&&Yn(P.styleName),localStorage.removeItem("pendingGeneration"),D("Welcome back!","Your upload has been restored. You can now continue generating.","success"),P.prompt&&setTimeout(()=>{P.sidebarMode==="remix"&&P.remixPrompt?Yd({source:"restored",userInitiated:!0}):q(P.prompt,P.styleName,{source:"restored",userInitiated:!0})},1e3)}catch(S){console.error("Failed to restore pending generation:",S),localStorage.removeItem("pendingGeneration")}},q=async(S,P,R)=>{var _,U,G,X,z,B,Q,Le,re,jt,bt,en,tn,Qd,Xd,Zd;if(!S.trim()){D("Prompt required","Please enter a prompt","warning");return}if(console.log(" handleGenerateWithPrompt called with context:",JSON.stringify(R)),!Dp({userInitiated:R==null?void 0:R.userInitiated,source:R==null?void 0:R.source})){if(Lp(R)){console.warn(" Blocked auto T2I after preset completion");return}if(!n){const ht={prompt:S,styleName:P||St,uploadedMedia:c,uploadedFile:d?{name:d.name,type:d.type,size:d.size}:null,sidebarMode:o,remixedMedia:se,remixPrompt:E,selectedVariation:Y,timestamp:Date.now()};localStorage.setItem("pendingGeneration",JSON.stringify(ht)),D("Login Required","Please sign in to generate content","warning"),e("/auth");return}try{const ht=await Fp.checkPrompt(S);if(!ht.isAppropriate){D("Content blocked",`${ht.reason} - Please revise your prompt`,"warning");return}}catch(ht){console.error("Content moderation check failed:",ht)}Ue(!0);try{let ht="photo";d&&d.type.startsWith("video/")&&(ht="video");const Dt=await pt.canGenerate(Ee,C,ht,"high");if(!Dt.canGenerate){(_=Dt.reason)!=null&&_.includes("Daily limit")?D("Daily limit reached",`${Dt.remainingTokens||0} tokens remaining`,"warning"):(U=Dt.reason)!=null&&U.includes("Rate limited")?D("Too many requests","Please wait 30 seconds between generations","warning"):(G=Dt.reason)!=null&&G.includes("Service temporarily unavailable")?D("Service unavailable","High demand - please try again later","error"):D("Generation blocked",Dt.reason||"Unable to generate","error"),Ue(!1);return}D("Processing Your Media","Creating content...","processing");let Ve;if(d){const Mi=d.type.startsWith("image/"),Ka=d.type.startsWith("video/"),Qa=["transform","convert","change","turn into","make it","style","apply","filter","effect","enhance","modify","alter"].some(Qn=>S.toLowerCase().includes(Qn));if(P&&f==="aiasabrush"){console.log(" AI preset generation should be handled by handleStyleSelect, not custom prompt generation"),D("Use AI Brush","AI presets are applied automatically when selected","info");return}if(Mi&&Qa){if(console.log(` Using AIML I2I for image transformation. Prompt: "${S.substring(0,50)}..."`),!c){D("No Media","Please upload an image first","warning"),Ue(!1);return}const Qn=await Er({url:c,file:d}),pe=await fetch("/.netlify/functions/aimlApi",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ae.getToken()}`},body:JSON.stringify({user_id:((X=ae.getCurrentUser())==null?void 0:X.id)||ke,prompt:S,source_url:Qn.secure_url,steps:36,strength:.7,resource_type:"image"})}).then(Ii=>Ii.json());console.log(" AIML API Response (Preset):",JSON.stringify(pe,null,2));const yn=Ul(pe);if(!yn){D("Generation failed","No image returned by the service.","error"),Ue(!1);return}(z=pe.saved)!=null&&z.id?console.log(" Media auto-saved by server:",pe.saved.id):(console.log(" Media not auto-saved by server"),console.log(" Response saved field:",pe.saved),console.log(" Full response keys:",Object.keys(pe))),Ve={success:!0,result:{id:((B=pe.saved)==null?void 0:B.id)||`i2i_${Date.now()}`,url:yn,prompt:S,type:"photo",tokensUsed:2}}}else if(Ka&&Qa){console.log(" Video transformation not yet implemented with AIML API"),D("Video Transform","Video transformation coming soon","info");return}else if(c&&Mi){console.log(` Using I2I for image variation. Prompt: "${S.substring(0,50)}..."`);const Qn=await Er({url:c,file:d}),pe=await fetch("/.netlify/functions/aimlApi",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ae.getToken()}`},body:JSON.stringify({user_id:((Q=ae.getCurrentUser())==null?void 0:Q.id)||ke,prompt:S,source_url:Qn.secure_url,steps:36,strength:.7,resource_type:"image"})}).then(Ii=>Ii.json());console.log(" AIML API Response (Variation):",JSON.stringify(pe,null,2));const yn=Ul(pe);if(!yn){D("Generation failed","No image returned by the service.","error"),Ue(!1);return}(Le=pe.saved)!=null&&Le.id?console.log(" Media auto-saved by server:",pe.saved.id):(console.log(" Media not auto-saved by server"),console.log(" Response saved field:",pe.saved),console.log(" Full response keys:",Object.keys(pe))),Ve={success:!0,result:{id:((re=pe.saved)==null?void 0:re.id)||`i2i_variation_${Date.now()}`,url:yn,prompt:S,type:"photo",tokensUsed:2}}}else{if(console.log(` Using I2I for image variation. Prompt: "${S.substring(0,50)}..."`),!c){D("No Media","Please upload an image first","warning"),Ue(!1);return}const Qn=await Er({url:c,file:d}),pe=await fetch("/.netlify/functions/aimlApi",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ae.getToken()}`},body:JSON.stringify({user_id:((jt=ae.getCurrentUser())==null?void 0:jt.id)||ke,prompt:S,source_url:Qn.secure_url,steps:36,strength:.7,resource_type:"image"})}).then(Ii=>Ii.json());console.log(" AIML API Response (Variation):",JSON.stringify(pe,null,2));const yn=Ul(pe);if(!yn){D("Generation failed","No image returned by the service.","error"),Ue(!1);return}(bt=pe.saved)!=null&&bt.id?console.log(" Media auto-saved by server:",pe.saved.id):(console.log(" Media not auto-saved by server"),console.log(" Response saved field:",pe.saved),console.log(" Full response keys:",Object.keys(pe))),Ve={success:!0,result:{id:((en=pe.saved)==null?void 0:en.id)||`i2i_variation_${Date.now()}`,url:yn,prompt:S,type:"photo",tokensUsed:2}}}}else{console.log(" No media uploaded for editing"),D("No Media Selected","Please upload a photo/video or select media to remix","warning"),Ue(!1);return}if(Ve.success&&Ve.result){if(!((tn=Ve.result)!=null&&tn.url)){console.error(" No result URL in generation response:",Ve),D("Generation Failed","No image returned by service","error");return}const Mi=Ve.result.url||c||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgdmlld0JveD0iMCAwIDgwMCA2MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjQwMCIgeT0iMzAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5QbGFjZWhvbGRlciBJbWFnZTwvdGV4dD4KPC9zdmc+",Ka=4/3,Qa=Math.round(800/Ka);Ve.result.id&&Ve.result.id!==`i2i_${Date.now()}`&&Ve.result.id!==`i2i_variation_${Date.now()}`?(console.log(" Media auto-saved by server:",Ve.result.id),D("Saved","Added to your profile.","success")):(console.log(" Media not auto-saved by server"),D("Warning","Media generated but not saved to profile","warning")),i.shareToFeed&&await J0(),D("Your Media is Ready","Content generated successfully","complete",Mi,"image"),Ei(null),Pi("all"),await pt.generateContent(Ee,C,ht,"high",S,"127.0.0.1","browser-device"),console.log("Generated result and saved to profile:",Ve.result)}else(Qd=Ve.error)!=null&&Qd.includes("timeout")?D("Generation timeout","Request took too long - please try again","error"):(Xd=Ve.error)!=null&&Xd.includes("quota")?D("Service limit reached","AI service quota exceeded","error"):(Zd=Ve.error)!=null&&Zd.includes("inappropriate")?D("Content policy violation","Please revise your prompt","warning"):D("Generation failed",Ve.error||"Please try again","error")}catch(ht){const Dt=ht instanceof Error?ht.message:"Generation failed";Dt.includes("network")||Dt.includes("fetch")?D("Connection error","Check your internet connection","error"):Dt.includes("unauthorized")?D("Authentication error","Please sign in again","error"):D("Generation error",Dt,"error")}finally{Ue(!1)}}},oe=()=>{u(null),h(null),l("idle"),y("prompt"),it(""),Yn(""),V(null),A(""),K(!1)},J=async S=>{if(!n){D("Login Required","Please sign in to like media","warning"),e("/auth");return}try{const{interactionService:P}=await iu(()=>import("./interactionService-8de742af.js"),[]),R=await P.toggleLike(S);R.success?(rt(_=>{const U=new Set(_);return R.isLiked?U.add(S):U.delete(S),U}),Mr(_=>_.map(U=>U.id===S?{...U,likes_count:R.likeCount||0}:U)),D(R.action==="liked"?"Liked!":"Unliked!",R.action==="liked"?"Media added to your likes":"Media removed from your likes","success")):D("Like Failed",R.error||"Failed to update like","error")}catch(P){console.error("Like operation failed:",P),D("Like Failed","An error occurred while updating like","error")}},ce=S=>{if(!n){D("Login Required","Please sign in to remix media","warning"),e("/auth");return}Ya(Math.min(T,Ks)).find(_=>_.id.toString()===S)&&(Gd("#"),D("Remix Started","Preparing remix interface...","info"))},Re=async S=>{if(!n){D("Login Required","Please sign in to share media","warning"),e("/auth");return}D("Share Started","Preparing to share media...","info"),console.log("Sharing media with ID:",S)},kt=()=>{c&&!je&&!bi&&(Cr(c),D("Saved to Drafts","Media saved as draft","success"))},We=S=>{D("Download Started","Preparing download...","info"),setTimeout(()=>{D("Download Complete","Media downloaded successfully","success")},1e3)},Wa=async S=>{await q(Nr||m||"AI generated content",void 0,S||{source:"custom",userInitiated:!1})},[$d,Ga]=x.useState([]),D=(S,P,R="info",_,U,G)=>{if(!["processing","error","complete"].includes(R))return;const z={id:Date.now(),title:S,message:P||"",type:R,timestamp:new Date().toISOString(),mediaUrl:_,mediaType:U,persistent:G};Ga(B=>[z,...B.slice(0,4)]),!G&&R!=="error"&&setTimeout(()=>{Ga(Q=>Q.filter(Le=>Le.id!==z.id))},5e3),console.log(`${R.toUpperCase()}: ${S} - ${P}`)};x.useEffect(()=>{},[]),x.useEffect(()=>{},[]);const Wd=S=>{Ga(P=>P.filter(R=>R.id!==S))},Gd=S=>{V(S),A(""),K(!0),l("remix"),y("prompt")},Yd=async S=>{var P,R,_,U,G,X,z;if(!E.trim()){D("Remix prompt required","Please enter a remix prompt","warning");return}if(console.log(" handleRemixGenerate called with context:",JSON.stringify(S)),!Dp({userInitiated:S==null?void 0:S.userInitiated,source:S==null?void 0:S.source})){if(Lp(S)){console.warn(" Blocked auto Remix after preset completion");return}if(!n){const B={prompt:E,styleName:St,uploadedMedia:null,uploadedFile:null,sidebarMode:o,remixedMedia:se,remixPrompt:E,selectedVariation:Y,timestamp:Date.now()};localStorage.setItem("pendingGeneration",JSON.stringify(B)),D("Login Required","Please sign in to remix content","warning"),e("/auth");return}try{const B=await Fp.checkPrompt(E);if(!B.isAppropriate){D("Content blocked",`${B.reason} - Please revise your remix prompt`,"warning");return}}catch(B){console.error("Content moderation check failed:",B)}Ue(!0),D("Processing Your Media","Creating remix...","processing");try{let B="photo";se&&se.startsWith("data:video/")&&(B="video");const Q=await pt.canGenerate(Ee,C,B,"high");if(!Q.canGenerate){(P=Q.reason)!=null&&P.includes("Daily limit")?D("Daily limit reached",`${Q.remainingTokens||0} tokens remaining`,"warning"):(R=Q.reason)!=null&&R.includes("Rate limited")?D("Too many requests","Please wait 30 seconds between generations","warning"):(_=Q.reason)!=null&&_.includes("Service temporarily unavailable")?D("Service unavailable","High demand - please try again later","error"):D("Remix blocked",Q.reason||"Unable to remix","error"),Ue(!1);return}const Le={prompt:E,type:B,quality:"high",style:St,userId:Ee,userTier:C,imageUrl:se||void 0,videoUrl:se!=null&&se.startsWith("data:video/")?se:void 0,samples:Y},re=await Fb.generateContent(Le);if(re.success&&re.result){if(!((U=re.result)!=null&&U.url)){console.error(" No result URL in remix response:",re),D("Generation Failed","No image returned by service","error");return}const jt=re.result.url||se||c||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgdmlld0JveD0iMCAwIDgwMCA2MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI4MDAiIGhlaWdodD0iNjAwIiBmaWxsPSIjMzMzMzMzIi8+Cjx0ZXh0IHg9IjQwMCIgeT0iMzAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5QbGFjZWhvbGRlciBJbWFnZTwvdGV4dD4KPC9zdmc+",bt=4/3,tn=Math.round(800/bt);re.result.id&&!re.result.id.startsWith("remix_")?(console.log(" Remix auto-saved by server:",re.result.id),D("Saved","Remix added to your profile.","success")):(console.log(" Remix not auto-saved by server"),D("Warning","Remix generated but not saved to profile","warning")),D("Your Media is Ready","Remix generated successfully","complete",jt,"image"),Ei(null),Pi("all"),await pt.generateContent(Ee,C,B,"high",E,"127.0.0.1","browser-device"),console.log("Generated remix result and saved to profile:",re.result)}else(G=re.error)!=null&&G.includes("timeout")?D("Remix timeout","Request took too long - please try again","error"):(X=re.error)!=null&&X.includes("quota")?D("Service limit reached","AI service quota exceeded","error"):(z=re.error)!=null&&z.includes("inappropriate")?D("Content policy violation","Please revise your remix prompt","warning"):D("Remix failed",re.error||"Please try again","error")}catch(B){const Q=B instanceof Error?B.message:"Remix generation failed";Q.includes("network")||Q.includes("fetch")?D("Connection error","Check your internet connection","error"):Q.includes("unauthorized")?D("Authentication error","Please sign in again","error"):D("Remix error",Q,"error")}finally{Ue(!1)}}},[Hd,Mr]=x.useState([]);x.useEffect(()=>{(async()=>{try{const P=await fetch("/.netlify/functions/getPublicFeed",{method:"GET",headers:{"Content-Type":"application/json"}});if(P.ok){const U=((await P.json()).media||[]).map(G=>({id:G.id,userId:G.user_id,type:"photo",url:G.result_url,prompt:G.prompt||"AI Generated Content",aspectRatio:4/3,width:G.width||800,height:G.height||600,timestamp:G.created_at,tokensUsed:2,likes:0,remixCount:0,isPublic:!0,allowRemix:G.allow_remix||!1,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"1.0"}}));Mr(U)}else{console.error("Failed to load public media from database:",P.statusText);const R=await He.getAllUsers(),_=[];for(const G of R){const z=(await He.getUserMedia(G)).filter(B=>B.isPublic);_.push(...z)}const U=_.sort((G,X)=>new Date(X.timestamp).getTime()-new Date(G.timestamp).getTime()).slice(0,50);Mr(U)}}catch(P){console.error("Failed to load public media:",P),Mr([])}})()},[]);const J0=async()=>{try{const S=await fetch("/.netlify/functions/getPublicFeed",{method:"GET",headers:{"Content-Type":"application/json"}});if(S.ok){const _=((await S.json()).media||[]).map(U=>({id:U.id,userId:U.user_id,type:"photo",url:U.result_url,prompt:U.prompt||"AI Generated Content",aspectRatio:4/3,width:U.width||800,height:U.height||600,timestamp:U.created_at,tokensUsed:2,likes:0,remixCount:0,isPublic:!0,allowRemix:U.allow_remix||!1,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"1.0"}}));Mr(_)}else{console.error("Failed to refresh public media from database:",S.statusText);const P=await He.getAllUsers(),R=[];for(const U of P){const X=(await He.getUserMedia(U)).filter(z=>z.isPublic);R.push(...X)}const _=R.sort((U,G)=>new Date(G.timestamp).getTime()-new Date(U.timestamp).getTime()).slice(0,50);Mr(_)}}catch(S){console.error("Failed to refresh public media:",S)}},Ya=S=>{let P=Hd;return Zs&&(P=Hd.filter(R=>R.userId===Zs)),Ti!=="all"&&(P=P.filter(R=>Ti==="images"?R.type==="photo":Ti==="videos"?R.type==="video":!0)),P.slice(0,S).map(R=>({id:parseInt(R.id.replace(/\D/g,""))||Date.now(),label:R.prompt.substring(0,50)+(R.prompt.length>50?"...":""),icon:ri,gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",aspectRatio:R.aspectRatio||1,media:R}))},Ks=50,[q0,ex]=x.useState(!1),tx=!n&&q0,[Qs,Xs]=x.useState(!1),[Ti,Pi]=x.useState("all"),[Zs,Ei]=x.useState(null),[Ha,uN]=x.useState(0),[Js,qs]=x.useState(!1),[eo,Kd]=x.useState(!1);x.useEffect(()=>{const S=P=>{Qs&&!P.target.closest(".filter-dropdown")&&Xs(!1),Js&&!P.target.closest(".user-dropdown")&&qs(!1),eo&&!P.target.closest(".notification-dropdown")&&Kd(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[Qs,Js,eo]);const nx=()=>{if(!wt.current)return;const{scrollTop:S,scrollHeight:P,clientHeight:R}=wt.current;S+R>=P-100&&(!n&&T>=Ks?ex(!0):T<100&&M(_=>Math.min(_+10,100))),n||S>1680&&(qt(!0),wt.current.scrollTo({top:1680-20}))};return a.jsxs("div",{className:"flex min-h-screen bg-black relative",children:[a.jsxs("div",{className:"fixed top-4 right-4 z-40 flex items-center gap-2",children:[a.jsx("button",{onClick:()=>e("/gallery"),className:"flex items-center justify-center w-10 h-10 text-white rounded-full backdrop-blur-sm transition-all duration-300 hover:bg-white/20",title:"Gallery",children:a.jsx(ri,{size:22})}),n&&a.jsxs("div",{className:"relative filter-dropdown",children:[a.jsx("button",{onClick:()=>Xs(!Qs),className:"flex items-center justify-center w-10 h-10 text-white rounded-full backdrop-blur-sm transition-all duration-300 hover:bg-white/20",title:"Filter content",children:a.jsx(U1,{size:18})}),Qs&&a.jsxs("div",{className:"absolute top-12 right-0 rounded-2xl shadow-2xl overflow-hidden min-w-[120px] backdrop-blur-sm",style:{backgroundColor:"#333333"},children:[a.jsxs("button",{onClick:()=>{Pi("images"),Xs(!1)},className:`w-full p-3 text-sm transition-colors flex items-center justify-center gap-2 hover:bg-white/10 hover:rounded-full m-1 ${Ti==="images"?"bg-white/20 text-white rounded-full":"text-white/80"}`,children:[a.jsx(ri,{size:16}),a.jsx("span",{children:"Images"})]}),a.jsxs("button",{onClick:()=>{Pi("videos"),Xs(!1)},className:`w-full p-3 text-sm transition-colors flex items-center justify-center gap-2 hover:bg-white/10 hover:rounded-full m-1 ${Ti==="videos"?"bg-white/20 text-white rounded-full":"text-white/80"}`,children:[a.jsx(Y1,{size:16}),a.jsx("span",{children:"Videos"})]})]})]}),n&&a.jsxs("div",{className:"relative notification-dropdown",children:[a.jsxs("button",{onClick:()=>Kd(!eo),className:"relative flex items-center justify-center w-10 h-10 text-white rounded-full backdrop-blur-sm transition-all duration-300 hover:bg-white/20",title:"Notifications",children:[a.jsx(da,{size:18}),Ha>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Ha})]}),eo&&a.jsx("div",{className:"absolute top-12 right-0 rounded-2xl shadow-2xl overflow-hidden w-80 backdrop-blur-sm",style:{backgroundColor:"#333333"},children:a.jsx("div",{className:"p-4",children:Ha===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(da,{size:48,className:"mx-auto text-white/20 mb-4"}),a.jsx("p",{className:"text-white/60 text-sm",children:"No notifications yet"})]}):a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[a.jsx("p",{className:"text-white text-sm",children:"Sample notification"}),a.jsx("p",{className:"text-white/60 text-xs mt-1",children:"Just now"})]})})})})]}),n?a.jsxs("div",{className:"relative user-dropdown",children:[a.jsx("button",{onClick:()=>qs(!Js),className:"flex items-center justify-center w-10 h-10 text-white rounded-full bg-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-white/20",title:"User menu",children:a.jsx("span",{className:"text-white text-sm font-medium",children:"U"})}),Js&&a.jsxs("div",{className:"absolute top-12 right-0 rounded-2xl shadow-2xl overflow-hidden min-w-[140px] backdrop-blur-sm",style:{backgroundColor:"#333333"},children:[a.jsxs("button",{onClick:()=>{e("/profile"),qs(!1)},className:"w-full px-4 py-3 text-sm text-left transition-colors flex items-center gap-2 text-white/80 hover:bg-white/10 hover:text-white",children:[a.jsx(Fc,{size:16}),"Profile"]}),a.jsxs("button",{onClick:()=>{ae.logout(),r(!1),qs(!1),e("/")},className:"w-full px-4 py-3 text-sm text-left transition-colors flex items-center gap-2 text-white/80 hover:bg-white/10 hover:text-white",children:[a.jsx(cy,{size:16}),"Logout"]})]})]}):a.jsx("button",{onClick:()=>e("/auth"),className:"px-4 py-2 text-black bg-white hover:bg-gray-200 transition-colors rounded-full",children:"Login"})]}),$d.length>0&&a.jsx("div",{className:"fixed top-16 right-4 z-50 space-y-2",children:$d.map(S=>a.jsx("div",{className:`w-80 bg-gray-900 rounded-xl shadow-2xl transition-all duration-300 overflow-hidden ${S.type==="complete"?"cursor-pointer hover:bg-gray-800":""}`,onClick:()=>{S.type==="complete"&&S.mediaUrl&&(e("/profile",{state:{activeTab:"all-media"}}),Wd(S.id))},children:a.jsxs("div",{className:"flex items-center space-x-3 p-3",children:[S.mediaUrl&&a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:S.mediaType==="video"?a.jsx("video",{src:S.mediaUrl,className:"w-full h-full object-cover",muted:!0}):a.jsx("img",{src:S.mediaUrl,alt:"Generated media",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:S.title}),S.type==="complete"&&a.jsx("p",{className:"text-xs text-green-400",children:"Click to view"})]}),a.jsx("button",{onClick:P=>{P.stopPropagation(),Wd(S.id)},className:"flex-shrink-0 text-white/60 hover:text-white transition-colors p-1",children:a.jsx(Ht,{size:14})})]})},S.id))}),a.jsxs("div",{className:"w-[40%] bg-black sticky top-0 h-screen flex flex-col",children:[o==="idle"&&a.jsxs("div",{className:"flex-1 flex items-center justify-center p-6",children:[a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:Gs,className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300 mx-auto relative group animate-pulse-shadow","aria-label":"Upload media",children:a.jsx(B1,{size:28,className:"text-white group-hover:scale-110 transition-transform duration-200"})})}),a.jsx("input",{ref:Ze,type:"file",accept:"image/*,video/*",onChange:Kn,className:"hidden","aria-label":"File input"})]}),(o==="upload"||o==="remix")&&a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"px-8 py-6 pb-10 pt-12 border-b border-white/10",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-white/5",children:a.jsx("img",{src:o==="upload"?c||"":se||"",alt:o==="upload"?"Uploaded media":"Media to remix",className:"w-full h-full object-cover"})}),a.jsx("button",{onClick:oe,className:"absolute top-2 right-2 w-8 h-8 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-black/80 transition-colors","aria-label":"Close and return to upload",children:a.jsx(Ht,{size:16,className:"text-white"})}),o==="remix"&&a.jsx("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx("span",{className:"text-white/80 text-xs font-medium",children:"REMIX"})})]})}),a.jsxs("div",{className:"flex border-b border-white/10",children:[a.jsxs("button",{onClick:()=>y("prompt"),className:`flex-1 py-3 px-4 text-sm font-medium transition-colors relative ${f==="prompt"?"text-white bg-white/5":"text-white/60 hover:text-white/80 hover:bg-white/5"}`,"aria-pressed":f==="prompt",children:["Custom Prompt",f==="prompt"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white"})]}),a.jsxs("button",{onClick:()=>y("aiasabrush"),className:`flex-1 py-3 px-4 text-sm font-medium transition-colors relative ${f==="aiasabrush"?"text-white bg-white/5":"text-white/60 hover:text-white/80 hover:bg-white/5"}`,"aria-pressed":f==="aiasabrush",children:["#AiAsABrush",f==="aiasabrush"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[f==="prompt"&&a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:o==="remix"?E:Nr,onChange:S=>o==="remix"?A(S.target.value):it(S.target.value),placeholder:m||"Transform this image into something amazing...",className:"w-full h-24 p-3 pr-12 rounded-xl bg-white/5 border border-white/20 text-white placeholder-white/40 resize-none text-sm focus:outline-none focus:border-white/50 focus:bg-white/10 transition-all duration-200 backdrop-blur-sm","aria-label":"Enter your prompt",style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}}),a.jsxs("div",{className:"absolute bottom-2 right-2 text-white/40 text-xs",children:[(o==="remix"?E:Nr).length,"/500"]})]})}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("label",{className:"text-white/90 text-xs font-medium",children:"Variations"})}),a.jsx("div",{className:"flex space-x-1",children:[1,2].map(S=>a.jsx("button",{onClick:()=>Ce(S),className:`w-6 h-6 rounded-md flex items-center justify-center text-xs font-semibold transition-all duration-200 ${Y===S?"bg-white text-black shadow-md scale-105":"bg-white/10 text-white/60 hover:bg-white/20 hover:text-white border border-white/20 hover:scale-105"}`,"aria-pressed":Y===S,"aria-label":`Generate ${S} variation${S>1?"s":""}`,children:S},S))})]})}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[c&&!je&&!bi&&a.jsx("button",{onClick:kt,className:"w-12 h-12 bg-white/10 text-white rounded-full hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center border border-white/20 group","aria-label":"Save to Draft",title:"Save to Draft",children:a.jsx(Gr,{size:20})}),a.jsx("button",{onClick:()=>Ib.run(async()=>{o==="remix"?await Yd({source:"remix",auto:!1,userInitiated:!0}):await Wa({source:"custom",auto:!1,userInitiated:!0})}),disabled:je||!Nr.trim()&&!E.trim()||!c&&!se,className:"w-12 h-12 bg-white text-black rounded-full hover:bg-white/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center shadow-lg hover:shadow-xl hover:scale-105 group","aria-label":`Create ${o==="remix"?"remix":"edit"}`,title:`Create ${o==="remix"?"Remix":"Edit"}`,children:je?a.jsx("div",{className:"w-5 h-5 border-2 border-black/20 border-t-black rounded-full animate-spin"}):a.jsx(A1,{size:20})})]})]}),f==="aiasabrush"&&a.jsx("div",{className:"p-3 space-y-3",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-center space-y-2",children:a.jsx("p",{className:"text-white/60 text-sm",children:"Instantly transform with our signature #AiAsABrush presets"})}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:Tr.map(S=>a.jsxs("button",{onClick:()=>Ys(S.id),disabled:je,className:`group relative p-0 rounded-xl border transition-all text-left hover:scale-105 overflow-hidden ${St===S.name?"border-white/60 ring-2 ring-white/30":"border-white/20 hover:border-white/40"} disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100`,"aria-label":`Apply ${S.name} style - ${S.description}`,children:[a.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:S.gradient}}),a.jsxs("div",{className:"relative p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(S.icon,{size:32,className:"text-white"})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("div",{className:"text-white font-semibold text-base truncate",children:S.name})})]}),St===S.name&&a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:a.jsx(ay,{size:14,className:"text-black"})})})]})]},S.id))}),St&&je&&a.jsx("div",{className:"text-center pt-4",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-white/80",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm",children:["Generating with ",St,"..."]})]})})]})})]})]})]}),a.jsx("div",{className:"w-[60%] bg-black",children:a.jsxs("div",{ref:wt,onScroll:nx,className:`p-6 pt-20 ${n?"h-screen overflow-y-auto":tx?"h-screen overflow-hidden":"h-screen overflow-y-auto"}`,children:[Zs&&a.jsxs("div",{className:"mb-4 flex items-center justify-between bg-white/5 backdrop-blur-sm rounded-lg p-3",children:[a.jsxs("span",{className:"text-white/80 text-sm",children:["Showing content by User ",Zs.substring(0,8)]}),a.jsx("button",{onClick:()=>{Ei(null),D("Filter cleared","All content is now visible","info")},className:"text-white/60 hover:text-white text-sm px-2 py-1 rounded hover:bg-white/10 transition-colors",children:"Clear filter "})]}),a.jsx("div",{className:"columns-2 gap-1 mx-auto",style:{maxWidth:"1200px"},children:Ya(Math.min(T,Ks)).map(S=>{var R,_;const P=S.icon;return a.jsx("div",{className:"break-inside-avoid mb-1",children:a.jsx(Ab,{id:S.media?S.media.id:S.id.toString(),type:S.media?S.media.type:"photo",title:S.label,prompt:S.media?S.media.prompt:"AI generated content",gradient:S.gradient,icon:P,creatorName:S.media?`User ${S.media.userId.substring(0,8)}`:`Creator ${S.id}`,isLoggedIn:n,onLike:J,onRemix:(R=S.media)!=null&&R.allowRemix?ce:()=>{},onShare:Re,onDownload:We,onDelete:void 0,onShowAuth:()=>e("/auth"),onFilterAiAsBrush:()=>{D("Filtered to show #AiAsABrush content","info")},onFilterCreator:U=>{var X;const G=(X=S.media)==null?void 0:X.userId;G&&(Ei(G),D(`Showing content by ${U}`,"success"))},onShowMedia:(U,G,X)=>{const z=Ya(Math.min(T,Ks)).map(Q=>({id:Q.media?Q.media.id:Q.id.toString(),url:Q.media?Q.media.url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjEyMDAiIHZpZXdCb3g9IjAgMCA4MDAgMTIwMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3ZnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwMCIgaGVpZ2h0PSIxMjAwIiBmaWxsPSIjMzMzMzMzIi8+Cjx0ZXh0IHg9IjQwMCIgeT0iNjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5QbGFjZWhvbGRlciBJbWFnZTwvdGV4dD4KPC9zdmc+",prompt:Q.media?Q.media.prompt:X||"AI generated content",aspectRatio:Q.aspectRatio})),B=z.findIndex(Q=>Q.id===U);Ba(z),Bs(Math.max(0,B)),gn(!0)},isLiked:Lt.has(S.media?S.media.id:S.id.toString()),likesCount:S.media?S.media.likes_count:0,remixesCount:S.media?S.media.remixes_count:0,isAiAsBrush:S.media?(_=S.media.style)==null?void 0:_.includes("Brush"):S.id%2===0,aspectRatio:S.aspectRatio})},S.id)})})]})}),a.jsx(zd,{isOpen:zs,media:za.map(S=>({id:S.id,userId:Ee,type:"photo",url:S.url,prompt:S.prompt,style:St,aspectRatio:S.aspectRatio,width:800,height:Math.round(800/(S.aspectRatio||1)),timestamp:new Date().toISOString(),tokensUsed:0,likes:0,remixCount:0,isPublic:i.shareToFeed,allowRemix:i.allowRemix,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"v2.0"}})),startIndex:ji,onClose:()=>gn(!1),onLike:S=>J(S.id),onRemix:S=>{gn(!1),e("/",{state:{remixUrl:S.url,remixPrompt:S.prompt||"",source:"home-viewer"}})},onShowAuth:()=>e("/auth")}),a.jsx(X0,{isOpen:dt,onClose:()=>qt(!1),onSignup:()=>e("/auth")})]})},Jb=()=>{const e=Wn();return a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 bg-black/95 backdrop-blur-md border-b border-white/10 z-40",children:a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center space-x-2 text-white hover:text-white/80 transition-colors",children:[a.jsx(kr,{size:20}),a.jsx("span",{children:"Back"})]}),a.jsx("h1",{className:"text-lg font-semibold",children:"Privacy Policy"}),a.jsx("div",{className:"w-20"})," "]})}),a.jsx("div",{className:"pt-20 px-6 pb-20 max-w-4xl mx-auto",children:a.jsxs("div",{className:"prose prose-invert max-w-none",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Privacy Policy"}),a.jsxs("div",{className:"space-y-6 text-white/90",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Interpretation and Definitions"}),a.jsx("p",{className:"mb-4",children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Definitions"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Account"})," means a unique account created for You to access our Service or parts of our Service."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Affiliate"}),' means an entity that controls, is controlled by or is under common control with a party, where "control" means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Platform"}),' (referred to as either "the Platform", "We", "Us" or "Our" in this Agreement) refers to Stefna.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Cookies"})," are small files that are placed on Your computer, mobile device or any other device by a website, containing the details of Your browsing history on that website among its many uses."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Device"})," means any device that can access the Service such as a computer, a cellphone or a digital tablet."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Personal Data"})," is any information that relates to an identified or identifiable individual."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Service"})," refers to the Website, Stefna, an AI-powered photo and video editing platform."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Service Provider"})," means any natural or legal person who processes the data on behalf of the Platform."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Usage Data"})," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Website"})," refers to Stefna, accessible from stefna.xyz"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"You"})," means the individual accessing or using the Service, or the Platform, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Collecting and Using Your Personal Data"}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Types of Data Collected"}),a.jsx("h4",{className:"text-md font-medium mb-2",children:"Personal Data"}),a.jsx("p",{className:"mb-4",children:"While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Email address"}),a.jsx("li",{children:"First name and last name"}),a.jsx("li",{children:"Uploaded Content: Photos and videos uploaded by users, as well as all AI-generated images/videos"}),a.jsx("li",{children:"Usage Data"})]}),a.jsx("h4",{className:"text-md font-medium mb-2 mt-6",children:"Usage Data"}),a.jsx("p",{className:"mb-4",children:"Usage Data is collected automatically when using the Service. Usage Data may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tracking Technologies and Cookies"}),a.jsx("p",{className:"mb-4",children:"We use Cookies and similar tracking technologies to track the activity on Our Service and store certain information. The technologies We use may include:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Cookies or Browser Cookies:"})," A cookie is a small file placed on Your Device. You can instruct Your browser to refuse all Cookies or to indicate when a Cookie is being sent."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Web Beacons:"})," Certain sections of our Service and our emails may contain small electronic files known as web beacons that permit the Platform to count users who have visited those pages or opened an email."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Use of Your Personal Data"}),a.jsx("p",{className:"mb-4",children:"The Platform may use Personal Data for the following purposes:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"To provide and maintain our Service, including to monitor the usage of our Service. This includes storing uploaded content (photos, videos, and AI-generated images/videos) to provide access for the user and enable features like editing and remixing."}),a.jsx("li",{children:"To manage Your Account: to manage Your registration as a user of the Service."}),a.jsx("li",{children:"To contact You: To contact You by email, telephone calls, SMS, or other equivalent forms of electronic communication regarding updates or informative communications related to the functionalities, products or contracted services."}),a.jsx("li",{children:"To provide You with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless You have opted not to receive such information."}),a.jsx("li",{children:"To manage Your requests: To attend and manage Your requests to Us."}),a.jsx("li",{children:"For business transfers: We may use Your information to evaluate or conduct a merger, divestiture, restructuring, reorganization, dissolution, or other sale or transfer of some or all of Our assets."}),a.jsx("li",{children:"For other purposes: We may use Your information for other purposes, such as data analysis, identifying usage trends, determining the effectiveness of our promotional campaigns and to evaluate and improve our Service, products, services, marketing and your experience."})]}),a.jsx("p",{className:"mt-4",children:"All data is used solely for providing, securing, and improving Stefna's services. We do not sell user data to third parties."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Retention of Your Personal Data"}),a.jsx("p",{children:"The Platform will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use Your Personal Data to the extent necessary to comply with our legal obligations, resolve disputes, and enforce our legal agreements and policies."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Transfer of Your Personal Data"}),a.jsx("p",{children:"Your information, including Personal Data, is processed at the Platform's operating offices and in any other places where the parties involved in the processing are located. It means that this information may be transferred to  and maintained on  computers located outside of Your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from Your jurisdiction."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delete Your Personal Data"}),a.jsx("p",{className:"mb-4",children:"You have the right to delete or request that We assist in deleting the Personal Data that We have collected about You. Our Service may give You the ability to delete certain information about You from within the Service."}),a.jsx("p",{children:"You may update, amend, or delete Your information at any time by signing in to Your Account, if you have one, and visiting the account settings section that allows you to manage Your personal information. You may also contact Us to request access to, correct, or delete any personal information that You have provided to Us."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Security of Your Personal Data"}),a.jsx("p",{children:"The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While We strive to use commercially acceptable means to protect Your Personal Data, We cannot guarantee its absolute security. All user content and personal information are stored securely using Supabase's managed infrastructure."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Children's Privacy"}),a.jsx("p",{children:"You must be at least 13 years old to create an account and use Stefna. If you are under the age required by the laws of your country to consent to data processing (e.g., 16 in some jurisdictions), you may only use Stefna with parental consent. If We become aware that We have collected Personal Data from anyone under the age required by the laws of their country to consent to data processing without verification of parental consent, We take steps to remove that information from Our servers."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Us"}),a.jsx("p",{children:"If you have any questions about this Privacy Policy, You can contact us:"}),a.jsx("ul",{className:"list-disc pl-6 mt-2",children:a.jsxs("li",{children:["By email: ",a.jsx("a",{href:"mailto:hello@stefna.xyz",className:"text-blue-400 hover:text-blue-300",children:"hello@stefna.xyz"})]})})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:a.jsx("p",{className:"text-sm text-white/60",children:"Last updated: August 4, 2025"})})]})]})})]})},qb=()=>{const e=Wn();return a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 bg-black/95 backdrop-blur-md border-b border-white/10 z-40",children:a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center space-x-2 text-white hover:text-white/80 transition-colors",children:[a.jsx(kr,{size:20}),a.jsx("span",{children:"Back"})]}),a.jsx("h1",{className:"text-lg font-semibold",children:"Terms of Service"}),a.jsx("div",{className:"w-20"})," "]})}),a.jsx("div",{className:"pt-20 px-6 pb-20 max-w-4xl mx-auto",children:a.jsxs("div",{className:"prose prose-invert max-w-none",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Terms of Service"}),a.jsxs("div",{className:"space-y-6 text-white/90",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Interpretation and Definitions"}),a.jsx("p",{className:"mb-4",children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Definitions"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Affiliate"}),' means an entity that controls, is controlled by or is under common control with a party, where "control" means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Platform"}),' (referred to as either "the Platform", "We", "Us" or "Our" in this Agreement) refers to Stefna, an AI-powered photo and video editing platform.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Device"})," means any device that can access the Service such as a computer, a cellphone or a digital tablet."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Service"})," refers to the Website, Stefna, which provides AI-powered photo and video editing tools through an easy-to-use web interface, with mobile applications launching soon."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Terms and Conditions"}),' (also referred as "Terms") mean these Terms and Conditions that form the entire agreement between You and the Platform regarding the use of the Service.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Third-party Social Media Service"})," means any services or content provided by a third-party that may be displayed, included or made available by the Service."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Website"})," refers to Stefna, accessible from stefna.xyz"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"You"})," means the individual accessing or using the Service, or the Platform, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Acknowledgment"}),a.jsx("p",{className:"mb-4",children:"These are the Terms and Conditions governing the use of this Service and the agreement that operates between You and the Platform. These Terms and Conditions set out the rights and obligations of all users regarding the use of the Service."}),a.jsx("p",{className:"mb-4",children:"Your access to and use of the Service is conditioned on Your acceptance of and compliance with these Terms and Conditions. These Terms and Conditions apply to all visitors, users and others who access or use the Service."}),a.jsx("p",{className:"mb-4",children:"By accessing or using the Service You agree to be bound by these Terms and Conditions. If You disagree with any part of these Terms and Conditions then You may not access the Service."}),a.jsx("p",{className:"mb-4",children:"You must be at least 13 years old to create an account and use Stefna. If you are under the age required by the laws of your country to consent to data processing (e.g., 16 in some jurisdictions), you may only use Stefna with parental consent."}),a.jsx("p",{children:"Your access to and use of the Service is also conditioned on Your acceptance of and compliance with the Privacy Policy of the Platform. Our Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your personal information when You use the Application or the Website and tells You about Your privacy rights and how the law protects You. Please read Our Privacy Policy carefully before using Our Service."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Content"}),a.jsx("p",{children:"By uploading, submitting, or generating content (including photos, videos, and AI-generated images/videos) on Stefna, you grant Stefna a non-exclusive, worldwide, royalty-free license to use, reproduce, modify, adapt, publish, translate, create derivative works from, distribute, and display such content solely for the purpose of providing, securing, and improving Stefna's services, including enabling features like editing and remixing. You represent and warrant that you own or have the necessary licenses, rights, consents, and permissions to use and authorize Stefna to use all intellectual property rights in and to any User Content you upload or generate."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Links to Other Websites"}),a.jsx("p",{className:"mb-4",children:"Our Service may contain links to third-party web sites or services that are not owned or controlled by the Platform. The Platform has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party web sites or services."}),a.jsx("p",{children:"You further acknowledge and agree that the Platform shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with the use of or reliance on any such content, goods or services available on or through any such web sites or services. We strongly advise You to read the terms and conditions and privacy policies of any third-party web sites or services that You visit."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Termination"}),a.jsx("p",{children:"We may terminate or suspend Your access immediately, without prior notice or liability, for any reason whatsoever, including without limitation if You breach these Terms and Conditions. Upon termination, Your right to use the Service will cease immediately."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Limitation of Liability"}),a.jsx("p",{className:"mb-4",children:"Notwithstanding any damages that You might incur, the entire liability of the Platform and any of its suppliers under any provision of this Terms and Your exclusive remedy for all of the foregoing shall be limited to the amount actually paid by You through the Service or 100 USD if You haven't purchased anything through the Service."}),a.jsx("p",{children:"To the maximum extent permitted by applicable law, in no event shall the Platform or its suppliers be liable for any special, incidental, indirect, or consequential damages whatsoever (including, but not limited to, damages for loss of profits, loss of data or other information, for business interruption, for personal injury, loss of privacy arising out of or in any way related to the use of or inability to use the Service, third-party software and/or third-party hardware used with the Service, or otherwise in connection with any provision of this Terms), even if the Platform or any supplier has been advised of the possibility of such damages and even if the remedy fails of its essential purpose."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:'"AS IS" and "AS AVAILABLE" Disclaimer'}),a.jsx("p",{children:'The Service is provided to You "AS IS" and "AS AVAILABLE" and with all faults and defects without warranty of any kind. To the maximum extent permitted under applicable law, the Platform, on its own behalf and on behalf of its Affiliates and its and their respective licensors and service providers, expressly disclaims all warranties, whether express, implied, statutory or otherwise, with respect to the Service, including all implied warranties of merchantability, fitness for a particular purpose, title and non-infringement, and warranties that may arise out of course of dealing, course of performance, usage or trade practice.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Governing Law"}),a.jsx("p",{children:"The laws of the Country, excluding its conflicts of law rules, shall govern this Terms and Your use of the Service. Your use of the Application may also be subject to other local, state, national, or international laws."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Disputes Resolution"}),a.jsx("p",{children:"If You have any concern or dispute about the Service, You agree to first try to resolve the dispute informally by contacting the Platform."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"For European Union (EU) Users"}),a.jsx("p",{children:"If You are a European Union consumer, you will benefit from any mandatory provisions of the law of the country in which You are resident."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"United States Legal Compliance"}),a.jsx("p",{children:'You represent and warrant that (i) You are not located in a country that is subject to the United States government embargo, or that has been designated by the United States government as a "terrorist supporting" country, and (ii) You are not listed on any United States government list of prohibited or restricted parties.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Severability and Waiver"}),a.jsx("p",{className:"mb-4",children:"If any provision of these Terms is held to be unenforceable or invalid, such provision will be changed and interpreted to accomplish the objectives of such provision to the greatest extent possible under applicable law and the remaining provisions will continue in full force and effect."}),a.jsx("p",{children:"Except as provided herein, the failure to exercise a right or to require performance of an obligation under these Terms shall not affect a party's ability to exercise such right or require such performance at any time thereafter nor shall the waiver of a breach constitute a waiver of any subsequent breach."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Translation Interpretation"}),a.jsx("p",{children:"These Terms and Conditions may have been translated if We have made them available to You on our Service. You agree that the original English text shall prevail in the case of a dispute."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Changes to These Terms and Conditions"}),a.jsx("p",{className:"mb-4",children:"We reserve the right, at Our sole discretion, to modify or replace these Terms at any time. If a revision is material We will make reasonable efforts to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at Our sole discretion."}),a.jsx("p",{children:"By continuing to access or use Our Service after those revisions become effective, You agree to be bound by the revised terms. If You do not agree to the new terms, in whole or in part, please stop using the website and the Service."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Us"}),a.jsx("p",{children:"If you have any questions about these Terms and Conditions, You can contact us:"}),a.jsx("ul",{className:"list-disc pl-6 mt-2",children:a.jsxs("li",{children:["By email: ",a.jsx("a",{href:"mailto:hello@stefna.xyz",className:"text-blue-400 hover:text-blue-300",children:"hello@stefna.xyz"})]})})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:a.jsx("p",{className:"text-sm text-white/60",children:"Last updated: August 4, 2025"})})]})]})})]})},eN=()=>{const e=Wn();return a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 bg-black/95 backdrop-blur-md border-b border-white/10 z-40",children:a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center space-x-2 text-white hover:text-white/80 transition-colors",children:[a.jsx(kr,{size:20}),a.jsx("span",{children:"Back"})]}),a.jsx("h1",{className:"text-lg font-semibold",children:"Cookies Policy"}),a.jsx("div",{className:"w-20"})," "]})}),a.jsx("div",{className:"pt-20 px-6 pb-20 max-w-4xl mx-auto",children:a.jsxs("div",{className:"prose prose-invert max-w-none",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Cookies Policy"}),a.jsxs("div",{className:"space-y-6 text-white/90",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Interpretation and Definitions"}),a.jsx("p",{className:"mb-4",children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Definitions"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Platform"}),' (referred to as either "the Platform", "We", "Us" or "Our" in this Cookies Policy) refers to Stefna.']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Cookies"})," means small files that are placed on Your computer, mobile device or any other device by a website, containing details of your browsing history on that website among its many uses."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Website"})," refers to Stefna, accessible from stefna.xyz"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"You"})," means the individual accessing or using the Website, or a Platform, or any legal entity on behalf of which such individual is accessing or using the Website, as applicable."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"The use of the Cookies"}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Type of Cookies We Use"}),a.jsx("p",{className:"mb-4",children:'Cookies can be "Persistent" or "Session" Cookies. Persistent Cookies remain on your personal computer or mobile device when You go offline, while Session Cookies are deleted as soon as You close your web browser. We use both session and persistent Cookies for the purposes set out below:'}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Necessary / Essential Cookies"}),a.jsxs("p",{className:"mb-2 text-sm",children:[a.jsx("strong",{children:"Type:"})," Session Cookies",a.jsx("br",{}),a.jsx("strong",{children:"Administered by:"})," Us",a.jsx("br",{}),a.jsx("strong",{children:"Purpose:"})," These Cookies are essential to provide You with services available through the Website and to enable You to use some of its features. They help to authenticate users and prevent fraudulent use of user accounts. Without these Cookies, the services that You have asked for cannot be provided, and We only use these Cookies to provide You with those services."]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Functionality Cookies"}),a.jsxs("p",{className:"mb-2 text-sm",children:[a.jsx("strong",{children:"Type:"})," Persistent Cookies",a.jsx("br",{}),a.jsx("strong",{children:"Administered by:"})," Us",a.jsx("br",{}),a.jsx("strong",{children:"Purpose:"})," These Cookies allow us to remember choices You make when You use the Website, such as remembering your login details or language preference. The purpose of these Cookies is to provide You with a more personal experience and to avoid You having to re-enter your preferences every time You use the Website."]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Analytics Cookies"}),a.jsxs("p",{className:"mb-2 text-sm",children:[a.jsx("strong",{children:"Type:"})," Persistent Cookies",a.jsx("br",{}),a.jsx("strong",{children:"Administered by:"})," Google Analytics",a.jsx("br",{}),a.jsx("strong",{children:"Purpose:"})," These Cookies are used to collect information about how You use the Service, such as which pages You visit, the time spent on those pages, and user engagement. This data helps Us understand website traffic and improve the Service."]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Advertising Cookies"}),a.jsxs("p",{className:"mb-2 text-sm",children:[a.jsx("strong",{children:"Type:"})," Persistent Cookies",a.jsx("br",{}),a.jsx("strong",{children:"Administered by:"})," Social Media Platforms",a.jsx("br",{}),a.jsx("strong",{children:"Purpose:"})," These Cookies are used by social media pixels/trackers to promote Stefna via various social media platforms for outreach and growth, and to measure the effectiveness of Our advertising campaigns."]})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Choices Regarding Cookies"}),a.jsx("p",{className:"mb-4",children:"If You prefer to avoid the use of Cookies on the Website, first You must disable the use of Cookies in your browser and then delete the Cookies saved in your browser associated with this website. You may use this option for preventing the use of Cookies at any time."}),a.jsx("p",{className:"mb-4",children:"If You do not accept Our Cookies, You may experience some inconvenience in your use of the Website and some features may not function properly."}),a.jsx("p",{className:"mb-4",children:"If You'd like to delete Cookies or instruct your web browser to delete or refuse Cookies, please visit the help pages of your web browser:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsxs("li",{children:["For the Chrome web browser, please visit this page from Google: ",a.jsx("a",{href:"https://support.google.com/accounts/answer/32050",className:"text-blue-400 hover:text-blue-300",target:"_blank",rel:"noopener noreferrer",children:"https://support.google.com/accounts/answer/32050"})]}),a.jsxs("li",{children:["For the Internet Explorer web browser, please visit this page from Microsoft: ",a.jsx("a",{href:"http://support.microsoft.com/kb/278835",className:"text-blue-400 hover:text-blue-300",target:"_blank",rel:"noopener noreferrer",children:"http://support.microsoft.com/kb/278835"})]}),a.jsxs("li",{children:["For the Firefox web browser, please visit this page from Mozilla: ",a.jsx("a",{href:"https://support.mozilla.org/en-US/kb/delete-cookies-remove-info-websites-stored",className:"text-blue-400 hover:text-blue-300",target:"_blank",rel:"noopener noreferrer",children:"https://support.mozilla.org/en-US/kb/delete-cookies-remove-info-websites-stored"})]}),a.jsxs("li",{children:["For the Safari web browser, please visit this page from Apple: ",a.jsx("a",{href:"https://support.apple.com/guide/safari/manage-cookies-and-website-data-sfri11471/mac",className:"text-blue-400 hover:text-blue-300",target:"_blank",rel:"noopener noreferrer",children:"https://support.apple.com/guide/safari/manage-cookies-and-website-data-sfri11471/mac"})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Us"}),a.jsx("p",{children:"If you have any questions about this Cookies Policy, You can contact us:"}),a.jsx("ul",{className:"list-disc pl-6 mt-2",children:a.jsxs("li",{children:["By email: ",a.jsx("a",{href:"mailto:hello@stefna.xyz",className:"text-blue-400 hover:text-blue-300",children:"hello@stefna.xyz"})]})})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:a.jsx("p",{className:"text-sm text-white/60",children:"Last updated: August 4, 2025"})})]})]})})]})},Vl=({media:e,columns:t=3,onMediaClick:n,onDownload:r,onShare:i,onLike:s,onRemix:o,onDelete:l,onEdit:c,showActions:u=!0,className:d="",isLikedMedia:h=!1})=>{const[f,y]=x.useState(null),v=x.useRef(null),w=(p,m)=>{m.stopPropagation(),p()},k=p=>{switch(p){case"video":return a.jsx("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"white",children:a.jsx("path",{d:"M8 5v14l11-7z"})})});case"remix":return a.jsx("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx(an,{size:12,className:"text-white"})});default:return null}};return e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white/40",children:[a.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),a.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),a.jsx("polyline",{points:"21,15 16,10 5,21"})]})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No media found"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Media will appear here"})]}):a.jsx("div",{className:`${d}`,ref:v,children:a.jsx("div",{className:"columns-3 gap-1 mx-auto",style:{maxWidth:"1200px"},children:e.map((p,m)=>a.jsx("div",{className:"break-inside-avoid mb-1 relative group cursor-pointer bg-white/5 rounded-lg overflow-hidden transition-all duration-300 hover:bg-white/10 hover:scale-[1.02]",onMouseEnter:()=>y(p.id),onMouseLeave:()=>y(null),onClick:()=>n==null?void 0:n(p),children:a.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg",style:{aspectRatio:p.aspectRatio||1},children:[p.type==="video"?a.jsx("video",{src:p.url,className:"w-full h-full object-cover",muted:!0,loop:!0,onMouseEnter:g=>g.currentTarget.play(),onMouseLeave:g=>g.currentTarget.pause()}):a.jsx("img",{src:p.url,alt:p.prompt,className:"w-full h-full object-cover",loading:"lazy"}),k(p.type),p.metadata.quality==="high"&&a.jsx("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx("span",{className:"text-white text-xs font-medium",children:"HD"})}),a.jsx("div",{className:`absolute inset-0 bg-black/20 transition-opacity duration-300 ${f===p.id?"opacity-100":"opacity-0"}`}),u&&f===p.id&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"flex space-x-2",children:[r&&a.jsx("button",{onClick:g=>w(()=>r(p),g),className:"w-10 h-10 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",children:a.jsx(_1,{size:16})}),s&&a.jsx("button",{onClick:g=>w(()=>s(p),g),className:"w-10 h-10 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",children:a.jsx(Fn,{size:16,className:h?"text-red-500 fill-red-500":"text-white"})}),o&&a.jsx("button",{onClick:g=>w(()=>o(p),g),className:"w-10 h-10 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",children:a.jsx(an,{size:16})}),i&&a.jsx("button",{onClick:g=>w(()=>i(p),g),className:"w-10 h-10 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",title:"Share",children:a.jsx(Fa,{size:16})}),c&&a.jsx("button",{onClick:g=>w(()=>c(p),g),className:"w-10 h-10 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",title:"Edit",children:a.jsx(Dc,{size:16})}),l&&a.jsx("button",{onClick:g=>w(()=>l(p),g),className:"w-10 h-10 bg-red-500/80 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-red-500 transition-all duration-200",children:a.jsx(dy,{size:16})})]})})]})},p.id))})})},tN=({media:e,columns:t=3,onMediaClick:n,onEdit:r,onDelete:i,showActions:s=!0,className:o=""})=>{const[l,c]=x.useState(null),u=x.useRef(null),d=(h,f)=>{f.stopPropagation(),h()};return e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(Dc,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No drafts found"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Your draft media will appear here"})]}):a.jsx("div",{className:`${o}`,ref:u,children:a.jsx("div",{className:"columns-3 gap-1 mx-auto",style:{maxWidth:"1200px"},children:e.map(h=>a.jsx("div",{className:"break-inside-avoid mb-1 relative group cursor-pointer bg-white/5 rounded-lg overflow-hidden transition-all duration-300 hover:bg-white/10 hover:scale-[1.02]",onMouseEnter:()=>c(h.id),onMouseLeave:()=>c(null),onClick:()=>n==null?void 0:n(h),children:a.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg",style:{aspectRatio:h.aspectRatio||1},children:[h.type==="video"?a.jsx("video",{src:h.url,className:"w-full h-full object-cover",muted:!0,loop:!0,onMouseEnter:f=>f.currentTarget.play(),onMouseLeave:f=>f.currentTarget.pause()}):a.jsx("img",{src:h.url,alt:h.prompt,className:"w-full h-full object-cover",loading:"lazy"}),a.jsx("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx("span",{className:"text-white text-xs font-medium",children:"Draft"})}),a.jsx("div",{className:`absolute inset-0 bg-black/20 transition-opacity duration-300 ${l===h.id?"opacity-100":"opacity-0"}`}),s&&l===h.id&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:f=>d(()=>r==null?void 0:r(h),f),className:"w-10 h-10 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200",title:"Edit",children:a.jsx(Dc,{size:16})}),a.jsx("button",{onClick:f=>d(()=>i==null?void 0:i(h),f),className:"w-10 h-10 bg-red-500/80 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-red-500 transition-all duration-200",title:"Delete",children:a.jsx(dy,{size:16})})]})})]})},h.id))})})},nN=(e,t,n,r="edit")=>{const i={};t&&(r==="remix"?(i.remixUrl=t,n&&(i.remixPrompt=n)):(i.editUrl=t,n&&(i.editPrompt=n))),e("/",{state:i})},rN=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmText:s="Confirm",cancelText:o="Cancel",confirmButtonClass:l="bg-red-500 hover:bg-red-600",cancelButtonClass:c="bg-white/10 hover:bg-white/20"})=>{if(!e)return null;const u=()=>{n(),t()};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-[#111111] rounded-2xl p-6 w-full max-w-md mx-4 border border-white/20",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-white text-lg font-semibold",children:r}),a.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:a.jsx(Ht,{size:20})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-white/80 text-sm",children:i}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:t,className:`px-4 py-2 text-white rounded-lg transition-colors ${c}`,children:o}),a.jsx("button",{onClick:u,className:`px-4 py-2 text-white rounded-lg transition-colors ${l}`,children:s})]})]})]})]})},iN=({onClose:e})=>{const[t,n]=x.useState(""),[r,i]=x.useState("contributor"),[s,o]=x.useState(""),[l,c]=x.useState(!1),[u,d]=x.useState(""),[h,f]=x.useState(""),y=async v=>{v.preventDefault(),c(!0),d(""),f("");try{const w=await fetch("/.netlify/functions/admin-upgrade-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,newTier:r,adminSecret:s})}),k=await w.json();if(!w.ok)throw new Error(k.error||"Failed to upgrade user");d(k.message||"User upgraded successfully!"),n(""),o("")}catch(w){f(w instanceof Error?w.message:"An error occurred")}finally{c(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-[#1a1a1a] border border-white/20 rounded-2xl p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Admin Upgrade"}),a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors",children:""})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/60 text-sm mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:t,onChange:v=>n(v.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/40 focus:bg-white/10",placeholder:"Enter user email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/60 text-sm mb-2",children:"New Tier"}),a.jsxs("select",{value:r,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:border-white/40 focus:bg-white/10",children:[a.jsx("option",{value:"registered",children:"Registered (115 tokens/day)"}),a.jsx("option",{value:"verified",children:"Verified (215 tokens/day)"}),a.jsx("option",{value:"contributor",children:"Contributor (410 tokens/day)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/60 text-sm mb-2",children:"Admin Secret"}),a.jsx("input",{type:"password",value:s,onChange:v=>o(v.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/40 focus:bg-white/10",placeholder:"Enter admin secret",required:!0})]}),u&&a.jsx("div",{className:"p-3 bg-green-500/20 border border-green-500/30 rounded-lg",children:a.jsx("p",{className:"text-green-400 text-sm",children:u})}),h&&a.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:a.jsx("p",{className:"text-red-400 text-sm",children:h})}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:l||!t||!s,className:"flex-1 px-4 py-3 bg-white text-black font-semibold rounded-lg hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Upgrading...":"Upgrade User"})]})]})]})})},sN=()=>{const e=Wn();vi();const[t,n]=x.useState("all-media"),[r,i]=x.useState(!1),[s,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState({name:"User Name",bio:"AI artist exploring the boundaries of creativity ",photo:null,shareToFeed:!0,allowRemix:!1});x.useEffect(()=>{var O;const N=(O=e.location)==null?void 0:O.state;N!=null&&N.activeTab&&n(N.activeTab)},[e]),x.useEffect(()=>{const N=()=>{Y(!0)};return window.addEventListener("openInviteModal",N),()=>{window.removeEventListener("openInviteModal",N)}},[]),x.useEffect(()=>{const N=localStorage.getItem("userProfile");if(N)try{const O=JSON.parse(N);d(q=>({...q,...O}))}catch(O){console.error("Failed to load profile data:",O)}},[]);const[h,f]=x.useState(null),[y,v]=x.useState([]),[w,k]=x.useState([]),[p,m]=x.useState([]),[g,j]=x.useState([]),[b,T]=x.useState(""),[M,C]=x.useState(!0),[$,W]=x.useState(!1),[ie,ke]=x.useState([]),[Ee,Lt]=x.useState(0),[rt,se]=x.useState({open:!1}),[V,E]=x.useState(De.REGISTERED),[A,L]=x.useState(!1),[K,Y]=x.useState(!1),[Ce,Ze]=x.useState(null);x.useState(null);const[wt,dt]=x.useState(0),[qt,zs]=x.useState(!1),[gn,ji]=x.useState([]),Bs=async()=>{try{const N=ae.getCurrentUser(),O=(N==null?void 0:N.id)||"guest-user";if(T(O),N){L(!0);const J={registered:De.REGISTERED,pro:De.VERIFIED,verified:De.VERIFIED,contributor:De.CONTRIBUTOR}[N.tier]||De.REGISTERED;E(J);try{const ce=await pt.getReferralStats(O);Ze(ce);const Re=await pt.getUserUsage(O),kt=J===De.CONTRIBUTOR?410:J===De.VERIFIED?215:115;if(Re.dailyLimit!==kt){await pt.updateUserTier(O,J);const We=await pt.getUserUsage(O);dt(We.dailyLimit-We.dailyUsage)}else dt(Re.dailyLimit-Re.dailyUsage)}catch(ce){console.error("Failed to load referral stats or token count:",ce);const Re=J===De.CONTRIBUTOR?410:J===De.VERIFIED?215:115;dt(Re)}}else L(!1),E(De.REGISTERED);try{const oe=localStorage.getItem("stefna_jwt");if(oe){const J=await fetch("/.netlify/functions/getUserMedia",{method:"GET",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"}});if(J.status===401){console.log("JWT invalid: falling back to local media");const ce=await He.getAllUserMedia(O);v(ce)}else if(J.ok){const kt=((await J.json()).items||[]).map(We=>({id:We.id,userId:We.user_id,type:We.resource_type==="video"?"video":"photo",url:We.result_url||We.url,prompt:We.prompt||"AI Generated Content",aspectRatio:4/3,width:800,height:600,timestamp:We.created_at,tokensUsed:2,likes:0,remixCount:0,isPublic:We.visibility==="public",allowRemix:We.allow_remix||!1,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"1.0"}}));v(kt)}else{console.error("Failed to load user media from database:",J.statusText);const ce=await He.getAllUserMedia(O);v(ce)}}else{console.log("Guest user: skipping getUserMedia server call");const J=await He.getAllUserMedia(O);v(J)}}catch(oe){console.error("Failed to load user media from database:",oe);const J=await He.getAllUserMedia(O);v(J)}const q=y.filter(oe=>oe.type==="remix");k(q),m([]),j([]),C(!1)}catch(N){console.error("Failed to load user media:",N),C(!1)}};x.useEffect(()=>{Bs();const N=()=>{console.log(" ProfileScreen received userMediaUpdated event, refreshing..."),Bs()};return window.addEventListener("userMediaUpdated",N),()=>{window.removeEventListener("userMediaUpdated",N)}},[]);const za=async()=>{try{C(!0);const N=await He.recoverMedia(b);N.length>0?(v(N),je("Media Recovered",`Successfully recovered ${N.length} media items!`,"success")):je("No Media Found","No recoverable media was found.","info")}catch(N){console.error("Failed to recover media:",N),je("Recovery Failed","Failed to recover media. Please try again.","error")}finally{C(!1)}},Ba=N=>{var q;const O=(q=N.target.files)==null?void 0:q[0];if(O){d(J=>({...J,photo:O}));const oe=new FileReader;oe.onload=J=>{var ce;f((ce=J.target)==null?void 0:ce.result)},oe.readAsDataURL(O)}},$s=()=>{const N={...u};u.photo instanceof File&&h&&(N.photo=h),localStorage.setItem("userProfile",JSON.stringify(N)),je("Profile Updated","Your profile has been saved successfully","success"),o(!1)},Nr=()=>{localStorage.removeItem("userProfile"),localStorage.removeItem("token_usage"),localStorage.removeItem("token_generations"),localStorage.removeItem("referral_codes"),ae.logout(),je("Account Deleted","Your account has been permanently deleted","info"),c(!1),setTimeout(()=>{e("/")},1e3)},it=N=>{if(t==="draft")return;const O=t==="liked"?p:t==="remixed"?w:t==="draft"?g:y,q=O.findIndex(oe=>oe.id===N.id);ke(O),Lt(Math.max(0,q)),W(!0)},St=N=>{const O=document.createElement("a");O.href=N.url,O.download=`stefna-${N.id}.jpg`,document.body.appendChild(O),O.click(),document.body.removeChild(O)},Yn=async N=>{try{const O=await fetch("/.netlify/functions/updateMediaVisibility",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("stefna_jwt")||""}`,"Content-Type":"application/json"},body:JSON.stringify({assetId:N.id,visibility:"public",allowRemix:N.allowRemix})});if(O.ok){const q=await O.json();v(oe=>oe.map(J=>J.id===N.id?{...J,isPublic:!0,allowRemix:q.allow_remix}:J)),je("Media Shared","Your media is now public!","success")}else{const q=await O.json();je("Share Failed",q.error||"Failed to share media","error")}}catch(O){console.error("Failed to share media:",O),je("Share Failed","Failed to share media. Please try again.","error")}},je=(N,O,q="info",oe,J,ce)=>{const Re={id:Date.now(),title:N,message:O||"",type:q,timestamp:new Date().toISOString(),mediaUrl:oe,mediaType:J,persistent:ce};ji(kt=>[Re,...kt.slice(0,4)]),!ce&&q!=="error"&&setTimeout(()=>{ji(We=>We.filter(Wa=>Wa.id!==Re.id))},q==="processing"?3e4:q==="system"?1e4:8e3),console.log(`${q.toUpperCase()}: ${N} - ${O}`)},Ue=N=>{ji(O=>O.filter(q=>q.id!==N))},bi=async N=>{if(!ae.isAuthenticated()){je("Login Required","Please sign in to like media","warning"),e("/auth");return}const O=ae.getCurrentUser(),q=(O==null?void 0:O.id)||localStorage.getItem("stefna_guest_id")||"guest-anon",{liked:oe,likes:J}=await He.toggleLike(N.id,q);m(ce=>{const Re=ce.some(kt=>kt.id===N.id);return oe&&!Re?[N,...ce]:!oe&&Re?ce.filter(kt=>kt.id!==N.id):ce}),v(ce=>ce.map(Re=>Re.id===N.id?{...Re,likes:J}:Re))},Cr=N=>{if(!ae.isAuthenticated()){je("Login Required","Please sign in to remix media","warning"),e("/auth");return}W(!1),e("/",{state:{remixUrl:N.url,remixPrompt:N.prompt||"",source:"profile"}})},Ni=N=>{se({open:!0,media:N})},Bd=N=>{nN(e,N.url,N.prompt)},Ws=N=>{se({open:!0,media:N})},[Hn,Tr]=x.useState(""),[Pr,Ci]=x.useState(!1),[Gs,Kn]=x.useState(""),[Ys,Hs]=x.useState(""),$a=async N=>{var q;if(N.preventDefault(),!Hn.trim()){Kn("Please enter an email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Hn)){Kn("Please enter a valid email address");return}Ci(!0),Kn(""),Hs("");try{const J=await(await iu(()=>import("./emailService-2cacca86.js"),[])).default.sendReferralEmail({referrerEmail:((q=ae.getCurrentUser())==null?void 0:q.email)||"",referrerName:u.name,friendEmail:Hn.trim(),referralCode:Ce==null?void 0:Ce.referralCode});if(J.success){if(Hs("Invitation sent successfully!"),Tr(""),Ce){const ce={...Ce,invites:Ce.invites+1};Ze(ce)}je("Invitation Sent","Your friend will receive an email invitation shortly","success")}else Kn(J.error||"Failed to send invitation"),je("Invitation Failed",J.error||"Failed to send invitation","error")}catch(oe){console.error("Failed to send invite:",oe),Kn("Failed to send invitation. Please try again."),je("Invitation Failed","Failed to send invitation. Please try again.","error")}finally{Ci(!1)}},Er=[{id:"all-media",label:"All Media",icon:ri},{id:"liked",label:"Liked",icon:Fn},{id:"remixed",label:"Remixed",icon:an},{id:"draft",label:"Draft",icon:Gr},{id:"notification",label:"Notification",icon:da},{id:"settings",label:"Settings",icon:W1}];return a.jsxs("div",{className:"min-h-screen bg-black flex",children:[a.jsxs("div",{className:"w-[20%] bg-black p-4 pt-20 relative sticky top-0 h-screen overflow-y-auto flex flex-col",children:[a.jsx("button",{onClick:()=>e("/"),className:"absolute top-4 left-4 text-white/60 hover:text-white transition-colors duration-300",title:"Go back",children:a.jsx(kr,{size:20})}),a.jsx("button",{onClick:()=>{ae.logout(),e("/")},className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors duration-300",title:"Logout",children:a.jsx(cy,{size:20})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 rounded-lg text-left transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(V1,{size:16,className:"text-white/60"}),a.jsx("span",{className:"text-xs font-medium text-white/60",children:"Share to Feed"})]}),a.jsx("button",{onClick:()=>{const N=!u.shareToFeed,O={...u,shareToFeed:N,allowRemix:N?u.allowRemix:!1};d(O),localStorage.setItem("userProfile",JSON.stringify(O))},className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors duration-200 ${u.shareToFeed?"bg-white":"bg-white/20"}`,children:a.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-black transition-transform duration-200 ${u.shareToFeed?"translate-x-5":"translate-x-1"}`})})]}),a.jsxs("div",{className:`flex items-center justify-between py-1.5 px-3 rounded-lg text-left transition-all duration-300 ${u.shareToFeed?"":"opacity-50"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(an,{size:16,className:`${u.shareToFeed?"text-white/60":"text-white/30"}`}),a.jsx("span",{className:`text-xs font-medium ${u.shareToFeed?"text-white/60":"text-white/30"}`,children:"Allow Remix"})]}),a.jsx("button",{onClick:()=>{if(u.shareToFeed){const N={...u,allowRemix:!u.allowRemix};d(N),localStorage.setItem("userProfile",JSON.stringify(N))}},disabled:!u.shareToFeed,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors duration-200 ${u.allowRemix&&u.shareToFeed?"bg-white":"bg-white/20"} ${u.shareToFeed?"cursor-pointer":"cursor-not-allowed"}`,children:a.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-black transition-transform duration-200 ${u.allowRemix&&u.shareToFeed?"translate-x-5":"translate-x-1"}`})})]})]}),a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 rounded-lg text-left transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vf,{size:16,className:"text-white/60"}),a.jsx("span",{className:"text-xs font-medium text-white/60",children:"Tokens"})]}),a.jsx("span",{className:"text-white font-semibold",children:wt})]})}),a.jsx("button",{onClick:()=>Y(!0),className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-between text-white/60 hover:text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(G1,{size:16}),a.jsx("span",{className:"text-xs font-medium",children:"Invite Friends"})]})}),Er.map(N=>{const O=N.icon;return a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{N.id==="settings"?i(!r):(n(N.id),i(!1))},className:`w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 ${t===N.id?"bg-white/20 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx(O,{size:16,className:"text-current"})}),a.jsx("span",{className:"text-xs font-medium",children:N.label})]}),N.id==="settings"&&r&&a.jsxs("div",{className:"mt-1 space-y-1",children:[a.jsxs("button",{onClick:()=>o(!0),className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 text-white/60 hover:text-white hover:bg-white/10",children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx(Fc,{size:16,className:"text-current"})}),a.jsx("span",{className:"text-xs font-medium",children:"Edit Profile"})]}),a.jsxs("button",{onClick:za,className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 text-blue-400/60 hover:text-blue-400 hover:bg-blue-500/20",children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx($1,{size:16,className:"text-current"})}),a.jsx("span",{className:"text-xs font-medium",children:"Recover Media"})]}),a.jsxs("button",{onClick:()=>zs(!0),className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 text-yellow-400/60 hover:text-yellow-400 hover:bg-yellow-500/20",children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx(vf,{size:16,className:"text-current"})}),a.jsx("span",{className:"text-xs font-medium",children:"Admin Upgrade"})]}),a.jsxs("button",{onClick:()=>c(!0),className:"w-full py-1.5 px-3 rounded-lg text-left transition-all duration-300 flex items-center justify-start space-x-3 text-red-400/60 hover:text-red-400 hover:bg-red-500/20",children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 flex-shrink-0",children:a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-current",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),a.jsx("span",{className:"text-xs font-medium",children:"Delete Account"})]})]})]},N.id)})]})}),a.jsx("div",{className:"mt-auto",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"py-2 px-3",children:a.jsx("img",{src:"/logo.png",alt:"Stefna Logo",className:"h-8 w-auto"})}),a.jsx("div",{className:"py-2 px-3",children:a.jsx("span",{className:"text-xs font-medium text-white/60",children:"Legal"})}),a.jsxs("div",{className:"flex items-center space-x-2 px-3",children:[a.jsx("button",{onClick:()=>e("/privacy"),className:"w-6 h-6 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Privacy Policy",children:a.jsx(uy,{size:16,className:"text-white"})}),a.jsx("button",{onClick:()=>e("/terms"),className:"w-6 h-6 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Terms of Service",children:a.jsx(Gr,{size:16,className:"text-white"})}),a.jsx("button",{onClick:()=>e("/cookies"),className:"w-6 h-6 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300",title:"Cookies Policy",children:a.jsx(ly,{size:16,className:"text-white"})})]}),a.jsx("div",{className:"py-2 px-3",children:a.jsx("span",{className:"text-xs font-medium text-white/60",children:"Social Media"})}),a.jsxs("div",{className:"flex items-center space-x-2 px-3",children:[a.jsx("a",{href:"https://www.instagram.com/stefnaxyz/",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"Instagram",children:a.jsx(hy,{className:"text-white"})}),a.jsx("a",{href:"https://x.com/StefnaXYZ",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"X",children:a.jsx(fy,{className:"text-white"})}),a.jsx("a",{href:"https://www.facebook.com/Stefnaxyz",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"Facebook",children:a.jsx(py,{className:"text-white"})}),a.jsx("a",{href:"https://www.tiktok.com/@stefnaxyz",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"TikTok",children:a.jsx(my,{className:"text-white"})}),a.jsx("a",{href:"https://www.threads.net/@stefnaxyz",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"Threads",children:a.jsx(gy,{className:"text-white"})}),a.jsx("a",{href:"https://www.youtube.com/channel/UCNBAWuWc8luYN8F0dIXX0RA",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 rounded-full flex items-center justify-center hover:opacity-90",title:"YouTube",children:a.jsx(yy,{className:"text-white"})})]})]})})]}),a.jsxs("div",{className:"w-[80%] bg-black h-screen overflow-y-auto flex flex-col relative",children:[gn.length>0&&a.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",style:{right:"20%"},children:gn.slice(0,3).map(N=>a.jsx("div",{className:`max-w-sm bg-gray-900 rounded-2xl shadow-2xl transition-all duration-300 overflow-hidden ${N.type==="complete"?"cursor-pointer hover:bg-gray-800":""}`,onClick:()=>{N.type==="complete"&&N.mediaUrl&&console.log("Opening completed media:",N.mediaUrl)},children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:N.title}),N.message&&a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:N.message})]}),a.jsx("button",{onClick:O=>{O.stopPropagation(),Ue(N.id)},className:"text-gray-400 hover:text-white transition-colors ml-2",children:a.jsx(Ht,{size:16})})]}),N.mediaUrl&&a.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[a.jsx("img",{src:N.mediaUrl,alt:"Generated content",className:"w-12 h-12 rounded-lg object-cover"}),N.type==="complete"&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ay,{size:16,className:"text-green-400"}),a.jsx("span",{className:"text-xs text-gray-300",children:"Ready to view"})]})]})]})},N.id))}),t==="all-media"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:M?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6 animate-pulse",children:a.jsx(ri,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"Loading your media..."})]}):y.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(ri,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No media yet"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Your created media will appear here"})]}):a.jsx(Vl,{media:y,columns:3,onMediaClick:it,onDownload:St,onShare:Yn,onRemix:Cr,onDelete:Ni,showActions:!0,className:"pb-20"})}),t==="liked"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:M?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6 animate-pulse",children:a.jsx(Fn,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"Loading your liked media..."})]}):p.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(Fn,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No liked media yet"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Like media to see it here"})]}):a.jsx(Vl,{media:p,columns:3,onMediaClick:it,onDownload:St,onShare:Yn,onLike:bi,onRemix:Cr,showActions:!0,className:"pb-20",isLikedMedia:!0})}),t==="remixed"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:M?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6 animate-pulse",children:a.jsx(an,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"Loading your remixes..."})]}):w.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(an,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No remixes yet"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Your remixed media will appear here"})]}):a.jsx(Vl,{media:w,columns:3,onMediaClick:it,onDownload:St,onShare:Yn,onRemix:Cr,onDelete:Ni,showActions:!0,className:"pb-20"})}),t==="draft"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:M?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6 animate-pulse",children:a.jsx(Gr,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"Loading your drafts..."})]}):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(Gr,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No drafts yet"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Your draft media will appear here"})]}):a.jsx(tN,{media:g,columns:3,onMediaClick:it,onEdit:Bd,onDelete:Ws,showActions:!0,className:"pb-20"})}),t==="notification"&&a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:gn.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-6",children:a.jsx(da,{size:48,className:"text-white/40"})}),a.jsx("p",{className:"text-white/60 text-lg text-center",children:"No notifications yet"}),a.jsx("p",{className:"text-white/40 text-sm text-center mt-2",children:"Notifications will appear here"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-white text-xl font-semibold mb-6",children:"Notifications"}),gn.map(N=>a.jsx("div",{className:`bg-white/10 backdrop-blur-sm rounded-2xl p-4 border transition-all duration-300 hover:bg-white/15 ${N.type==="complete"?"cursor-pointer hover:bg-white/20":""} ${N.type==="error"?"border-red-500/30":N.type==="warning"?"border-yellow-500/30":N.type==="success"?"border-green-500/30":"border-white/20"}`,onClick:()=>{N.type==="complete"&&N.mediaUrl&&console.log("Opening completed media:",N.mediaUrl)},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${N.type==="error"?"bg-red-500":N.type==="warning"?"bg-yellow-500":N.type==="success"?"bg-green-500":N.type==="complete"?"bg-blue-500":"bg-white/60"}`}),a.jsx("span",{className:"text-white font-medium text-sm",children:N.title}),a.jsx("span",{className:"text-white/40 text-xs",children:new Date(N.timestamp).toLocaleTimeString()})]}),N.message&&a.jsx("p",{className:"text-white/70 text-sm",children:N.message}),N.mediaUrl&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:N.mediaUrl,alt:"Generated content",className:"w-16 h-16 rounded-lg object-cover"})})]}),a.jsx("button",{onClick:O=>{O.stopPropagation(),Ue(N.id)},className:"text-white/40 hover:text-white transition-colors ml-2",children:a.jsx(Ht,{size:16})})]})},N.id))]})}),a.jsx(zd,{isOpen:$,media:ie,startIndex:Ee,onClose:()=>W(!1),onLike:N=>bi(N),onRemix:N=>Cr(N),onShowAuth:()=>e("/auth")})]}),a.jsx(rN,{isOpen:rt.open,title:"Delete media?",message:"This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onClose:()=>se({open:!1}),onConfirm:async()=>{if(rt.media)if(g.some(O=>{var q;return O.id===((q=rt.media)==null?void 0:q.id)}))j(O=>O.filter(q=>{var oe;return q.id!==((oe=rt.media)==null?void 0:oe.id)})),je("Draft Deleted","Draft removed from collection","info");else{await He.deleteMedia(b,rt.media.id);const O=await He.getAllUserMedia(b);v(O)}se({open:!1})}}),s&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>o(!1)}),a.jsxs("div",{className:"relative bg-[#222222] border border-white/20 rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[a.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:a.jsx(Ht,{size:24})}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-white/10 flex items-center justify-center",children:h?a.jsx("img",{src:h,alt:"Profile preview",className:"w-full h-full object-cover"}):a.jsx(Fc,{size:32,className:"text-white/40"})}),a.jsxs("label",{className:"absolute bottom-0 right-0 w-8 h-8 bg-white rounded-full flex items-center justify-center cursor-pointer hover:bg-white/90 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),a.jsx("input",{type:"file",accept:"image/*",onChange:Ba,className:"hidden"})]})]})})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Name"}),a.jsx("input",{type:"text",value:u.name,onChange:N=>d(O=>({...O,name:N.target.value})),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/40",placeholder:"Enter your name"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:$s,className:"w-full bg-white text-black font-semibold py-3 rounded-xl hover:bg-white/90 transition-colors",children:"Save Changes"}),a.jsx("button",{onClick:()=>o(!1),className:"w-full bg-white/5 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors border border-white/20",children:"Cancel"})]})]})]}),l&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>c(!1)}),a.jsxs("div",{className:"relative bg-[#222222] border border-white/20 rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[a.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:a.jsx(Ht,{size:24})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),a.jsx("h1",{className:"text-xl font-bold text-white mb-2",children:"Delete Account"}),a.jsx("p",{className:"text-white/60",children:"This action cannot be undone"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:Nr,className:"w-full bg-red-500 text-white font-semibold py-3 rounded-xl hover:bg-red-600 transition-colors",children:"Delete Account Permanently"}),a.jsx("button",{onClick:()=>c(!1),className:"w-full bg-white/5 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors border border-white/20",children:"Cancel"})]})]})]}),K&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>Y(!1)}),a.jsxs("div",{className:"relative bg-[#222222] border border-white/20 rounded-2xl max-w-lg w-full p-8 shadow-2xl",children:[a.jsx("button",{onClick:()=>Y(!1),className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:a.jsx(Ht,{size:24})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-white text-xl font-bold mb-3",children:"Invite Friends"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Share Stefna with your friends via email"})]}),A&&Ce?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-semibold mb-2 text-sm",children:"You get"}),a.jsx("p",{className:"text-white/60 text-sm",children:"+50 bonus tokens for each friend who signs up"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-semibold mb-2 text-sm",children:"Your friends get"}),a.jsx("p",{className:"text-white/60 text-sm",children:"+25 bonus tokens when they sign up with your invite"})]}),a.jsxs("form",{onSubmit:$a,className:"space-y-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("label",{className:"text-white/60 text-sm mb-3 block",children:"Friend's Email"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"email",value:Hn,onChange:N=>Tr(N.target.value),className:"flex-1 bg-transparent text-white placeholder-white/40 focus:outline-none border-b border-white/20 focus:border-white/40 pb-2",placeholder:"Enter friend's email address",disabled:Pr,required:!0}),a.jsx("button",{type:"submit",disabled:Pr||!Hn.trim(),className:"bg-white text-black font-semibold py-2 px-5 rounded-lg hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Pr?"Sending...":"Send"})]})]}),Gs&&a.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:a.jsx("p",{className:"text-red-400 text-sm",children:Gs})}),Ys&&a.jsx("div",{className:"bg-white/10 border border-white/20 rounded-lg p-3 text-center",children:a.jsx("p",{className:"text-white text-sm",children:Ys})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-xl font-bold text-white",children:Ce.invites}),a.jsx("div",{className:"text-white/60 text-xs mt-1",children:"Friends Invited"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-xl font-bold text-white",children:Ce.tokensEarned}),a.jsx("div",{className:"text-white/60 text-xs mt-1",children:"Tokens Earned"})]})]})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx("p",{className:"text-white/60 mb-4",children:"Sign up to unlock the invite system!"}),a.jsx("button",{onClick:()=>{Y(!1),e("/auth")},className:"bg-white text-black font-semibold py-2 px-6 rounded-xl hover:bg-white/90 transition-all duration-300",children:"Sign Up Now"})]})]})]}),qt&&a.jsx(iN,{onClose:()=>zs(!1)})]})},oN=({media:e=[],title:t="Gallery"})=>{const n=Wn(),[r,i]=x.useState(null),[s,o]=x.useState(new Set),[l,c]=x.useState({}),[u,d]=x.useState({}),h=x.useRef(null),[f,y]=x.useState(!1),[v,w]=x.useState(0),[k,p]=x.useState(!1),[m,g]=x.useState(!1),[j,b]=x.useState(e),[T,M]=x.useState(null),C=x.useMemo(()=>T?j.filter(V=>V.userId===T):j,[j,T]);x.useEffect(()=>{(async()=>{g(!0);try{const E=await fetch("/.netlify/functions/getPublicFeed",{method:"GET",headers:{"Content-Type":"application/json"}});if(E.ok){const K=((await E.json()).media||[]).map(Y=>({id:Y.id,userId:Y.user_id,type:"photo",url:Y.result_url,prompt:Y.prompt||"AI Generated Content",aspectRatio:4/3,width:Y.width||800,height:Y.height||600,timestamp:Y.created_at,tokensUsed:2,likes:0,remixCount:0,isPublic:!0,allowRemix:Y.allow_remix||!1,tags:[],metadata:{quality:"high",generationTime:0,modelVersion:"1.0"}}));b(K)}else{console.error("Failed to load public media from database:",E.statusText);const A=await He.getAllUsers(),L=[];for(const Y of A){const Ze=(await He.getUserMedia(Y)).filter(wt=>wt.isPublic);L.push(...Ze)}const K=L.sort((Y,Ce)=>new Date(Ce.timestamp).getTime()-new Date(Y.timestamp).getTime());b(K)}}catch(E){console.error("Failed to load public media:",E),b([])}finally{g(!1)}})()},[]),x.useEffect(()=>{const V={},E={};j.forEach(A=>{V[A.id]=A.likes_count??0,E[A.id]=A.remixes_count??0}),c(V),d(E)},[j]);const $=V=>{const A=new Array(3).fill(0),L=Array.from({length:3},()=>[]);return V.forEach(K=>{const Y=A.indexOf(Math.min(...A));L[Y].push(K),A[Y]+=1/(K.aspectRatio||1)}),L},W=x.useMemo(()=>$(C),[C]);x.useEffect(()=>{const V=h.current;if(!V)return;const E=()=>{const{scrollTop:A,scrollHeight:L,clientHeight:K}=V;A+K>=L-100&&console.log("Loading more content...")};return V.addEventListener("scroll",E),()=>V.removeEventListener("scroll",E)},[]);const ie=()=>{n(-1)},ke=(V,E)=>{E.stopPropagation(),V()},Ee=async V=>{if(!ae.isAuthenticated()){alert("Login Required: Please sign in to like media"),n("/auth");return}const E=localStorage.getItem("stefna_guest_id")||"guest-anon",{liked:A,likes:L}=await He.toggleLike(V.id,E);o(K=>{const Y=new Set(K);return A?Y.add(V.id):Y.delete(V.id),Y}),c(K=>({...K,[V.id]:L}))},Lt=async V=>{if(!ae.isAuthenticated()){alert("Login Required: Please sign in to remix media"),n("/auth");return}await He.incrementRemixCount(V.id),d(E=>({...E,[V.id]:(E[V.id]??0)+1})),n("/",{state:{remixUrl:V.url,remixPrompt:V.prompt||"",source:"gallery"}})},rt=async V=>{if(!ae.isAuthenticated()){alert("Login Required: Please sign in to share media"),n("/auth");return}alert(`Sharing media with ID: ${V.id}`),console.log("Sharing media with ID:",V.id)},se=V=>{switch(V){case"video":return a.jsx("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"white",children:a.jsx("path",{d:"M8 5v14l11-7z"})})});case"remix":return a.jsx("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm rounded px-2 py-1",children:a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",className:"text-white",children:a.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})});default:return null}};return j.length===0?a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("button",{onClick:ie,className:"fixed top-6 left-6 z-50 flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:a.jsx(kr,{size:20})}),a.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[a.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mb-4",children:a.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white/40",children:[a.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),a.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),a.jsx("polyline",{points:"21,15 16,10 5,21"})]})}),a.jsx("p",{className:"text-white/60 text-center",children:"No media found in gallery"})]})]}):a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("button",{onClick:ie,className:"fixed top-6 left-6 z-50 flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:a.jsx(kr,{size:20})}),a.jsx("div",{className:"p-6 pt-24",children:a.jsx("div",{className:"flex gap-1 justify-center",ref:h,children:W.map((V,E)=>a.jsx("div",{className:"flex flex-col gap-1",style:{flex:1},children:V.map(A=>a.jsx("div",{className:"relative cursor-pointer bg-white/5 overflow-hidden",onMouseEnter:()=>i(A.id),onMouseLeave:()=>i(null),onClick:()=>{const L=C.findIndex(K=>K.id===A.id);w(Math.max(0,L)),y(!0)},children:a.jsxs("div",{className:"relative overflow-hidden",style:{aspectRatio:A.aspectRatio},children:[A.type==="video"?a.jsx("video",{src:A.url,className:"w-full h-full object-cover",muted:!0,loop:!0,onMouseEnter:L=>L.currentTarget.play(),onMouseLeave:L=>L.currentTarget.pause()}):a.jsx("img",{src:A.url,alt:A.prompt,className:"w-full h-full object-cover",loading:"lazy"}),se(A.type),a.jsx("div",{className:"absolute bottom-3 left-3",children:a.jsx("button",{onClick:L=>ke(()=>console.log("Filter by creator"),L),className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-white/20 flex items-center justify-center hover:bg-white/10 transition-all duration-300",title:"Creator",children:a.jsx("span",{className:"text-white/80 text-xs font-medium",children:"U"})})}),a.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-4",children:[a.jsx("button",{onClick:L=>ke(()=>rt(A),L),className:"w-8 h-8 flex items-center justify-center focus:outline-none active:transform-none",title:"Share",children:a.jsx(Fa,{size:16,className:"text-white"})}),a.jsxs("div",{className:"flex items-center space-x-0.5",children:[l[A.id]>0&&a.jsx("span",{className:"text-white/60 text-sm",children:l[A.id]}),a.jsx("button",{onClick:L=>ke(()=>Ee(A),L),className:"w-8 h-8 flex items-center justify-center focus:outline-none active:transform-none",title:"Like",children:a.jsx(Fn,{size:16,className:`${s.has(A.id)?"text-red-500 fill-red-500":"text-white"}`})})]}),a.jsx("div",{className:"flex items-center space-x-0.5",children:a.jsxs("div",{className:"relative",children:[u[A.id]>0&&a.jsx("span",{className:"text-white/60 text-sm mr-0.5",children:u[A.id]}),a.jsx("button",{onClick:L=>ke(()=>Lt(A),L),className:"w-8 h-8 flex items-center justify-center focus:outline-none active:transform-none",title:"REMIX",children:a.jsx(an,{size:14,className:"text-white"})})]})})]})]})},A.id))},E))})}),a.jsx(X0,{isOpen:k,onClose:()=>p(!1),onSignup:()=>n("/auth")}),a.jsx(zd,{isOpen:f,media:C,startIndex:v,onClose:()=>y(!1),onLike:V=>Ee(V),onRemix:V=>{y(!1),n("/",{state:{remixUrl:V.url,remixPrompt:V.prompt||"",source:"gallery"}})},onShowAuth:()=>n("/auth")})]})},aN=()=>{const e=Wn(),[t,n]=x.useState(""),[r,i]=x.useState(""),[s,o]=x.useState("email"),[l,c]=x.useState(!1),[u,d]=x.useState(""),[h,f]=x.useState(""),y=async k=>{k.preventDefault(),c(!0),d("");try{const p=await fetch("/.netlify/functions/request-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),m=await p.json();p.ok?(f("Login code sent to your email!"),o("otp")):d(m.error||"Failed to send code")}catch{d("Network error. Please try again.")}finally{c(!1)}},v=async k=>{k.preventDefault(),c(!0),d("");try{const p=await fetch("/.netlify/functions/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,otp:r})}),m=await p.json();if(p.ok){const g=m.token||"temp-token",j=m.user;ae.setAuthState(g,j),f("Login successful!"),setTimeout(()=>{e("/")},600)}else d(m.error||"Invalid code")}catch{d("Network error. Please try again.")}finally{c(!1)}},w=()=>{o("email"),i(""),d(""),f("")};return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("img",{src:"/logo.png",alt:"Stefna",className:"w-16 h-16 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:s==="email"?"Sign in to Stefna":"Enter Login Code"}),a.jsx("p",{className:"text-white/60",children:s==="email"?"Enter your email to receive a login code":`We sent a 6-digit code to ${t}`})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/20 rounded-2xl p-8",children:[s==="email"?a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(z1,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),a.jsx("input",{type:"email",value:t,onChange:k=>n(k.target.value),placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/40 focus:bg-white/10",required:!0})]})]}),a.jsx("button",{type:"submit",disabled:l||!t,className:`w-full py-3 rounded-lg font-medium text-sm transition-all duration-300 flex items-center justify-center space-x-2 ${t&&!l?"bg-white text-black hover:bg-white/90":"bg-white/10 text-white/40 cursor-not-allowed"}`,children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black/20 border-t-black rounded-full animate-spin"}),a.jsx("span",{children:"Sending..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Get Login Code"}),a.jsx(yf,{size:16})]})})]}):a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Login Code"}),a.jsx("input",{type:"text",value:r,onChange:k=>i(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter 6-digit code",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/40 focus:bg-white/10 text-center text-lg tracking-widest",maxLength:6,required:!0})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{type:"submit",disabled:l||r.length!==6,className:`w-full py-3 rounded-lg font-medium text-sm transition-all duration-300 flex items-center justify-center space-x-2 ${r.length===6&&!l?"bg-white text-black hover:bg-white/90":"bg-white/10 text-white/40 cursor-not-allowed"}`,children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black/20 border-t-black rounded-full animate-spin"}),a.jsx("span",{children:"Verifying..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Sign In"}),a.jsx(yf,{size:16})]})}),a.jsxs("button",{type:"button",onClick:w,disabled:l,className:"w-full py-3 rounded-lg font-medium text-sm transition-all duration-300 flex items-center justify-center space-x-2 bg-white/5 text-white hover:bg-white/10",children:[a.jsx(kr,{size:16}),a.jsx("span",{children:"Back to Email"})]})]})]}),u&&a.jsxs("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center space-x-2",children:[a.jsx(H1,{size:16,className:"text-red-400"}),a.jsx("span",{className:"text-red-400 text-sm",children:u})]}),h&&a.jsxs("div",{className:"mt-4 p-3 bg-white/10 border border-white/20 rounded-lg flex items-center justify-center space-x-2",children:[a.jsx(L1,{size:16,className:"text-white"}),a.jsx("span",{className:"text-white text-sm",children:h})]})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsx("button",{onClick:()=>e("/"),className:"text-white/60 hover:text-white text-sm",children:" Back to Home"})})]})})},lN=()=>{const t=vi().pathname.startsWith("/profile");return a.jsxs("div",{className:"min-h-screen bg-black pb-16",children:[a.jsx("div",{children:a.jsxs(N1,{children:[a.jsx(vn,{path:"/",element:a.jsx(Zb,{})}),a.jsx(vn,{path:"/auth",element:a.jsx(aN,{})}),a.jsx(vn,{path:"/profile",element:a.jsx(sN,{})}),a.jsx(vn,{path:"/gallery",element:a.jsx(oN,{})}),a.jsx(vn,{path:"/privacy",element:a.jsx(Jb,{})}),a.jsx(vn,{path:"/terms",element:a.jsx(qb,{})}),a.jsx(vn,{path:"/cookies",element:a.jsx(eN,{})})]})}),!t&&a.jsx(K1,{}),a.jsx(Pb,{isOpen:!1,onClose:()=>{},feature:""})]})},cN=()=>a.jsx(P1,{children:a.jsx(lN,{})});Ol.createRoot(document.getElementById("root")).render(a.jsx(Ar.StrictMode,{children:a.jsx(cN,{})}));
